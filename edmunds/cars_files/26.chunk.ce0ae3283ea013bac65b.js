(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"./site-modules/shared/components/sponsorship-link/sponsorship-link.jsx":function(e,s,a){"use strict";a.d(s,"a",function(){return S});a("../node_modules/core-js/modules/es6.regexp.replace.js");var t=a("../node_modules/lodash/has.js"),l=a.n(t),o=a("../node_modules/react/index.js"),r=a.n(o),n=a("../node_modules/prop-types/index.js"),i=a.n(n),d=a("../node_modules/react-redux/es/index.js"),c=a("../node_modules/classnames/index.js"),p=a.n(c),m=a("./site-modules/shared/components/feature-flag/feature-flag.jsx"),u=a("./site-modules/shared/components/client-side-render/client-side-render.jsx"),h=a("./site-modules/shared/components/impression-tracker/impression-tracker.jsx");function b(e){const s=e.children;return e.isClientSideRender?r.a.createElement(u.a,null,s):s}function g(e,s){let a;return s&&l()(e,"mobile")?a=e.mobile:l()(e,"wired")&&(a=e.wired),a}function y(e){const s=e.name,a=e.nicename,t=e.trackingId,l=e.isMobile,o=e.link,n=e.global,i=e.classes,d=e.isClientSideRender,c=e.hideForExampleAbbreviation,u=e.hideImpressionTracker;let y;const S=y=e.hasGlobalNavTracking?g(n,l):g(o,l)||e,k=S.modelURL,C=S.impressionTracker1,v=S.impressionTracker2,f=S.impressionTrackers;if(!k)return null;const j=Date.now();return r.a.createElement(b,{isClientSideRender:d},r.a.createElement(m.a,{name:"ads"},r.a.createElement("div",{className:p()("sponsorship-link",i)},!c&&r.a.createElement("span",null,"e.g. "),r.a.createElement("a",{href:k.replace("[timestamp]",j),"data-tracking-id":t,"data-tracking-value":a},s),r.a.createElement(b,{isClientSideRender:!0},r.a.createElement("span",{className:p()({"d-none":u})},f?f.map(e=>r.a.createElement(h.a,{key:e,src:e})):[r.a.createElement(h.a,{key:"impressionTracker1",src:`${C}&sponsor-link`}),r.a.createElement(h.a,{key:"impressionTracker2",src:v})])))))}b.propTypes={children:i.a.node.isRequired,isClientSideRender:i.a.bool},b.defaultProps={isClientSideRender:!0},y.propTypes={name:i.a.string,nicename:i.a.string,modelURL:i.a.string,impressionTracker1:i.a.string,impressionTracker2:i.a.string,impressionTrackers:i.a.arrayOf(i.a.string),trackingId:i.a.string,link:i.a.shape({wired:i.a.object,mobile:i.a.object}),global:i.a.shape({wired:i.a.object,mobile:i.a.object}),classes:i.a.string,isMobile:i.a.bool,isClientSideRender:i.a.bool,hideForExampleAbbreviation:i.a.bool,hideImpressionTracker:i.a.bool,hasGlobalNavTracking:i.a.bool},y.defaultProps={name:"",nicename:"",modelURL:"",impressionTracker1:"",impressionTracker2:"",impressionTrackers:null,trackingId:"",link:{},global:{},classes:"h6 mb-0 pt-0_25 col-12",isMobile:!1,isClientSideRender:!0,hideForExampleAbbreviation:!1,hideImpressionTracker:!1,hasGlobalNavTracking:!1};const S=Object(d.c)(e=>({isMobile:e.mobile}))(y)},"./site-modules/shared/components/vehicle-dropdowns/style-dropdown.jsx":function(e,s,a){"use strict";a.d(s,"a",function(){return S}),a.d(s,"c",function(){return k}),a.d(s,"b",function(){return C}),a.d(s,"d",function(){return v});var t=a("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),l=(a("../node_modules/core-js/modules/es6.regexp.split.js"),a("../node_modules/lodash/orderBy.js")),o=a.n(l),r=a("../node_modules/lodash/filter.js"),n=a.n(r),i=a("../node_modules/lodash/toArray.js"),d=a.n(i),c=a("./data/luckdragon/redux/react-binding.jsx"),p=a("./data/models/vehicle.js"),m=a("./site-modules/shared/components/select/select.jsx"),u=a("./site-modules/shared/components/styled-select/styled-select.jsx"),h=a("../node_modules/react-redux/es/index.js"),b=a("./site-modules/shared/components/vehicle-dropdowns/constants.js");const g=(e,s)=>{const a=s.options,t=void 0===a?[]:a,l=s.value;if(!s.styleIds)return{};const o=((e,s)=>{const a=s.styleIds.split(",").map(e=>parseInt(e,10));return n()(e,e=>a.includes(e.id))})(t,s);let r="";return 1!==o.length||l?t.some(e=>e.slug===l)&&(r=l):(r=o[0].slug,s.onChange(o[0])),{value:r,options:o.length>1?o:t}},y={options:Object(c.a)(e=>{const s=e.make,a=e.model,t=e.submodel,l=e.year;let o=null;return s&&a&&t&&l?o=Object(p.z)({make:s.slug,model:a.slug,submodel:t.slug,year:l.year}):s&&a&&l&&(o=Object(p.z)({make:s.slug,model:a.slug,year:l.year})),o},p.c,e=>o()(d()(e),"name"))},S=Object(c.b)(m.a,y),k=Object(c.b)(u.a,y),C=Object(c.b)(Object(h.c)(g)(Object(c.b)(m.a,{})),y),v=Object(c.b)(Object(h.c)(g)(Object(c.b)(u.a,{})),y),f={name:"select-style",toggle:"Select Style",valueKey:"slug",labelKey:"name"};S.defaultProps=Object(t.a)({},f,{className:`js-style-select ${b.b}`}),k.defaultProps=Object(t.a)({},f),C.defaultProps=Object(t.a)({},f,{className:`js-style-select ${b.b}`}),v.defaultProps=Object(t.a)({},f,{className:`js-style-select ${b.b}`})},"./site-modules/shared/components/vehicle-dropdowns/submodel-dropdown.jsx":function(e,s,a){"use strict";a.d(s,"a",function(){return h}),a.d(s,"b",function(){return b});var t=a("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),l=a("../node_modules/lodash/toArray.js"),o=a.n(l),r=a("./data/luckdragon/redux/react-binding.jsx"),n=a("./data/models/vehicle.js"),i=a("./site-modules/shared/components/select/select.jsx"),d=a("./site-modules/shared/components/styled-select/styled-select.jsx"),c=a("./site-modules/shared/utils/sorting.js"),p=a("./site-modules/shared/utils/publication-states.js"),m=a("./site-modules/shared/components/vehicle-dropdowns/constants.js");const u={options:Object(r.a)(e=>{const s=e.make,a=e.model,t=e.year,l=e.showLatestYears;let o="";return e.isMakeYearSubmodels?s&&t&&Object(n.n)({make:s.slug,year:t}):(s&&a&&t?o=Object(n.B)({make:s.slug,model:a.slug,year:t}):s&&(o=l?`makes["${s.slug}"].latestSubmodels`:`makes["${s.slug}"].submodels`),o)},n.c,(e,s)=>Object(p.a)(o()(e),s.pubStates).sort(c.a))},h=Object(r.b)(d.a,u),b=Object(r.b)(i.a,u),g={name:"select-model",toggle:"Select Model",valueKey:"name",labelKey:"name"};h.defaultProps=g,b.defaultProps=Object(t.a)({},g,{className:`js-submodels-select ${m.b}`})},"./site-modules/shared/components/vehicle-dropdowns/vehicle-dropdowns.jsx":function(e,s,a){"use strict";var t=a("../node_modules/@babel/runtime/helpers/esm/extends.js"),l=(a("../node_modules/core-js/modules/es6.regexp.to-string.js"),a("../node_modules/@babel/runtime/helpers/esm/objectSpread.js")),o=a("../node_modules/lodash/noop.js"),r=a.n(o),n=a("../node_modules/lodash/get.js"),i=a.n(n),d=a("../node_modules/react/index.js"),c=a.n(d),p=a("../node_modules/prop-types/index.js"),m=a.n(p),u=a("../node_modules/reactstrap/lib/ButtonGroup.js"),h=a.n(u),b=a("../node_modules/reactstrap/lib/Button.js"),g=a.n(b),y=a("../node_modules/reactstrap/lib/Form.js"),S=a.n(y),k=a("../node_modules/classnames/index.js"),C=a.n(k),v=a("../node_modules/react-redux/es/index.js"),f=a("./site-modules/shared/components/sponsorship-link/sponsorship-link.jsx"),j=a("./site-modules/shared/components/zip-input/zip-input.jsx"),w=a("./site-modules/shared/components/form-validation/validation.js"),E=a("./site-modules/shared/components/field-error/field-error.jsx"),N=a("./utils/seed-randomizers.js"),x=(a("../node_modules/core-js/modules/es6.regexp.match.js"),a("../node_modules/core-js/modules/es6.regexp.replace.js"),a("../node_modules/lodash/compact.js")),_=a.n(x),O=a("../node_modules/lodash/find.js"),T=a.n(O),I=a("../node_modules/lodash/isEqual.js"),P=a.n(I),L=a("../node_modules/lodash/head.js"),z=a.n(L),D=a("../node_modules/reactstrap/lib/Row.js"),F=a.n(D),M=a("../node_modules/reactstrap/lib/Col.js"),Z=a.n(M),A=a("./utils/event-toolbox.js"),V=a("./tracking/constant.js"),Y=a("./site-modules/shared/components/drawer/drawer.jsx"),R=a("./site-modules/shared/utils/appraisal/check-vin-inventory.js"),U=a("./site-modules/shared/components/appraisal/appraisal-tabs-container/appraisal-tabs-container.jsx"),B=a("./site-modules/shared/components/vehicle-dropdowns/style-dropdown.jsx"),G=a("./data/luckdragon/redux/react-binding.jsx"),W=a("./data/models/vehicle.js"),$=a("./site-modules/shared/utils/appraisal-link-constructor.js"),H=a("./data/models/partner-offer-model.js");a("./site-modules/shared/components/find-style-modal/find-style-modal.scss");function K(e){return{isOpen:!1,styles:[],vin:"",isOpenStylesDropdown:!1,vinMismatch:!1,licensePlate:"",showLicensePlateTabActive:e.isMobile,showVinTabActive:!e.isMobile,appraisalLink:"",errorStyle:""}}class q extends d.Component{constructor(){var e;e=super(...arguments),this.state=K(this.props),this.setDefaultState=(()=>this.setState(K(this.props))),this.setStylesAndVin=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;const l=e.props.vehicle,o=l.make,n=l.model,d=l.year,c=e.props,p=c.creativeId,m=c.setModelValue,u=i()(o,"slug",""),h=i()(n,"slug",""),b=i()(d,"year",""),g=i()(s,"[0].makeNiceId",""),y=i()(s,"[0].modelNiceId",""),S=i()(s,"[0].year",""),k=!!s.length&&!e.checkStyleCompatibility(s,u,h,parseInt(b,10));return t&&A.a.fireTrackAction({event_type:V.b.EVENT_TYPE_ACTION_PROGRESS,event_data:{action_name:V.b.ACTION_APPRAISE_VEHICLE,action_category:V.b.USER_ACTION_CATEGORY,action_cause:V.b.ACTION_CAUSE_USER_INPUT,subaction_name:V.b.SUBACTION_VIN_ENTRY,creative_id:p,value:a}}),Object(R.a)(a,p,r.a),m("eligibilityCreativeIds",H.b,{[a]:p}),e.setState({styles:s,vinMismatch:k,vin:a,isOpenStylesDropdown:!0,licensePlate:t,appraisalLink:Object($.b)({make:g||u,model:y||h,year:S||b,queryParams:{vin:a,styleIds:s.map(e=>e.styleId).join(",")}})})},this.cleanErrorState=(()=>this.setState({errorStyle:""})),this.checkStyleCompatibility=((e,s,a,t)=>T()(e,{makeNiceId:s,modelNiceId:a,year:t})),this.clearVin=(()=>this.setState({vin:"",showVinTabActive:!0,showLicensePlateTabActive:!1})),this.clearVinAndLicensePlate=(()=>this.setState({vin:"",licensePlate:"",showLicensePlateTabActive:!0,showVinTabActive:!1})),this.trackDrawerToggle=(()=>{const e=this.props,s=e.creativeId,a=e.drawerToggleLinkText,t=this.state.isOpen,l=V.b.FIND_STYLE;A.a.fireTrackAction({event_type:V.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:V.b.ACTION_SHOW_CONTENT,action_category:V.b.SYSTEM_ACTION_CATEGORY,action_cause:V.b.ACTION_CAUSE_LINK_CLICK,subaction_name:t?l:V.b.CLOSE_POPUP,creative_id:s,value:t?a.replace(/\?/g,""):"close"}})}),this.toggleModalAndSetStyle=(()=>{const e=this.state,s=e.styles,a=e.vinMismatch,t=e.vin,l=this.props,o=l.style,r=l.vehicleStyles;let n;if(1===s.length){const e=s[0].styleId;n=T()(r,{id:e}),this.props.onChangeStyle(n)}a||(this.props.updateStepsState("vin",t),this.props.updateStepsState("isVinFromDrawer",!0)),o||n||!s.length?this.toggleDrawer():this.setState({errorStyle:"Please select a style"})}),this.toggleDrawer=(()=>this.setState(e=>({isOpen:!e.isOpen}),this.trackDrawerToggle)),this.buildDrawerHeader=(()=>{let e;const s=this.state,a=s.styles,t=s.vin,l=s.licensePlate,o=s.vinMismatch,r=this.props,n=r.vehicle,p=r.drawerContentHeaderText,m=r.drawerContentSubHeaderText,u=n.make,h=n.model,b=n.year,g=i()(u,"name",""),y=i()(h,"name",""),S=i()(b,"year",""),k=i()(a,"[0].makeName",""),C=i()(a,"[0].modelName",""),v=i()(a,"[0].year",""),f=this.props.isMobile;return e=!a.length&&t?c.a.createElement("div",{className:"text-gray-darker"},c.a.createElement("header",{className:"mt-1_5 mb-1 pos-r"},c.a.createElement("h4",{className:"size-24"},"Oh no, we couldn't find your style"),c.a.createElement("div",null,"We're sorry, we weren't able to find the style of your vehicle with your VIN. Check any vehicle documentation for your style information.")),c.a.createElement("div",{className:"my-1_5"},l?c.a.createElement(d.Fragment,null,c.a.createElement("b",null,"License plate:")," ",l):c.a.createElement(d.Fragment,null,c.a.createElement("b",null,"VIN:")," ",t))):a.length&&o?c.a.createElement("div",{className:"text-gray-darker"},c.a.createElement("header",{className:"mt-1_5 mb-1 pos-r text-gray-darker"},c.a.createElement("h4",{className:"size-24"},"VIN Mismatch"),c.a.createElement("div",null,"You're trying to appraise a ",S," ",g," ",y," but the VIN you provided is for a"," ",v," ",k," ",C,'. Click "Update Vehicle" to appraise the ',v," ",k," ",C," using the VIN you provided."),c.a.createElement("div",{className:"my-1_5"},c.a.createElement("b",null,"VIN:")," ",t))):1===a.length?c.a.createElement("header",{className:"mt-1_5 mb-1 pos-r text-gray-darker"},c.a.createElement("h4",{className:"size-24"},"Great news!"),c.a.createElement("div",null,"We were able to find the style of your vehicle and have pre-selected it for you.")):a.length>1?c.a.createElement("header",{className:"mt-1_5 mb-1 pos-r text-gray-darker"},c.a.createElement("h4",{className:"size-24"},"Great news!"),c.a.createElement("div",null,"We were able to shorten the list of styles of your vehicle for you to choose from.")):c.a.createElement("header",{className:"mt-1_5 mb-1 pos-r text-gray-darker"},c.a.createElement("h4",{className:"size-24"},p),f?c.a.createElement("div",null,m," License Plate or VIN."):c.a.createElement("div",null,m," VIN or License Plate."))}),this.splitStyleName=(e=>{const s=/[(].+[)]/gim,a=e.match(s);return{title:e.replace(s,""),subtitle:a[0]}}),this.renderDrawerBody=(()=>{const e=this.props,s=e.vehicle,a=e.onChangeStyle,l=e.onFocusStyle,o=e.selectedStyleValue,r=e.isMobile,n=e.drawerContentCtaText,i=e.creativeId,p=e.isProfileOfferVinPrepopulationEnabled,m=this.state,u=m.styles,h=m.vin,b=m.licensePlate,y=m.showLicensePlateTabActive,S=m.vinMismatch,k=m.appraisalLink,v=m.errorStyle,f=m.isOpen,j=!!u.length,w=u.length>1,N=1===u.length?this.splitStyleName(z()(u).styleName||z()(u).style):null;return S?c.a.createElement(F.a,{className:"mt-1_5 align-items-center"},c.a.createElement(Z.a,{xs:12,md:6},c.a.createElement(g.a,{color:"success",href:k,className:"w-100 text-capitalize size-16","data-tracking-id":"submit_style"},"Update Vehicle"))):c.a.createElement(d.Fragment,null,N&&c.a.createElement("div",{className:"bg-gray-extra-light p-0_75 rounded selected-style d-flex align-items-baseline"},c.a.createElement("i",{className:"icon-checkmark text-success mr-0_5"}),c.a.createElement("div",null,c.a.createElement("div",{className:"text-gray-darker font-weight-bold"},N.title),c.a.createElement("div",{className:"text-gray-darker"},N.subtitle))),w&&c.a.createElement("div",{className:C()("dropdown custom-select-arrow",{"has-danger":!!v})},c.a.createElement(B.b,Object(t.a)({make:s.make,model:s.model,year:s.year,styleIds:u.map(e=>e.id).join(","),onChange:a,onFocus:l,labelText:"Style",value:o,toggleClassName:"bg-white medium text-capitalize text-gray-dark",optionClassName:"bg-white medium text-capitalize text-gray-dark",className:"w-100 text-left style-select text-gray-dark pl-1 pr-1_75 form-control",labelClassName:"size-14 mb-0_25"},v?{ariaDescribedBy:"find-style-select-style",ariaInvalid:!0}:{})),c.a.createElement(E.a,{id:"find-style-select-style",error:v,classes:"mt-0_5"})),j||h?c.a.createElement(F.a,{className:"mt-1_5 align-items-center"},c.a.createElement(Z.a,{xs:12,md:6},c.a.createElement(g.a,{color:"success",onClick:this.toggleModalAndSetStyle,className:"w-100 text-capitalize size-16","data-tracking-id":"submit_style"},"Continue")),!j&&c.a.createElement(Z.a,{xs:12,md:6},b?c.a.createElement(g.a,{"data-tracking-id":"find_style",color:"link",onClick:this.clearVinAndLicensePlate,className:"text-primary-darker mt-1_5 mt-md-0 w-100 text-center text-md-left p-0 size-16 text-normal"},"Re-enter license plate"):c.a.createElement(g.a,{"data-tracking-id":"find_style",color:"link",onClick:this.clearVin,className:"text-primary-darker mt-1_5 mt-md-0 w-100 text-center text-md-left p-0 size-16 text-normal"},"Re-enter my VIN"))):c.a.createElement(U.a,{className:"mt-2 mb-0_5 look-up-style-view",isLookUpStyleView:!0,ctaText:n,isLicensePlateTabDefault:r,initialActiveTabId:y?U.b:U.g,setStylesAndVin:this.setStylesAndVin,isFullWidth:!0,creativeId:i,isVisibleInDrawer:f,isMobile:r,isProfileOfferVinPrepopulationEnabled:p}))})}componentDidUpdate(e){P()(this.props.vehicle,e.vehicle)||this.setDefaultState(),P()(this.props.style,e.style)||this.cleanErrorState()}render(){const e=this.props,s=e.className,a=e.drawerToggleLinkText,t=e.creativeId,l=this.state.isOpen;return c.a.createElement(d.Fragment,null,c.a.createElement(g.a,{color:"link",className:C()("p-0 border-0 text-primary-darker find-style-modal-link text-transform-none",s),onClick:this.toggleDrawer},c.a.createElement("span",{className:"font-weight-normal"},a)),c.a.createElement(Y.a,{isOpen:l,toggle:this.toggleDrawer,side:"right",size:"xsmall","data-tracking-parent":t},c.a.createElement("div",{className:"p-1_5 p-md-2"},c.a.createElement(g.a,{color:"link",size:"lg",className:"close-btn p-0 d-flex align-items-center","aria-label":"Close",onClick:this.toggleDrawer},c.a.createElement("i",{className:"icon-arrow-left3 size-16"}),c.a.createElement("span",{className:"size-14 ml-0_5 text-capitalize font-weight-normal"},"Back")),this.buildDrawerHeader(),this.renderDrawerBody())))}}q.propTypes={creativeId:m.a.string.isRequired,className:m.a.string,selectedStyleValue:m.a.string,vehicle:m.a.shape({make:m.a.shape({}),model:m.a.shape({}),year:m.a.shape({})}),onChangeStyle:m.a.func,onFocusStyle:m.a.func,updateStepsState:m.a.func,setModelValue:m.a.func,isMobile:m.a.bool,vehicleStyles:m.a.arrayOf(m.a.shape({})),style:m.a.shape({}),drawerToggleLinkText:m.a.string,drawerContentHeaderText:m.a.string,drawerContentSubHeaderText:m.a.string,drawerContentCtaText:m.a.string,isProfileOfferVinPrepopulationEnabled:m.a.bool},q.defaultProps={className:"",selectedStyleValue:"",vehicle:{},onChangeStyle:r.a,onFocusStyle:r.a,updateStepsState:r.a,setModelValue:r.a,isMobile:!1,vehicleStyles:[],style:null,drawerToggleLinkText:"Don't know your style?",drawerContentHeaderText:"Don't know which style to pick? No problem!",drawerContentSubHeaderText:"We can help shorten the list of styles for you, just provide us with your",drawerContentCtaText:"Look up my style",isProfileOfferVinPrepopulationEnabled:!1};const Q={vehicleStyles:Object(G.a)(e=>{const s=e.vehicle,a=s.make,t=s.model,l=s.year;return 3!==_()([a,t,l]).length?null:Object(W.z)({make:a.slug,model:t.slug,year:l.year})},W.c)},J=Object(G.b)(q,Q);var X=a("./site-modules/shared/components/vehicle-dropdowns/make-dropdown.jsx"),ee=a("./site-modules/shared/components/vehicle-dropdowns/submodel-dropdown.jsx"),se=a("./site-modules/shared/components/vehicle-dropdowns/model-dropdown.jsx"),ae=a("./site-modules/shared/components/vehicle-dropdowns/year-dropdown.jsx"),te=a("../node_modules/lodash/toArray.js"),le=a.n(te),oe=a("./site-modules/shared/components/select/select.jsx"),re=a("./site-modules/shared/components/styled-select/styled-select.jsx"),ne=a("./site-modules/shared/utils/sorting.js"),ie=a("./site-modules/shared/utils/publication-states.js"),de=a("./constants/pub-states.js"),ce=a("./site-modules/shared/components/vehicle-dropdowns/constants.js");const pe={options:Object(G.a)(e=>{const s=e.make,a=e.model,t=e.submodel;return s&&t&&`makes["${s.slug}"].models["${a.slug}"].submodels["${t.slug}"].years`},W.c,e=>{const s=le()(e).sort(ne.c),a=[],t=Object(ie.a)(s,de.e).filter(e=>!Object(ie.k)(e.pubStates)),o=Object(ie.a)(s,de.f);return t.length&&a.push(Object(l.a)({},t[0],{pubstate:"NEW"})),o.length&&a.push(Object(l.a)({},o[0],{pubstate:"USED"})),a})},me=Object(G.b)(oe.a,pe),ue=Object(G.b)(re.a,pe),he={name:"select-pubstate",toggle:"Select NEW / USED",valueKey:"pubstate",labelKey:"pubstate"};me.defaultProps=Object(l.a)({},he,{className:`js-pubstates-select ${ce.b}`}),ue.defaultProps=he;var be=a("./site-modules/shared/components/link/link.jsx");function ge(e){let s=e.isOutlined,a=e.isDisabled,t=e.href,l=e.text,o=e.classes,r=e.buttonColor,n=e.textColor,i=e.rel;return c.a.createElement(g.a,{disabled:a,color:r,outline:s,tag:be.a,to:t,className:C()(o,n,"go-btn"),rel:i},l)}ge.propTypes={href:m.a.string,text:m.a.string,isDisabled:m.a.bool,classes:m.a.string,isOutlined:m.a.bool,buttonColor:m.a.string,textColor:m.a.string,rel:m.a.string},ge.defaultProps={href:"/",text:"Go",isDisabled:!1,classes:"px-1 py-0_5 ml-md-0_5 mb-1",isOutlined:!1,buttonColor:"success",textColor:"text-white",rel:""};a("./site-modules/shared/components/vehicle-dropdowns/vehicle-dropdowns.scss");a.d(s,"a",function(){return ke});const ye={toggleClassName:"bg-white medium",optionClassName:"bg-white medium text-capitalize",inputClassName:""};class Se extends d.Component{constructor(e){super(e),this.setMake=(e=>{const s=this.props,a=s.hasModel,t=s.hasYear,l=s.hasStyle,o=s.hasPubstate,r=s.onDropdownsSelect,n=a||t||l||o?void 0:this.props.generateLink(e);r&&r(e),this.setState({make:e,model:void 0,submodel:void 0,year:void 0,pubstate:void 0,style:void 0,href:n})}),this.setSubmodel=(e=>{const s=this.state.make,a=e.model,t=void 0===a?void 0:a,l=this.props,o=l.hasYear,r=l.hasStyle,n=l.hasPubstate,i=l.onDropdownsSelect,d=o||r||n?void 0:this.props.generateLink(s,e);i&&i(s,e),this.setState({model:t,submodel:e,year:void 0,pubstate:void 0,href:d})}),this.setModel=(e=>{const s=this.state.make,a=this.props,t=a.hasYear,l=a.hasStyle,o=a.hasPubstate,r=a.onDropdownsSelect,n=t||l||o?void 0:this.props.generateLink(s,e);r&&r(s,e),this.setState({model:e,year:void 0,pubstate:void 0,style:void 0,href:n})}),this.setYear=(e=>{const s=this.props,a=s.hasStyle,t=s.hasPubstate,l=s.onDropdownsSelect,o=this.state,r=o.make,n=o.model,i=o.submodel,d=a||t?void 0:this.props.generateLink(r,n,i,e);l&&l(r,n,e),this.setState({year:e,style:void 0,pubstate:void 0,href:d})}),this.setStyle=(e=>{const s=this.state,a=s.make,t=s.model,o=s.year,r=this.props,n=r.onDropdownsSelect,i=r.generateLink,d=Object(l.a)({},e,{publicationState:o.displayPubState||e.publicationState}),c=i(a,t,o,d);n&&n(a,t,o,d),this.setState({style:d,href:c})}),this.setPubState=(e=>{const s=this.state,a=s.make,t=s.model,l=s.submodel,o=this.props.generateLink(a,t,l,e);this.setState({pubstate:e,href:o})}),this.handleFocus=(e=>{const s=this.props.onDropdownsFocus;s&&s(e)});const s=this.props,a=s.vehicle,t=s.selectStyle,o=s.generateLink,r=s.onDropdownsSelect,n=a||{},i=n.make,d=n.model,c=n.submodels,p=n.year,m=p?{year:p.toString()}:void 0,u=t&&a||void 0;this.state={make:i,model:d,year:m,style:u,submodel:c,pubstate:void 0},i&&d&&m&&u&&(o(i,d,m,u),r&&r(i,d,m,u))}render(){const e=this.props,s=e.children,a=e.tag,l=e.pubStates,o=e.pubStatesYears,r=e.hasMake,n=e.hasModel,i=e.hasSubmodel,p=e.showAllSubmodels,m=e.hasYear,u=e.hasStyle,b=e.hasPubstate,y=e.hasOptionTruncate,k=e.hasZipInput,v=e.buttonClassNames,x=e.buttonColor,_=e.buttonTextColor,O=e.isBtnOutlined,T=e.additionalYearOptions,I=e.makeLabel,P=e.modelLabel,L=e.yearLabel,z=e.styleLabel,D=e.zipLabel,F=e.submodelLabel,M=e.showLatestYears,Z=e.splitNewUsedYears,A=e.labelClassName,V=e.inputClasses,Y=e.makeDropdownClassNames,R=e.modelDropdownClassNames,U=e.submodelDropdownClassNames,G=e.yearDropdownClassNames,W=e.styleDropdownClassNames,$=e.pubstateDropdownClassNames,H=e.buttonGroupClassNames,K=e.zipInputSize,q=e.sponsorship,Q=e.isSmall,te=e.sponsorshipClasses,le=e.globalClasses,oe=e.hasMakeSponsorshipLink,re=e.hasSubmodelSponsorshipLink,ne=e.tracking,ie=e.showArrowButton,de=e.showButtonGroup,ce=e.hasSeparateLines,pe=e.zipInputClasses,he=e.zipLabelClasses,be=e.zipWrapperClassNames,Se=e.errorMake,ke=e.errorModel,Ce=e.errorSubModel,ve=e.errorYear,fe=e.errorStyle,je=e.styleIds,we=e.isStyleIdQueryParamEnabled,Ee=e.isStyledSelects,Ne=e.showFindStyleLink,xe=e.isMobile,_e=e.updateStepsState,Oe=e.disabled,Te=e.enableSpinner,Ie=e.rearrangeModelYearFields,Pe=e.noAdsRefresh,Le=e.isProfileOfferVinPrepopulationEnabled,ze=e.errorMessageClassNames,De=this.state,Fe=De.make,Me=De.model,Ze=De.submodel,Ae=De.year,Ve=De.style,Ye=De.pubstate,Re=De.href,Ue=`make-error-${Object(N.c)()}`,Be=`model-error-${Object(N.c)()}`,Ge=`submodel-error-${Object(N.c)()}`,We=`year-error-${Object(N.c)()}`,$e=`style-error-${Object(N.c)()}`;ye.inputClassName=V;let He=X.a,Ke=se.a,qe=ae.b,Qe=ee.b,Je=we||je?B.b:B.a,Xe=me;Ee&&(He=X.b,Ke=se.b,qe=ae.a,Qe=ee.a,Je=we||je?B.d:B.c,Xe=ue);const es=r&&n&&c.a.createElement("div",{className:C()("dropdown",R,{"has-danger":!!ke})},c.a.createElement(Ke,Object(t.a)({make:Fe,value:Me&&Me.name,enableSpinner:Te&&!!Fe,onChange:this.setModel,onFocus:this.handleFocus,pubStates:l,"data-tracking-id":ne.modelSelectTrackingId,labelText:P,labelClassName:A,isLabelHidden:!1,hasOptionTruncate:y,disabled:Oe,"data-no-refresh":Pe},ye)),c.a.createElement(E.a,{id:Be,error:ke,classes:C()(ze)})),ss=r&&(n||i)&&m&&c.a.createElement("div",{className:C()("dropdown",G,{"has-danger":!!ve})},c.a.createElement(qe,Object(t.a)({make:Fe,model:Me,enableSpinner:Te&&!!Fe&&!!Me,submodel:Ze,value:Ae&&(Ae.label||Ae.year),onChange:this.setYear,onFocus:this.handleFocus,pubStates:o||l,"data-tracking-id":ne.yearSelectTrackingId,labelText:L,labelClassName:A,hasOptionTruncate:y,showLatestYears:M,splitNewUsed:Z,labelKey:Z?"label":void 0,valueKey:Z?"label":void 0,disabled:Oe,additionalOptions:T,"data-no-refresh":Pe},ye,ve?{ariaDescribedBy:We,ariaInvalid:!0}:{})),c.a.createElement(E.a,{id:We,error:ve,classes:C()(ze)}));return c.a.createElement(S.a,{className:C()("vehicle-dropdowns d-flex align-items-start text-left",r+n+i+u+m<4&&!Q&&!ce?"flex-nowrap":"flex-wrap",le),tag:a,autoComplete:"form"===a?"off":void 0},r&&c.a.createElement("div",{className:C()("dropdown",Y,{"has-danger":!!Se})},c.a.createElement(He,Object(t.a)({value:Fe&&Fe.slug,onChange:this.setMake,onFocus:this.handleFocus,pubStates:l,"data-tracking-id":ne.makeSelectTrackingId,labelText:I,labelClassName:A,isLabelHidden:!1,hasOptionTruncate:y,disabled:Oe,"data-no-refresh":Pe},ye,Se?{ariaDescribedBy:Ue,ariaInvalid:!0}:{})),c.a.createElement(E.a,{id:Ue,error:Se,classes:C()(ze)}),oe&&c.a.createElement(f.a,Object(t.a)({},q.make,{classes:te,isClientSideRender:!1}))),Ie?c.a.createElement("div",{className:"d-flex justify-content-between w-100"},es,c.a.createElement("div",{className:"mx-0_5"}),ss):c.a.createElement(d.Fragment,null,es,r&&i&&c.a.createElement("div",{className:C()("dropdown",U,{"has-danger":!!Ce})},c.a.createElement(Qe,Object(t.a)({make:Fe,value:Ze&&Ze.name,onChange:this.setSubmodel,onFocus:this.handleFocus,pubStates:l,"data-tracking-id":ne.submodelSelectTrackingId,labelText:F,labelClassName:A,hasOptionTruncate:y,showLatestYears:M,disabled:Oe,"data-no-refresh":Pe},ye,Ce?{ariaDescribedBy:Ge,ariaInvalid:!0}:{})),c.a.createElement(E.a,{id:Ge,error:Ce,classes:"mt-1"}),re&&c.a.createElement(f.a,Object(t.a)({},q.model,{classes:te,isClientSideRender:!1}))),ss),r&&(n||i)&&m&&u&&c.a.createElement("div",{className:C()("dropdown",W,{"has-danger":!!fe})},c.a.createElement(Je,Object(t.a)({make:Fe,model:Me,enableSpinner:Te&&!!Fe&&!!Me&&!!Ae,submodel:p?null:Ze,year:Ae,value:Ve&&Ve.slug,styleIds:je,onChange:this.setStyle,onFocus:this.handleFocus,pubStates:l,"data-tracking-id":ne.styleSelectTrackingId,labelText:z,labelClassName:A,hasOptionTruncate:y,disabled:Oe,"data-no-refresh":Pe},ye,fe?{ariaDescribedBy:$e,ariaInvalid:!0}:{})),c.a.createElement(E.a,{id:$e,error:fe,classes:C()({"style-error-desktop":!xe},ze)}),Ne&&c.a.createElement(J,{creativeId:"find_style_drawer",vehicle:{make:Fe,model:Me,year:Ae},onChangeStyle:this.setStyle,onFocusStyle:this.handleFocus,selectedStyleValue:Ve&&Ve.slug,isMobile:xe,updateStepsState:_e,style:Ve,className:C()("size-16 mt-0_5",{"mt-md-2":!!fe&&!xe}),isProfileOfferVinPrepopulationEnabled:Le})),r&&i&&b&&c.a.createElement("div",{className:C()("dropdown dropdown-pubstate",$)},c.a.createElement(Xe,Object(t.a)({make:Fe,model:Me,submodel:Ze,value:Ye&&Ye.pubstate,onChange:this.setPubState,onFocus:this.handleFocus,"data-tracking-id":ne.pubstateSelectTrackingId,hasOptionTruncate:y},ye))),k&&c.a.createElement(j.a,{wrapperClasses:be,label:D,onValidate:w.a.validateZip,inputClasses:pe,labelClasses:he,getTracking:ne.zipInputTracking,inputSize:K}),de&&c.a.createElement(h.a,{role:"group","data-tracking-id":ne.submitTrackingId,className:H},c.a.createElement(ge,{isDisabled:!Re,href:Re,classes:v,buttonColor:x,isOutlined:O,textColor:_}),ie&&c.a.createElement(g.a,{tag:"span",color:"success",className:"d-inline-block active px-0 py-0_5 mb-1 js-go-btn icon-arrow-right3 ml-0",disabled:!Re})),s&&s({make:Fe,model:Me,submodel:Ze,year:Ae,style:Ve,pubstate:Ye}))}}Se.propTypes={children:m.a.func,tag:m.a.string,generateLink:m.a.func,pubStates:m.a.arrayOf(m.a.string),pubStatesYears:m.a.arrayOf(m.a.string),hasMake:m.a.bool,hasModel:m.a.bool,hasSubmodel:m.a.bool,showAllSubmodels:m.a.bool,hasYear:m.a.bool,hasStyle:m.a.bool,hasPubstate:m.a.bool,hasOptionTruncate:m.a.bool,hasZipInput:m.a.bool,selectStyle:m.a.bool,vehicle:m.a.shape({}),sponsorship:m.a.shape({make:m.a.object,model:m.a.object,year:m.a.object,style:m.a.object}),sponsorshipClasses:m.a.string,isSmall:m.a.bool,globalClasses:m.a.string,hasMakeSponsorshipLink:m.a.bool,hasSubmodelSponsorshipLink:m.a.bool,tracking:m.a.shape({submitTrackingId:m.a.string,makeSelectTrackingId:m.a.string,modelSelectTrackingId:m.a.string,yearSelectTrackingId:m.a.string,pubstateSelectTrackingId:m.a.string,submodelSelectTrackingId:m.a.string,styleSelectTrackingId:m.a.string}),additionalYearOptions:m.a.arrayOf(m.a.shape({})),makeLabel:m.a.string,modelLabel:m.a.string,yearLabel:m.a.string,styleLabel:m.a.string,submodelLabel:m.a.string,zipLabel:m.a.string,zipInputSize:m.a.string,inputClasses:m.a.string,errorMessageClassNames:m.a.string,labelClassName:m.a.string,makeDropdownClassNames:m.a.string,modelDropdownClassNames:m.a.string,submodelDropdownClassNames:m.a.string,yearDropdownClassNames:m.a.string,styleDropdownClassNames:m.a.string,zipWrapperClassNames:m.a.string,pubstateDropdownClassNames:m.a.string,buttonGroupClassNames:m.a.string,buttonClassNames:m.a.string,buttonColor:m.a.string,buttonTextColor:m.a.string,isBtnOutlined:m.a.bool,showArrowButton:m.a.bool,showButtonGroup:m.a.bool,showLatestYears:m.a.bool,splitNewUsedYears:m.a.bool,hasSeparateLines:m.a.bool,zipInputClasses:m.a.string,zipLabelClasses:m.a.string,onDropdownsSelect:m.a.func,onDropdownsFocus:m.a.func,errorMake:m.a.string,errorModel:m.a.string,errorSubModel:m.a.string,errorYear:m.a.string,errorStyle:m.a.string,isStyledSelects:m.a.bool,isStyleIdQueryParamEnabled:m.a.bool,showFindStyleLink:m.a.bool,isMobile:m.a.bool,updateStepsState:m.a.func,disabled:m.a.bool,enableSpinner:m.a.bool,rearrangeModelYearFields:m.a.bool,noAdsRefresh:m.a.bool,isProfileOfferVinPrepopulationEnabled:m.a.bool},Se.defaultProps={children:null,tag:"form",generateLink:()=>"/",pubStates:["NEW","NEW_USED","USED"],pubStatesYears:null,hasMake:!0,hasModel:!1,hasSubmodel:!1,showAllSubmodels:!1,hasYear:!1,hasStyle:!1,hasPubstate:!1,hasZipInput:!1,vehicle:null,sponsorship:{},isSmall:!1,hasOptionTruncate:!0,sponsorshipClasses:"text-gray-darker h6 mt-md-1 mb-0_25",globalClasses:"",hasMakeSponsorshipLink:!1,hasSubmodelSponsorshipLink:!1,selectStyle:!1,tracking:{},additionalYearOptions:null,makeLabel:"",modelLabel:"",yearLabel:"",styleLabel:"",zipLabel:"ZIP Code",submodelLabel:"",inputClasses:"",errorMessageClassNames:"mt-1",labelClassName:"",makeDropdownClassNames:"",modelDropdownClassNames:"",submodelDropdownClassNames:"",yearDropdownClassNames:"",styleDropdownClassNames:"",zipWrapperClassNames:"",zipInputSize:void 0,pubstateDropdownClassNames:"",buttonGroupClassNames:"mx-auto",buttonClassNames:"px-1 py-0_5 mb-1",buttonColor:"success",buttonTextColor:"text-white",isBtnOutlined:!1,showArrowButton:!0,showButtonGroup:!0,showLatestYears:!1,splitNewUsedYears:!1,hasSeparateLines:!1,zipInputClasses:"",zipLabelClasses:"",onDropdownsSelect:null,onDropdownsFocus:null,errorMake:"",errorModel:"",errorSubModel:"",errorYear:"",errorStyle:"",isStyledSelects:!1,isStyleIdQueryParamEnabled:!1,showFindStyleLink:!1,isMobile:!1,enableSpinner:!1,updateStepsState:r.a,disabled:void 0,rearrangeModelYearFields:!1,noAdsRefresh:!1,isProfileOfferVinPrepopulationEnabled:!1};const ke=Object(v.c)((e,s)=>({isSmall:e.pageContext.isSmallDeprecated,styleIds:s.isStyleIdQueryParamEnabled?i()(e,"pageContext.location.query.styleIds"):s.styleIds}))(Se)},"./site-modules/shared/components/zip-input/zip-input.jsx":function(e,s,a){"use strict";a.d(s,"c",function(){return j}),a.d(s,"b",function(){return w}),a.d(s,"a",function(){return x});var t=a("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),l=a("../node_modules/@babel/runtime/helpers/esm/extends.js"),o=(a("../node_modules/core-js/modules/es7.promise.finally.js"),a("../node_modules/react/index.js")),r=a.n(o),n=a("./data/luckdragon/redux/react-binding.jsx"),i=a("../node_modules/prop-types/index.js"),d=a.n(i),c=a("../node_modules/classnames/index.js"),p=a.n(c),m=a("../node_modules/reactstrap/lib/Label.js"),u=a.n(m),h=a("../node_modules/reactstrap/lib/Input.js"),b=a.n(h),g=a("./data/models/visitor.js"),y=a("./site-modules/shared/constants/key-codes.js"),S=a("./utils/seed-randomizers.js"),k=a("../node_modules/reactstrap/lib/Button.js"),C=a.n(k),v=a("./utils/event-toolbox.js"),f=a("./tracking/constant.js");const j={onZipChange:d.a.func,onValidate:d.a.func,label:d.a.string,placeholder:d.a.string,wrapperClasses:d.a.string,labelClasses:d.a.string,inputClasses:d.a.string,inputAriaLabel:d.a.string,facetName:d.a.string,inputSize:d.a.string,getTracking:d.a.oneOfType([d.a.func,d.a.shape({"data-tracking-id":d.a.string,"data-tracking-value":d.a.string})]),forceEmptyZip:d.a.bool,isAddressZip:d.a.bool,onZipChangeInProgress:d.a.func,trackingCbOnZipChange:d.a.func,onZipFocus:d.a.func,blt1925Recipe:d.a.string},w={onZipChange:null,onValidate:null,label:"",wrapperClasses:"",labelClasses:"",inputClasses:"",placeholder:"",facetName:"",inputSize:"sm",getTracking:null,forceEmptyZip:!1,isAddressZip:void 0,onZipChangeInProgress:null,inputAriaLabel:"Zip Code",trackingCbOnZipChange:null,onZipFocus:null,blt1925Recipe:null};class E extends o.Component{constructor(){super(...arguments),this.state={isZipChangeInProgress:!1,value:this.props.forceEmptyZip?"":this.props.zipFromStore,previousZipFromStore:this.props.zipFromStore,previousForceEmptyZip:this.props.forceEmptyZip,validZip:!0},this.setZipChangeInProgress=(e=>{let s=e.isZipChangeInProgress;const a=this.props.onZipChangeInProgress;a&&this.setState({isZipChangeInProgress:s},()=>{a({isZipChangeInProgress:s})})}),this.setZipFromStore=(()=>this.setState({value:this.props.zipFromStore})),this.setZipToModel=(e=>this.props.setModelValue("location",g.c,{zipCode:e})),this.setZipToAddressModel=(e=>this.props.setModelValue("location.address",g.c,{zipCode:e})),this.handleChange=(e=>{let s=e.target.value;this.setState({value:s})}),this.handleZipCodeChange=((e,s)=>{const a=this.props,t=a.trackingCbOnZipChange,l=a.isAddressZip,o=e||(l?this.setZipToAddressModel:this.setZipToModel);t&&t(s),o(s).catch(()=>{this.setZipFromStore()}).finally(()=>{this.setZipChangeInProgress({isZipChangeInProgress:!1}),l||this.setZipToAddressModel(s)})}),this.handleEnterPress=(e=>{e.keyCode===y.a?this.callUpdate():e.keyCode===y.b&&(this.setZipFromStore(),this.setZipChangeInProgress({isZipChangeInProgress:!1}))}),this.callUpdate=(()=>{const e=this.props,s=e.onZipChange,a=e.onValidate,t=e.zipFromStore,l=e.forceEmptyZip,o=e.blt1925Recipe,r=this.state.value;t!==r&&a&&a(r)?(this.handleZipCodeChange(s,r),this.setState({validZip:!0})):r&&a&&!a(r)&&"chal1"===o?this.setState({validZip:!1}):l&&t===r?this.handleZipCodeChange(s,r):l&&!r&&o&&"chal1"===o?(this.setZipFromStore(),this.handleZipCodeChange(s,t)):(this.setZipFromStore(),this.setZipChangeInProgress({isZipChangeInProgress:!1}))}),this.handleOnFocus=(()=>{this.setZipChangeInProgress({isZipChangeInProgress:!0});const e=this.props.onZipFocus;e&&e()}),this.fireTracking=(()=>{const e=Math.max(document.body.scrollHeight,document.body.offsetHeight);v.a.fireTrackAction({event_type:f.b.EVENT_TYPE_WIDGET_VIEW,event_data:{action_name:f.b.ACTION_WIDGET_VIEW,action_cause:f.b.ACTION_CAUSE_SCROLL,total_page_height:e,creative_id:"zip-input-message"}})}),this.renderInput=(e=>{const s=this.props,a=s.facetName,t=s.placeholder,o=s.inputClasses,n=s.getTracking,i=s.onZipChangeInProgress,d=s.inputSize,c=s.inputAriaLabel,p="function"==typeof n&&n(a)||n||{};return r.a.createElement(b.a,Object(l.a)({id:e,name:a,bsSize:d,type:"text",inputMode:"numeric",pattern:"[0-9]*",value:this.state.value,className:o,placeholder:t,onKeyDown:this.handleEnterPress,onBlur:this.callUpdate},i?{onFocus:this.handleOnFocus}:{},{onChange:this.handleChange,"data-test":"zip-input","data-tracking-id":p?p["data-tracking-id"]:null,"data-tracking-value":p?p["data-tracking-value"]:null,"aria-label":c}))})}static getDerivedStateFromProps(e,s){return s.previousZipFromStore!==e.zipFromStore?{value:e.zipFromStore,previousZipFromStore:e.zipFromStore}:s.previousForceEmptyZip&&!e.forceEmptyZip?{previousForceEmptyZip:!1,value:e.zipFromStore,previousZipFromStore:e.zipFromStore}:null}componentDidMount(){"chal1"===this.props.blt1925Recipe&&this.fireTracking()}render(){const e=this.props,s=e.label,a=e.wrapperClasses,t=e.labelClasses,l=e.forceEmptyZip,n=e.blt1925Recipe,i=`zip-input-${Object(S.c)()}`;return r.a.createElement(o.Fragment,null,s?r.a.createElement("div",{className:a},r.a.createElement(u.a,{for:i,className:t},s),this.renderInput(i)):r.a.createElement("div",{className:p()("d-flex",{"has-danger":!this.state.validZip})},this.renderInput(i),n&&"ctrl"!==n&&l&&r.a.createElement(C.a,{onClick:this.callUpdate,color:"chal1"===n?"success":"primary",className:"px-0_5 py-0_5 zip-button text-transform-none",style:{width:"39px"}},r.a.createElement("span",null,"Go")," ")))}}E.propTypes=Object(t.a)({},j,{setModelValue:d.a.func.isRequired,zipFromStore:d.a.string.isRequired}),E.defaultProps=Object(t.a)({},w);const N={zipFromStore:Object(n.a)(e=>{return e.isAddressZip?"location.address.zipCode":"location.zipCode"},g.c)},x=Object(n.b)(E,N)}}]);
//# sourceMappingURL=26.chunk.2444e6c2bfba29fe26fd.js.map