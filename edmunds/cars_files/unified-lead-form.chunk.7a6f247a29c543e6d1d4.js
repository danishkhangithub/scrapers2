(window.webpackJsonp=window.webpackJsonp||[]).push([["unified-lead-form",14,22,34,36],{"../node_modules/@babel/runtime/helpers/esm/toArray.js":function(e,a,t){"use strict";var s=t("../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js");var n=t("../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function i(e){return Object(s.a)(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||Object(n.a)()}t.d(a,"a",function(){return i})},"../node_modules/lodash/isNaN.js":function(e,a,t){var s=t("../node_modules/lodash/isNumber.js");e.exports=function(e){return s(e)&&e!=+e}},"../node_modules/lodash/uniqWith.js":function(e,a,t){var s=t("../node_modules/lodash/_baseUniq.js");e.exports=function(e,a){return a="function"==typeof a?a:void 0,e&&e.length?s(e,void 0,a):[]}},"../node_modules/reactstrap/lib/Card.js":function(e,a,t){"use strict";var s=t("../node_modules/reactstrap/node_modules/@babel/runtime/helpers/interopRequireDefault.js");a.__esModule=!0,a.default=void 0;var n=s(t("../node_modules/reactstrap/node_modules/@babel/runtime/helpers/extends.js")),i=s(t("../node_modules/reactstrap/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js")),r=s(t("../node_modules/react/index.js")),o=s(t("../node_modules/reactstrap/node_modules/prop-types/index.js")),l=s(t("../node_modules/reactstrap/node_modules/classnames/index.js")),d=t("../node_modules/reactstrap/lib/utils.js"),c={tag:d.tagPropType,inverse:o.default.bool,color:o.default.string,body:o.default.bool,outline:o.default.bool,className:o.default.string,cssModule:o.default.object,innerRef:o.default.oneOfType([o.default.object,o.default.string,o.default.func])},m=function(e){var a=e.className,t=e.cssModule,s=e.color,o=e.body,c=e.inverse,m=e.outline,u=e.tag,p=e.innerRef,h=(0,i.default)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),f=(0,d.mapToCssModules)((0,l.default)(a,"card",!!c&&"text-white",!!o&&"card-body",!!s&&(m?"border":"bg")+"-"+s),t);return r.default.createElement(u,(0,n.default)({},h,{className:f,ref:p}))};m.propTypes=c,m.defaultProps={tag:"div"};var u=m;a.default=u},"../node_modules/reactstrap/lib/Jumbotron.js":function(e,a,t){"use strict";var s=t("../node_modules/reactstrap/node_modules/@babel/runtime/helpers/interopRequireDefault.js");a.__esModule=!0,a.default=void 0;var n=s(t("../node_modules/reactstrap/node_modules/@babel/runtime/helpers/extends.js")),i=s(t("../node_modules/reactstrap/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js")),r=s(t("../node_modules/react/index.js")),o=s(t("../node_modules/reactstrap/node_modules/prop-types/index.js")),l=s(t("../node_modules/reactstrap/node_modules/classnames/index.js")),d=t("../node_modules/reactstrap/lib/utils.js"),c={tag:d.tagPropType,fluid:o.default.bool,className:o.default.string,cssModule:o.default.object},m=function(e){var a=e.className,t=e.cssModule,s=e.tag,o=e.fluid,c=(0,i.default)(e,["className","cssModule","tag","fluid"]),m=(0,d.mapToCssModules)((0,l.default)(a,"jumbotron",!!o&&"jumbotron-fluid"),t);return r.default.createElement(s,(0,n.default)({},c,{className:m}))};m.propTypes=c,m.defaultProps={tag:"div"};var u=m;a.default=u},"./actions/vehicle.js":function(e,a,t){"use strict";t.d(a,"b",function(){return h}),t.d(a,"a",function(){return f}),t.d(a,"g",function(){return g}),t.d(a,"h",function(){return b}),t.d(a,"f",function(){return y}),t.d(a,"d",function(){return _}),t.d(a,"c",function(){return E}),t.d(a,"e",function(){return v});t("../node_modules/core-js/modules/es6.regexp.to-string.js");var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/lodash/get.js"),i=t.n(n),r=t("./data/luckdragon/model.js"),o=t("./data/models/vehicle.js"),l=t("./data/luckdragon/redux/model-actions.js"),d=t("./utils/parse-vehicle-for-action.js"),c=t("./site-modules/shared/utils/publication-states.js"),m=t("./constants/pub-states.js"),u=t("./site-modules/shared/utils/nice-name.js"),p=t("./actions/constants.js");function h(e,a){return{make:{id:i()(e,"vehicle.make.id",null),name:i()(e,"vehicle.make.name",""),niceName:i()(e,"vehicle.make.slug",""),adTargetId:i()(e,"vehicle.make.adTargetId")},model:{modelLinkCode:i()(e,"vehicle.model.modelLinkCode",""),name:i()(e,"vehicle.model.name",""),niceName:i()(e,"vehicle.model.slug",""),adTargetId:i()(e,"vehicle.model.adTargetId")},modelYear:{year:"agnostic"},publicationState:a||m.a.NEW}}function f(e){let a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.isUsed,n=void 0!==s&&s,r=t.isPreProdVehicle;return a=n?"used":void 0!==r&&r?"preprod":e&&e.pubStates&&Object(c.f)(e.pubStates),e?{make:{name:i()(e,"make.name",""),niceName:i()(e,"make.slug",""),id:i()(e,"make.id",""),adTargetId:i()(e,"make.adTargetId")},model:{name:i()(e,"model.name",""),niceName:i()(e,"model.slug",""),modelLinkCode:i()(e,"model.modelLinkCode",""),adTargetId:i()(e,"model.adTargetId")},modelYear:{year:i()(e,"year",""),id:i()(e,"modelYearId","")},subModel:{name:i()(e,"submodels.name",""),niceName:i()(e,"submodels.slug",""),id:i()(e,"id",""),adTargetId:i()(e,"submodels.adTargetId")},typeList:Object.keys(i()(e,"edmundsTypeCategories",{})).join(","),publicationState:a}:{}}function g(e){return{type:p.R,vehicle:e}}function b(e,a){return(t,n)=>e?Object(l.d)(`styles.${e}`,o.c)(t,n).then(()=>{const i=Object(r.b)(n()).get(`styles.${e}`,o.c);return t(g(Object(d.a)(Object(s.a)({},i,{modelYearId:a}))))}).catch(()=>t(g(Object(d.a)({})))):Promise.resolve(t(g(Object(d.a)({}))))}function y(e){const a=i()(e,"displayPrice"),t=i()(e,"guaranteedPrice")||i()(e,"pricePromise.guaranteedPrice");let s;return t&&t<a&&(s=t),{price:a,salePrice:s}}function _(e){let a=e.vin,t=e.vehicleInfo,s=void 0===t?{}:t,n=e.type,r=void 0===n?"":n,o=e.prices,l=void 0===o?{}:o,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const m=i()(s,"styleInfo",{}),p=i()(s,"vehicleColors.exterior.genericName",""),h=i()(s,"vehicleColors.interior.genericName",""),f=i()(m,"trim",""),g=y(l),b=g.price,_=g.salePrice;return{publicationState:Object(c.d)(r),make:{niceName:i()(d,"make.slug",Object(u.c)(i()(m,"make",""))),name:i()(d,"make.name",i()(m,"make","")),id:i()(d,"make.id",""),adTargetId:i()(d,"make.adTargetId")},modelYear:{year:i()(d,"year",i()(m,"year","")),id:i()(d,"modelYearId",i()(m,"modelId",""))},model:{niceName:i()(d,"model.slug",Object(u.c)(i()(m,"model",""))),name:i()(d,"model.name",i()(m,"model","")),modelLinkCode:i()(d,"model.modelLinkCode",""),adTargetId:i()(d,"model.adTargetId")},subModel:{niceName:i()(d,"submodels.slug",""),name:i()(d,"submodels.name",""),id:i()(d,"id",""),adTargetId:i()(d,"submodels.adTargetId")},type:{niceName:m.bodyType},style:{id:m.styleId},displayPrice:b?b.toString():"",salePrice:_,exteriorColor:p,interiorColor:h,trim:f,vin:a}}function E(e){let a=e.vehicleInfo,t=void 0===a?{}:a,s=e.type,n=void 0===s?"":s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=i()(t,"styleInfo",{}),l=i()(t,"displayPrice",""),d=i()(t,"vehicleColors.exterior.genericName",""),m=i()(t,"vehicleColors.interior.genericName","");return{publicationState:Object(c.d)(n),make:{niceName:i()(r,"make.niceId",""),name:i()(r,"make.name",""),id:i()(r,"make.id",""),adTargetId:i()(r,"make.adTargetId")},modelYear:{year:i()(r,"modelYear.year",o.year),id:i()(r,"modelYear.id","")},model:{niceName:i()(r,"model.niceId",""),name:i()(r,"model.name",""),modelLinkCode:i()(r,"model.modelLinkCode",""),adTargetId:i()(r,"model.adTargetId")},type:{niceName:o.bodyType},displayPrice:l,interiorColor:m,exteriorColor:d,trim:o.trim}}function v(e,a,t){const n=t&&(t[e]||Object.values(t)[0]);if(!n)return null;let r={make:{name:i()(n,"make.name",""),niceName:i()(n,"make.slug",""),id:i()(n,"make.id",""),adTargetId:i()(n,"make.adTargetId")},model:{name:i()(n,"model.name",""),niceName:i()(n,"model.slug",""),modelLinkCode:i()(n,"model.modelLinkCode",""),adTargetId:i()(n,"model.adTargetId")},modelYear:{year:a}};return t[e]&&(r=Object(s.a)({},r,{subModel:{name:i()(n,"name",""),niceName:e,adTargetId:i()(n,"adTargetId")}})),r}},"./data/models/cpo.js":function(e,a,t){"use strict";t.d(a,"d",function(){return u}),t.d(a,"c",function(){return p}),t.d(a,"b",function(){return h}),t.d(a,"a",function(){return g});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/lodash/map.js"),i=t.n(n),r=t("./data/luckdragon/segment.js"),o=t("./data/cms/content.js"),l=t("./site-modules/shared/utils/cpo-helper.js"),d=t("./site-modules/shared/constants/cpo-constants.js"),c=t("./data/models/cms.js");const m='content["cpo-cars-page-content"]';function u(){return"cpoEnhancedMakes"}function p(e){return`cpoEnhancedMakes["${e}"]`}function h(e){return e&&`certifiedProgram["${e}"]`}function f(e,a){return e&&e.hasMetadata&&e.hasMetadata(a)?e.metadata(a).value():null}const g=Object(r.a)("cpo",[{path:"featuredPrograms",resolve:(e,a)=>a.resolveValue(m,c.b).then(e=>{const a=Object(o.f)(e).child("featured-cpo-programs-v2"),t=a.children();return{title:f(a,"title"),featuredPrograms:function(e){return e.map(e=>({logo:f(e,"logo"),image:f(e,"image"),title:f(e,"title"),copy:f(e,"copy"),detailsDisplayUrl:f(e,"detailsDisplayUrl"),detailsUrl:f(e,"detailsUrl"),linkOutDisplayUrl:f(e,"linkOutDisplayUrl"),linkOut:f(e,"linkOut"),impressionCode:f(e,"impressionCode")}))}(t)}}).catch(()=>null)},{path:"inventoryLogo",resolve:(e,a)=>a.resolveValue(m,c.b).then(e=>{const a=Object(o.f)(e).child("shop-cpo-inventory-logo");return{image:f(a,"image"),url:f(a,"url")}}).catch(()=>null)},{path:"carsForSale",resolve:(e,a)=>a.resolveValue(m,c.b).then(e=>{const a=Object(o.f)(e).child("cpo-cars-for-sale"),t=f(a,"makeList"),s=f(a,"modelList");return{makeList:JSON.parse(t),modelList:JSON.parse(s)}}).catch(()=>null)},{path:"heroSlides",resolve:(e,a)=>a.resolveValue(m,c.b).then(e=>(function(e){return e.map(e=>({href:e.metadata("image").value(),title:e.metadata("title").value(),url:e.metadata("url").value(),cta:{ctaText:e.metadata("bodyText").value(),ctaLink:{url:e.metadata("urlCTA").value(),name:e.metadata("textCTA").value()}}}))})(Object(o.f)(e).child("hero-carousel").children())).catch(()=>null)},{path:"heroAdSlides",resolve:(e,a)=>a.resolveValue(m,c.b).then(e=>Object(o.f)(e).child("cpo-hero-ad").getAllMetadata()).catch(()=>null)},{path:"featuredSpotlightAd",resolve:(e,a)=>a.resolveValue(m,c.b).then(e=>{const a=Object(o.f)(e).child("featured-spotlight-carousel");return function(e){return e.map(e=>({logo:f(e,"logo"),headline:f(e,"headline"),url:f(e,"url"),urlText:f(e,"urlText"),urlMobile:f(e,"urlMobile"),oemLink:f(e,"oemLink"),urlTargetNew:f(e,"urlTargetNew"),image:f(e,"image"),contentLabel:f(e,"contentLabel"),adLabel:f(e,"adLabel"),disclaimer:f(e,"disclaimer")}))}(a.children().length?a.children():[])}).catch(()=>null)},{path:"typeCenterTakeover",resolve:(e,a)=>a.resolveValue(m,c.b).then(e=>Object(o.f)(e).child("type-center-takeover")).catch(()=>null)},{path:"compareCpoPrograms",resolve:(e,a)=>a.resolveValue(m,c.b).then(e=>{const a=Object(o.f)(e).child("compare-cpo-programs");return{compareCpoPrograms:function(e){return{title:f(e,"title"),defaultMakes:f(e,"defaultMakes"),impression:f(e,"impression"),image:f(e,"image"),url:f(e,"url"),options:f(e,"options")}}(a),compareFields:a.childEntries[0].contentMetadata}}).catch(()=>null)},{path:"compareCpoProgramsMakes",resolve:(e,a)=>a.resolveValue('content["certified-cars/certified-program-compare-new"]',c.b).then(e=>{const a=Object(o.f)(e);return i()(a.children()[0].getAllMetadata(),(e,a)=>({name:e,slug:a})).sort((e,a)=>e.name>a.name?1:-1)}).catch(()=>null)},{path:"cpoEnhancedMakes",resolve:async(e,a)=>a.resolveValue(d.a,c.b).then(e=>{return Object(o.f)(e).children().reduce((e,a)=>Object(s.a)({},e,{[a.id]:{enabled:a.metadata("enabled").boolean()}}),{})}).catch(()=>null)},{path:'cpoShortcutData["{make}"]',async resolve(e,a){const t=e.make,s=await a.resolveValue(p(t),g);if(!s||!s.enabled)return null;const n=await a.resolveValue(`content["${Object(l.c)(t)}"]`,c.b),i=Object(o.f)(n),r=i&&i.title,d=i.metadata("cpoShortcutProgramPoints").value(),m=i.metadata("oemLogo").value();let u;try{u=JSON.parse(d)}catch(e){u=[]}return{title:r,points:u,oemLogo:m}}},{path:'certifiedProgram["{make}"]',async resolve(e,a){const t=e.make,s=t.endsWith(d.d),n=`content["${Object(l.c)(s?t.slice(0,-d.d.length):t)}"]`,i=await a.resolveValue(n,c.b),r=Object(o.f)(i);return s?r.child(d.c).getAllMetadata():r.getAllMetadata()}}])},"./data/models/native-ads-creative-config.js":function(e,a,t){"use strict";t.d(a,"l",function(){return L}),t.d(a,"e",function(){return B}),t.d(a,"i",function(){return Y}),t.d(a,"h",function(){return H}),t.d(a,"k",function(){return q}),t.d(a,"j",function(){return z}),t.d(a,"d",function(){return G}),t.d(a,"c",function(){return W}),t.d(a,"b",function(){return K}),t.d(a,"a",function(){return Q}),t.d(a,"g",function(){return J}),t.d(a,"f",function(){return Z});var s=t("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),i=(t("../node_modules/core-js/modules/es6.regexp.replace.js"),t("../node_modules/lodash/get.js")),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("./utils/isomorphic-logger.js"),c=t("./data/luckdragon/segment.js"),m=t("./data/models/page.js"),u=t("./data/api/api-client.js"),p=t("./data/api/api-metrics.js"),h=t("./data/models/visitor.js"),f=t("./data/models/inventory.js"),g=t("./data/models/feature-flag.js"),b=t("./site-modules/shared/components/native-ad/utils/get-ad-targeting.js"),y=t("./site-modules/shared/utils/publication-states.js"),_=t("./site-modules/shared/components/native-ad/utils/utils.js"),E=t("./data/models/vehicle.js"),v=t("./data/models/incentives.js"),C=t("./site-modules/shared/components/native-ad/utils/constants.js"),T=t("./site-modules/shared/constants/ads.js"),N=t("./site-modules/shared/constants/inventory/srp-page-types.js"),j=t("./site-modules/shared/components/native-ad/utils/offer-incentives-ad-utils.js"),I=t("./data/models/photos.js"),O=t("./data/models/experiments.js"),k=t("./utils/experiment/experiment-util.js");const P={timeout:1e3},x=[C.c.AD_NAME,C.h.AD_NAME];function S(e){return e?e.toLowerCase().replace(/[\s-]/g,""):"none"}function L(e){return r()(e,"niceId")||r()(e,"niceName")||"none"}function A(e,a){return e.reduce((e,t)=>Object(n.a)({},e,{[t]:a[t]||Object(_.e)(t)}),{})}async function D(e){const a=await Promise.all([e.resolveValue("location",h.c),e.resolveValue("location",m.a)]),t=Object(s.a)(a,2),n=t[0],i=n.stateCode,o=n.ipStateCode,l=n.zipCode,d=n.ipZipCode,c=n.dma,u=n.ipDma,p=t[1];return!!r()(p,'query["test-zip"]')?{stateCode:i,zipCode:l,dma:c,userZipCode:l}:{stateCode:o,zipCode:d,dma:u,userZipCode:l}}async function w(e,a){const t=e.platform,s=e.model,n=e.submodel,i=e.year,r=e.pubState,o=await D(a);return`platform["${t}"].model["${s}"].submodels["${n}"].year["${i}"].pubState["${r}"].configs.state["${o.stateCode}"].zip["${o.zipCode}"].dma["${o.dma}"].ads`}async function R(e,a,t){const s=Object.keys(e).filter(e=>x.includes(e));return await Promise.all(s.map(async s=>{if(s===C.c.AD_NAME&&await async function(e,a){return(await a.resolveValue("adsListSkipExtraParams")||[]).includes(e)}(C.c.AD_NAME,t))return{adName:s,offersNumber:0};const n=e[s][0];if(!n||r()(n,"creativeConfigData.headline"))return{adName:s,offersNumber:0};try{const e=Object(_.i)(r()(n,"creativeConfigData.customData"));let i=r()(e,"submodels[0].styleId");const o=r()(e,"year");if(!i){Object(d.a)("warn",`resolveIncentivesOffers: style id is not defined for ${n.name} - ${n.id}`);const e=await t.resolveValue(function(e,a){const t=r()(e,"make.niceName"),s=r()(e,"model.niceName");return t&&s&&Object(E.I)({make:t,model:s,year:a||C.d})}(a,o),E.c);i=r()(e,"newDefaultStyle.id")}const l=await t.resolveValue(Object(v.d)(i),v.a);return{adName:s,offersNumber:Object(j.b)(l).length}}catch(e){408===e.status?Object(d.a)("warn",e):Object(d.a)("error",`resolveIncentivesOffers: ${e}`)}return{adName:s,offersNumber:0}}))}async function M(e,a,t){const s=await async function(e){return{experiments:{computed:await e.resolveValue("computed",O.a)||{},published:await e.resolveValue("published",O.a)||{}}}}(t),n=Object.keys(e).filter(e=>e===C.a.AD_NAME);return await Promise.all(n.map(async n=>{const i=e[n][0],o=Object(_.i)(r()(i,"creativeConfigData.customData"));let l=o.make,d=o.model,c=o.year,m=r()(o,"submodels[0].submodel");if(l&&d&&c||(l=r()(a,"make.niceName"),d=r()(a,"model.niceName"),c=r()(a,"modelYear.year"),m=r()(a,"subModel.name")),"ctrl"===k.a.getForcedOrAssignedRecipeName({state:s,campaignName:"ads-6261",defaultVal:"ctrl"}))return{};const u={make:l,model:d,submodel:m,year:c,width:"600"},p=await t.resolveValue(Object(I.c)(u),I.a);return{adName:n,customPhoto:r()(p,"[0].href")}}))}async function V(e,a,t,i){const o=a.platform,l=a.model,d=a.submodel,c=a.year,u=a.pubState;let p=await e.resolveValue("vehicle",m.a);r()(p,"model.niceName")||(p=Object(n.a)({},p,{model:{niceName:l}}));const h=await Promise.all([D(e),R(i,p,e),M(i,p,e)]),f=Object(s.a)(h,3),g=f[0],b=g.stateCode,y=g.zipCode,E=g.dma,v=g.userZipCode,T=f[1],N=f[2];return A(t,Object.entries(i).reduce((e,a)=>{let t,i,r=Object(s.a)(a,2),m=r[0],p=r[1];return x.includes(m)&&(t=T.find(e=>{return e.adName===m})),m===C.a.AD_NAME&&(i=N.find(e=>{return e.adName===m})),e[m]=p.map((e,a)=>Object(n.a)({},function(e){return{configRef:{$ref:`#/platform/${e.platform}/model/${e.model}/submodels/${e.submodel}/year/${e.year}/pubState/${e.pubState}/configs/state/${e.stateCode}/zip/${e.zipCode}/dma/${e.dma}/ads/${e.adUnitName}/${e.index}`}}}({platform:o,model:l,submodel:d,year:c,pubState:u,stateCode:b,zipCode:y,dma:E,adUnitName:m,index:a}),Object(_.d)(m),t,i,{zipCode:v,ipZipCode:y,dma:E})),e},{}))}async function F(e,a){const t=e.model;if(!t||"none"===t)return!0;const s=await a.resolveValue("siteServedAds",g.a),n=await a.resolveValue("location",h.c);return!s||!Object(T.e)(n)}async function U(e,a,t){const n=e.platform,i=e.model,r=e.submodel,o=e.year,l=e.pubState,d=e.stateCode,c=e.zipCode,h=e.dma,f=await Promise.all([a.resolveValue("page.name",m.a),a.resolveValue("ads.utms",m.a),a.resolveValue("addSiteServedEdwPg",g.a),a.resolveValue("addSiteServedUtms",g.a)]),b=Object(s.a)(f,4),_=b[0],E=b[1],v=b[2]&&_?`&edwpg=${_}`:"",C=b[3]&&""!==E?`&utms=${E}`:"",T=`/site-served-creative/v1/${S(i)}?submodel=${S("defaultSubmodel"===r?"none":r)}&year=${"any"===o?"":o}&${`dma=${h}&state=${d}&zip=${c}`}&platform=${n}&creative=${t.join(",")}${v}${C}${`&usein=${Object(y.g)(l)}`}`;return Object(p.b)(u.c,a).fetchJson(T,P)}async function $(e,a){return await a.resolveValue("pageAdsList",B,!1)||[]}const B=Object(c.a)("nativeAdsCreativeConfig",[{path:"pageAdsList",update:e=>Promise.resolve(Array.from(e))},{path:"adsListSkipExtraParams",update:e=>Promise.resolve(Array.from(e))},{path:'platform["{platform}"].model["{model}"].submodels["{submodel}"].year["{year}"].pubState["{pubState}"].configs.state["{stateCode}"].zip["{zipCode}"].dma["{dma}"].ads',resolve:async(e,a)=>U(e,a,await $(0,a))},{path:'platform["{platform}"].model["{model}"].submodels["{submodel}"].year["{year}"].pubState["{pubState}"].configs.state["{stateCode}"].zip["{zipCode}"].dma["{dma}"].ads["{adName}"]',async resolve(e,a){const t=e.adName;return U(e,a,[t]).then(e=>r()(e,t,{}))}},{path:'platform["{platform}"].model["{model}"].submodels["{submodel}"].year["{year}"].pubState["{pubState}"].ads',async resolve(e,a){if(await F(e,a))return a.abort();const t=await Promise.all([$(0,a),w(e,a)]),n=Object(s.a)(t,2),i=n[0],r=n[1];return a.resolveValue(r,B).then(t=>V(a,e,i,t)).catch(()=>A(i,{}))}},{path:'platform["{platform}"].model["{model}"].submodels["{submodel}"].year["{year}"].pubState["{pubState}"].ads["{adName}"]',async resolve(e,a){if(await F(e,a))return a.abort();const t=e.platform,s=e.model,n=e.submodel,i=e.year,r=e.pubState,o=e.adName;if((await $(0,a)).includes(o)){return(await a.resolveValue(`platform["${t}"].model["${s}"].submodels["${n}"].year["${i}"].pubState["${r}"].ads`,B))[o]}const l=await w(e,a);return a.resolveValue(`${l}["${o}"]`,B).then(t=>V(a,e,[o],{[o]:t})).then(e=>e[o]).catch(()=>Object(_.e)(o))}},{path:'adTargeting.model["{model}"]',async resolve(e,a){let t=e.model;if(Object(_.k)(t))return{currentVehicle:null,customTargeting:null};const i=await Promise.all([a.resolveValue("searchResults",f.c),a.resolveValue("searchResultsFilter",f.c)]),o=Object(s.a)(i,2),l=o[0],d=o[1],c=r()(d,"pageNum.[0]"),m=Object(b.c)(l,d),u=m.vehiclePageData,p=m.vehicleAdData,h=Object(b.b)(u);if(h!==N.b)return{currentVehicle:null,customTargeting:null};const g=Object(b.a)(h);return{currentVehicle:p,customTargeting:Object(n.a)({},g,{navigationBetweenPages:c}),dependedOnCurrentVehicle:!0}}}]),Y=l.a.shape({id:l.a.string,creativeConfigData:l.a.shape({imgDisclaimer:l.a.string,linkDisclaimer:l.a.string,adImg:l.a.string,adLabel:l.a.string,cta:l.a.string,oemLogo:l.a.string,vehicleTrim:l.a.string,msrp:l.a.string,disclaimerCopy:l.a.string,headline2:l.a.string,lineItemId:l.a.string,label2:l.a.oneOfType([l.a.string,l.a.number]),label3:l.a.oneOfType([l.a.string,l.a.number]),linkDisplayUrl:l.a.string}),traffickingData:l.a.shape({clickTracker:l.a.shape({desktop:l.a.string,mobile:l.a.string})}),excluded:l.a.bool,siteServedAdsUpdater:l.a.number,zipCode:l.a.string}),H=null,q=l.a.shape({id:l.a.string,creativeConfigData:l.a.shape({label:l.a.string,label2:l.a.string,linkDisplayUrl:l.a.string,cta:l.a.string,logo:l.a.string,disclaimerCopy:l.a.string,headline:l.a.string,photo:l.a.string,photoDisclaimer:l.a.string,lineItemId:l.a.string}),traffickingData:l.a.shape({clickTracker:l.a.shape({desktop:l.a.string,mobile:l.a.string})}),excluded:l.a.bool,siteServedAdsUpdater:l.a.number,zipCode:l.a.string,offersNumber:l.a.number}),z=null,G=l.a.shape({id:l.a.string,creativeConfigData:l.a.shape({adLabel:l.a.string,logo:l.a.string,linkDisclaimer:l.a.string,disclaimerCopy:l.a.string,headline:l.a.string,headline2:l.a.string,linkDisplayUrl:l.a.string,cta:l.a.string,lineItemId:l.a.string}),traffickingData:l.a.shape({clickTracker:l.a.shape({desktop:l.a.string,mobile:l.a.string})}),siteServedAdsUpdater:l.a.number,zipCode:l.a.string,offersNumber:l.a.number}),W=null,K=l.a.shape({id:l.a.string,creativeConfigData:l.a.shape({disclaimerCopy:l.a.string,headline:l.a.string,headline2:l.a.string,clickthroughUrl:l.a.string,cta:l.a.string,photo:l.a.string,customData:l.a.string,lineItemId:l.a.string}),traffickingData:l.a.shape({clickTracker:l.a.shape({desktop:l.a.string,mobile:l.a.string})}),siteServedAdsUpdater:l.a.number,zipCode:l.a.string}),Q=null,J=l.a.shape({id:l.a.string,creativeConfigData:l.a.shape({adLabel:l.a.string,linkDisclaimer:l.a.string,disclaimerCopy:l.a.string,headline:l.a.string,headline2:l.a.string,linkDisplayUrl:l.a.string,cta:l.a.string,lineItemId:l.a.string}),traffickingData:l.a.shape({clickTracker:l.a.shape({desktop:l.a.string,mobile:l.a.string})}),siteServedAdsUpdater:l.a.number,zipCode:l.a.string,offersNumber:l.a.number}),Z=null},"./data/utils/marketo-service.js":function(e,a,t){"use strict";t.d(a,"a",function(){return m});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=(t("../node_modules/core-js/modules/es6.regexp.replace.js"),t("./data/api/api-client.js")),i=t("./utils/isomorphic-logger.js");const r="/email/v1/marketo/campaigns/",o=e=>{let a=e.data,t=e.email;return{body:JSON.stringify({email:t,tokens:{"my.extVars":JSON.stringify(a)}})}},l=e=>{let a=e.data,t=e.email;return{body:JSON.stringify({email:t,tokens:a}).replace(/:(null|undefined)([,}])/g,':\\"\\"$2')}},d={appraisal_email:{campaignId:1657,getBody:o},offer_email:{campaignId:3571,getBody:o},test_appraisal_email:{campaignId:3360,getBody:o},price_checker_promotion_2:{campaignId:3688,getBody:l},new_pricing_confirmation_email:{campaignId:3560,getBody:l},used_pricing_confirmation_email:{campaignId:4004,getBody:l},hpd_pricing_confirmation_email:{campaignId:4289,getBody:l}},c=e=>{let a=e.data,t=e.campaignName,n=e.email;return Object(s.a)({method:"POST",headers:{"Content-Type":"application/json"}},d[t].getBody({data:a,email:n}),{retries:0})};function m(e){let a=e.data,t=e.campaignName,s=e.email;const o=d[t].campaignId,l=c({data:a,campaignId:o,campaignName:t,email:s});return n.f.fetch(`${r}${o}`,l).catch(e=>{Object(i.a)("error",e)})}},"./engagement-handlers/car-buying-engagement-handler/car-buying-engagement-handler.js":function(e,a,t){"use strict";t.d(a,"a",function(){return M}),t.d(a,"b",function(){return V});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/lodash/get.js"),i=t.n(n),r=t("../node_modules/dateformat/lib/dateformat.js"),o=t.n(r),l=t("./site-modules/shared/utils/car-buying/drawer-utils.js"),d=t("./site-modules/shared/utils/inventory-utils/get-digital-retail-available-programs.js"),c=t("./site-modules/shared/utils/inventory-utils/is-used.js"),m=t("./utils/event-toolbox.js"),u=t("./tracking/constant.js"),p=t("./site-modules/shared/constants/car-buying/car-buying-events.js");const h="edmunds_leaseitnow_conversion",f="panel_sms_chat";function g(){m.a.fireTrackAction({event_type:h})}const b={customize:"customize_payment",payment:e=>{let a=e.hideInterstitial;return e.isEligible?a?"show_calculator":"show_interstitial":"ted_ineligible"},prequalify:"pre_qualify",congratulations:"congratulations",credit:"credit"},y=(e,a)=>"credit"===e||"congratulations"===e&&a?"action_end":"action_progress";function _(e){let a=e.detail;const t=a.vin,s=a.creativeId;m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_cause:u.b.ACTION_CAUSE_BUTTON_CLICK,action_category:u.b.USER_ACTION_CATEGORY,action_name:u.b.SAVE_VEHICLE,creative_id:s,subaction_name:u.b.SAVE_VIN,value:t}})}function E(){m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_PROGRESS,event_data:{action_cause:u.b.PAGE_LOAD_CAUSE,action_category:u.b.SYSTEM_ACTION_CATEGORY,action_name:u.b.ACTION_LEAD_SUBMISSION,subaction_name:u.b.DISPLAY_CHAT_LEAD_FORM,creative_id:f}})}function v(e){let a=e.detail;const t=i()(a,"zipValue","");m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:u.b.ACTION_PURCHASE_VEHICLE,subaction_name:u.b.INPUT_ZIP_CODE,action_category:u.b.USER_ACTION_CATEGORY,action_cause:u.b.ACTION_CAUSE_USER_INPUT,creative_id:"digital-retail-calc",value:t}})}function C(e){let a=e.detail;const t=i()(a,"value","");m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_PROGRESS,event_data:{action_name:u.b.ACTION_PURCHASE_VEHICLE,subaction_name:u.b.SELECT_TRADE_IN,action_category:u.b.USER_ACTION_CATEGORY,action_cause:u.b.ACTION_CAUSE_USER_INPUT,creative_id:"digital-retail-calc",value:t}})}function T(e){let a=e.detail;const t=i()(a,"name",""),s=i()(a,"value","");let n=s;"date"===t&&(n=o()(s,"ddd mmm dd")),m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_PROGRESS,event_data:{action_name:u.b.ACTION_PURCHASE_VEHICLE,action_cause:u.b.SELECT_CHANGE,action_category:u.b.USER_ACTION_CATEGORY,subaction_name:`select_delivery_${t}`,creative_id:"email-deal",value:n}})}function N(e){let a=e.detail;const t=i()(a,"value","");m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_PROGRESS,event_data:{action_name:u.b.ACTION_VIEW_CONTENT,action_cause:u.b.ACTION_CAUSE_USER_INPUT,action_category:u.b.USER_ACTION_CATEGORY,subaction_name:"request_home_delivery",creative_id:"email-deal",value:t}})}function j(){m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:u.b.ACTION_SHOW_CONTENT,action_cause:u.b.PAGE_LOAD_CAUSE,action_category:u.b.SYSTEM_ACTION_CATEGORY,subaction_name:"dealer_offers_home_delivery",value:"Dealer Offers Home Delivery"}})}function I(){m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:u.b.ACTION_PURCHASE_VEHICLE,action_cause:u.b.ACTION_CAUSE_LINK_CLICK,action_category:u.b.USER_ACTION_CATEGORY,subaction_name:"request_home_delivery",creative_id:"payment-step",value:"Request now"}})}function O(e){let a=e.detail,t=a.isOpen,s=a.creativeId;m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:u.b.ACTION_TOOL_SELECT,subaction_name:u.b.VIEW_PRICE_DETAILS,action_cause:u.b.ACTION_CAUSE_BUTTON_CLICK,action_category:u.b.USER_ACTION_CATEGORY,creative_id:s,value:t?"show":"hide"}})}function k(e){let a=e.detail,t=a.actionCause,s=a.creativeId;m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:u.b.ACTION_TOOL_SELECT,subaction_name:u.b.SLIDER_MOVE,action_category:u.b.USER_ACTION_CATEGORY,action_cause:t,creative_id:s||"slider"}})}function P(e){let a=e.detail,t=a.creativeId,s=a.subactionName,n=a.value;m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:u.b.ACTION_LEAD_SUBMISSION,subaction_name:s,action_category:u.b.USER_ACTION_CATEGORY,action_cause:u.b.ACTION_CAUSE_BUTTON_CLICK,creative_id:t,value:n}})}function x(e){let a=e.detail,t=a.isValid,s=a.creativeId;m.a.fireTrackAction({event_type:t?u.b.EVENT_TYPE_ACTION_COMPLETED:u.b.EVENT_TYPE_ACTION_PROGRESS,event_data:{action_name:u.b.ACTION_INVENTORY_SELECT,subaction_name:t?u.b.SUBMIT_VIN:u.b.VIN_NOT_FOUND,action_category:u.b.USER_ACTION_CATEGORY,action_cause:u.b.ACTION_CAUSE_BUTTON_CLICK,creative_id:s}})}function S(e){let a=e.detail.value;m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_END,event_data:{action_name:u.b.ACTION_SHARE_CONTENT,subaction_name:u.b.SMS_CLICKOUT,action_category:u.b.USER_ACTION_CATEGORY,value:a}})}function L(e){let a=e.detail.pageHeight;m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_WIDGET_VIEW,event_data:{action_name:u.b.ACTION_WIDGET_VIEW,action_cause:"scroll",total_page_height:a,creative_id:"ted_deal_check_core"}})}function A(){m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_WIDGET_VIEW,event_data:{action_name:u.b.ACTION_WIDGET_VIEW,creative_id:"prequalify-form"}})}function D(){m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:u.b.ACTION_VIEW_VIN_DETAILS,subaction_name:u.b.VIEW_PRICE_GUIDANCE,action_category:u.b.USER_ACTION_CATEGORY,action_cause:u.b.ACTION_CAUSE_LINK_CLICK,creative_id:"new-deal_check-new_model_core",value:"vehicle_card_click"}})}function w(e){let a=e.detail,t=a.subactionName,s=a.creativeId,n=a.value;m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:u.b.ACTION_TOOL_SELECT,action_cause:u.b.ACTION_CAUSE_BUTTON_CLICK,action_category:u.b.USER_ACTION_CATEGORY,subaction_name:t,creative_id:s,value:n}})}function R(e){let a=e.detail,t=a.creativeId,s=a.subactionName;m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_ACTION_PROGRESS,event_data:{action_name:u.b.ACTION_LEAD_SUBMISSION,action_cause:u.b.ACTION_CAUSE_USER_INPUT,action_category:u.b.USER_ACTION_CATEGORY,subaction_name:s,creative_id:t}})}const M={init:e=>{let a=e.getState;m.a.on(p.a.CONVERSION,g),m.a.on(p.a.PAGE_LOAD,e=>(function(e,a){let t=e.detail;const s=a(),n=t.step,r=t.vin,o=t.hideInterstitial,l=i()(s,`carBuying.dealerMapping.${r}.leaseLite`,!1),c=i()(s,`inventory.vin.${r}`,null),p=i()(c,"dealerInfo.rooftopId",null),h=b[n],f=Object(d.a)(c),g=f.leaseProgram,_=f.loanProgram,E=g||_,v={partner_id:p,event_type:y(n,l),event_data:{action_name:u.b.ACTION_PURCHASE_VEHICLE,action_category:u.b.USER_ACTION_CATEGORY,action_cause:u.b.PAGE_LOAD_CAUSE,subaction_name:"function"==typeof h?h({hideInterstitial:o,isEligible:E}):h,value:l?"cbp_lite":"cbp_full"}};m.a.fireTrackAction(v)})(e,a)),m.a.on(p.a.SAVE_VEHICLE,_),m.a.on(p.a.CARCODE_LOADED,E),m.a.on(p.a.ZIP_CHANGE,v),m.a.on(p.a.APPRAISAL_MANUALLY_CHANGE,C),m.a.on(p.a.CHANGE_DELIVERY_DATE_TIME,T),m.a.on(p.a.CHECK_DELIVERY_OPTION,N),m.a.on(p.a.DEALER_OFFERS_HOME_DELIVERY_ACTION,j),m.a.on(p.a.REQUEST_HOME_DELIVERY_ACTION,I),m.a.on(p.a.TOGGLE_DETAILS,O),m.a.on(p.a.SLIDER_MOVE,k),m.a.on(p.a.LEAD_FORM_STEP_CHANGE,P),m.a.on(p.a.VIN_CHANGE,x),m.a.on(p.a.SMS_OPEN_TARGET,S),m.a.on(p.a.DEAL_CHECK_CORE_ENTRY,L),m.a.on(p.a.PRICE_FOCUSED_DEAL_CHECK_VEHICLE_CARD,D),m.a.on(p.a.PRE_QUALIFY_FORM_ENTRY,A),m.a.on(p.a.DEAL_CHECK_CALCULATOR_TOGGLE,w),m.a.on(p.a.DEAL_CHECK_SMS_CHECKBOX,R),m.a.on(p.a.TED_ENTRY,e=>(function(e,a){let t=e.detail;const s=a(),n=t.vin,r=t.isPurchase,o=t.isDrawerOpen,d=i()(s,`inventory.vin.${n}`,null),p=Object(c.a)(d.type),h=Object(l.a)(p,!r),f=o?u.b.ACTION_CAUSE_DRAWER_OPEN:u.b.ACTION_CAUSE_BUTTON_CLICK;m.a.fireTrackAction({event_type:u.b.EVENT_TYPE_WIDGET_VIEW,event_data:{action_cause:f,creative_id:h}})})(e,a))}},V={init:e=>{let a=e.getState;m.a.on(p.a.PAGE_LOAD,e=>(function(e,a){let t=e.detail;const n=t.vin,r=t.isDealExpired,o=t.isPurchase,l=a(),d=i()(l,`inventory.vin.${n}.dealerInfo.rooftopId`,null),c=o?"ACTION_REVIEW_LOAN_DEAL":"ACTION_REVIEW_LEASE_DEAL",p=r?{creative_id:"expired_deal"}:{};m.a.fireTrackAction({partner_id:d,event_type:u.b.EVENT_TYPE_ACTION_END,event_data:Object(s.a)({action_name:u.b[c],action_cause:u.b.PAGE_LOAD_CAUSE,subaction_name:u.b.REVIEW_CBP_LEASE_DEAL_CONSUMER},p)})})(e,a))}}},"./engagement-handlers/lead-form-engagement-handler/lead-form-engagement-handler.js":function(e,a,t){"use strict";t.d(a,"a",function(){return I});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=(t("../node_modules/core-js/modules/es6.regexp.replace.js"),t("../node_modules/lodash/omitBy.js")),i=t.n(n),r=t("../node_modules/lodash/isNull.js"),o=t.n(r),l=t("../node_modules/lodash/get.js"),d=t.n(l),c=t("./utils/event-toolbox.js"),m=t("./tracking/constant.js"),u=t("./site-modules/shared/constants/lead-form/lead-form-events.js"),p=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),h=t("./engagement-handlers/helper.js"),f=t("./engagement-handlers/list-engagement-handler/list-engagement-handler.js"),g=t("./actions/vehicle.js"),b=t("./engagement-handlers/lead-form-engagement-handler/lead-form-engagement-helper.js");function y(e){let a=e.target,t=e.detail;const s=t.leadType,n=t.isUserOpened,i=t.leadFormConfig,r={action_name:m.b.ACTION_LEAD_SUBMISSION,action_cause:"page_load",action_category:n?m.b.USER_ACTION_CATEGORY:m.b.SYSTEM_ACTION_CATEGORY,subaction_name:m.b.DISPLAY_LEAD_FORM,inventory_lead:s===p.f.INVENTORY,creative_id:Object(h.c)(a)},o=d()(i,"bestDealPrice",0);c.a.fireTrackAction({event_type:"action_start",event_data:r,price_checker_best_deal_price:o})}function _(e){let a=e.target,t=e.detail;const s=t.fieldName,n=t.isValid;let i;if("phone"===s||"phoneNumber"===s)i=n?"phone_success":"phone_fail";else{if("email"!==s)return;i=n?"email_success":"email_fail"}const r={phone_success:m.b.PHONE_INPUT_SUCCESS,phone_fail:m.b.PHONE_INPUT_FAIL,email_success:m.b.EMAIL_INPUT_SUCCESS,email_fail:m.b.EMAIL_INPUT_FAIL},o={action_name:m.b.ACTION_LEAD_SUBMISSION,action_cause:"user_input",action_category:"user",subaction_name:r[i],creative_id:Object(h.c)(a)};c.a.fireTrackAction({event_type:"action_progress",event_data:o})}function E(e){let a=e.target,t=e.detail;const s=t.total,n=t.valid,i=t.validationErrors,r={action_name:m.b.ACTION_LEAD_SUBMISSION,action_cause:"button_click",action_category:"user",subaction_name:m.b.ATTEMPT_SUBMIT,creative_id:Object(h.c)(a),error:Object.keys(i).join().replace(/Name/g,""),total:s,valid:n};c.a.fireTrackAction({event_type:"action_progress",event_data:r})}function v(e){let a=e.target,t=e.detail;const s=t.isBlended,n=t.total,i=t.type,r={action_name:m.b.ACTION_LEAD_SUBMISSION,action_cause:"button_click",action_category:"system",subaction_name:m.b.PROCESSED_SUBMIT,creative_id:Object(h.c)(a),isBlended:s,total:n,type:i};t.dealerId&&(r.value=t.dealerId),c.a.fireTrackAction({event_type:"action_completed",event_data:r})}function C(e){let a=e.target,t=e.detail,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.leadTargets,l=t.trackingData,c=Object(b.b)(r),m=Object(b.d)(r),u=d()(l,"leadIdList",[]),p=d()(l,"contactOptions",[]),g=d()(l,"radius",null),y=[];r.forEach(e=>y.push(i()(e.inventory||{dealerInfo:Object(s.a)({},e.dealer)},o.a)));const _=Object(s.a)({},p.length&&{contact_options:p.join()}),E=d()(l,"subactionName","");Object(f.b)(y,Object(h.c)(a),Object(s.a)({inv_treatment_list:Object(h.d)(y),dealer_distance:Object(b.a)(r).join(),match_type_list:Object(h.e)(y,g),match_results:y.length,match_total:y.length,inventory_lead_yes_no:c.join(),style_id_list:m.join(),lead_uuid_list:u.join()},_,n,E?{subaction_name:E}:{}))}function T(e){C(e,{action_name:"inventory_select",subaction_name:"style_select",action_cause:"user_input",action_category:"user"})}function N(e){let a=e.target,t=e.detail;const s=t.checked,n=t.slot,i={action_name:m.b.ACTION_LEAD_SUBMISSION,action_cause:"user_input",action_category:"user",subaction_name:s?"check_card":"uncheck_card",creative_id:Object(h.c)(a),value:n};c.a.fireTrackAction({event_type:"action_progress",event_data:i})}function j(e){let a=e.detail.leadTargets,t=e.target;const s={action_name:m.b.ACTION_LEAD_SUBMISSION,action_cause:"button_click",action_category:"user",subaction_name:m.b.DISPLAY_THANK_YOU,creative_id:Object(h.c)(t)};a.forEach((e,a)=>{const t=d()(e,"inventory.vin"),n=Object(g.f)(d()(e,"inventory.prices")),i=n.price,r=n.salePrice,o=0===a?"action_end":"action_end_multi",l=d()(e,"inventory.vehicleInfo.styleInfo.trim");c.a.fireTrackAction({event_type:o,event_data:s,lead_data:{vin:t,price:i,trim:l,salePrice:r}})})}const I={init:()=>{c.a.on(u.a.DISPLAY,y),c.a.on(u.a.LIST,C),c.a.on(u.a.INPUT,_),c.a.on(u.a.SELECT_STYLE,T),c.a.on(u.a.SELECT_CARD,N),c.a.on(u.a.ATTEMPT_SUBMIT,E),c.a.on(u.a.SUBMIT,v),c.a.on(u.a.THANK_YOU,j)}}},"./engagement-handlers/lead-form-engagement-handler/lead-form-engagement-helper.js":function(e,a,t){"use strict";t.d(a,"a",function(){return i}),t.d(a,"b",function(){return r}),t.d(a,"d",function(){return o}),t.d(a,"c",function(){return l});var s=t("../node_modules/lodash/get.js"),n=t.n(s);function i(e){return e.map(e=>{return e.leadAttributes.distance})}function r(e){return e.map(e=>{return void 0!==e.inventory})}function o(e){return e.map(e=>{let a=e.inventory;return n()(a,"vehicleInfo.styleInfo.styleId",0)})}function l(e,a,t){return e.map((e,s)=>t[a.indexOf(s)]||null)}},"./engagement-handlers/list-engagement-handler/list-engagement-handler.js":function(e,a,t){"use strict";t.d(a,"b",function(){return h}),t.d(a,"a",function(){return f});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/lodash/toString.js"),i=t.n(n),r=t("../node_modules/lodash/get.js"),o=t.n(r),l=t("../node_modules/lodash/forIn.js"),d=t.n(l),c=t("./utils/event-toolbox.js"),m=t("./tracking/constant.js"),u=t("./actions/vehicle.js");function p(e){const a=[],t=[],s=[],n=[];return d()(e,e=>{e.isSoldVin||(t.push(function(e){return o()(e,"dealerInfo.franchiseId",o()(e,"dealerInfo.id"))}(e)),a.push(function(e){return o()(e,"dealerInfo.rooftopId")}(e)),s.push(function(e){return o()(e,"vid","")}(e)),n.push(function(e){return o()(e,"vin","")}(e)))}),{loc_id_list:i()(a),f_id_list:i()(t),inv_id_list:i()(s),vin_list:i()(n)}}function h(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=Object(s.a)({action_name:"list",action_cause:"page_load",action_category:"system",creative_id:a},p(e),t);c.a.fireTrackAction({event_type:"action_completed",event_data:n,first_vehicle:function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]||{},a=Object(u.f)(e.prices),t=a.price,s=a.salePrice;return{make:o()(e,"vehicleInfo.styleInfo.make",""),model:o()(e,"vehicleInfo.styleInfo.model",""),year:o()(e,"vehicleInfo.styleInfo.year",""),type:o()(e,"type",""),interiorColor:o()(e,"vehicleInfo.vehicleColors.interior.genericName",""),exteriorColor:o()(e,"vehicleInfo.vehicleColors.exterior.genericName",""),price:t,salePrice:s,trim:o()(e,"vehicleInfo.styleInfo.trim",""),bodyType:o()(e,"vehicleInfo.styleInfo.bodyType","")}}(e)})}const f={init(){c.a.on(m.b.ACTION_LIST_VIEWED,e=>{h(e.detail.inventory,e.detail.creativeId,e.detail.extendObj)})}}},"./engagement-handlers/profile-engagement-handler/profile-engagement-handler.js":function(e,a,t){"use strict";t.d(a,"n",function(){return c}),t.d(a,"m",function(){return m}),t.d(a,"l",function(){return u}),t.d(a,"i",function(){return p}),t.d(a,"f",function(){return h}),t.d(a,"d",function(){return f}),t.d(a,"e",function(){return g}),t.d(a,"c",function(){return b}),t.d(a,"k",function(){return _}),t.d(a,"j",function(){return E}),t.d(a,"h",function(){return v}),t.d(a,"a",function(){return C}),t.d(a,"o",function(){return T}),t.d(a,"b",function(){return N}),t.d(a,"g",function(){return j});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("./utils/event-toolbox.js"),i=t("./tracking/constant.js"),r=t("./tracking/profile-tracking-constants.js"),o=t("./site-modules/shared/components/profile/smart-sign/constants.js"),l=t("./site-modules/shared/utils/price-checker.js");const d=e=>n.a.fireTrackAction(Object(s.a)({ads:{disable_refresh:!0}},e)),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const t=Object(s.a)({action_category:"user",action_cause:"button_click",action_name:i.b.ACTION_SIGN_IN,subaction_name:i.b.AUTHENTICATE_SOCIAL,creative_id:Object(l.j)(r.a.SIGN_IN_SOCIAL_CREATIVE_ID,a)},e);d({event_type:"action_end",event_data:t})},m=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;const n=Object(s.a)({action_category:"user",action_cause:"button_click",action_name:i.b[`ACTION_${e}`],subaction_name:i.b[`SUCCESS_${e}`],creative_id:Object(l.j)(r.a[`${e}_DRAWER_CREATIVE_ID`],t)},a);d({event_type:"action_end",event_data:n})},u=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;const n=Object(s.a)({action_name:i.b.SAVE_VEHICLE,subaction_name:i.b.SAVE_MODEL,action_category:"user",action_cause:"button_click",creative_id:Object(l.j)(r.a[`${e}_DRAWER_CREATIVE_ID`],t)},a);d({event_type:"action_completed",event_data:n})},p=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;const n=Object(s.a)({action_category:"user",action_cause:"button_click",action_name:i.b[`ACTION_${e}`],subaction_name:i.b[`SUBMIT_${e}`],creative_id:Object(l.j)(r.a[`${e}_DRAWER_CREATIVE_ID`],t)},a);d({event_type:"action_progress",event_data:n})},h=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;const n=Object(s.a)({action_category:"user",action_cause:"button_click",action_name:i.b[`ACTION_${e}`],subaction_name:i.b[`AUTHENTICATE_${e}`],creative_id:Object(l.j)(r.a[`${e}_DRAWER_CREATIVE_ID`],t)},a);d({event_type:"action_completed",event_data:n})},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=Object.keys(e).map(a=>`${a}:${e[a]}`).join(","),n=Object(s.a)({action_category:"user",action_cause:"link_click",action_name:i.b.SAVE_VEHICLE,subaction_name:i.b.SAVE_SEARCH,creative_id:r.a.AUTHENTICATED_SAVE_SEARCH,value:t},a);d({event_type:"action_completed",event_data:n})},g=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=Object(s.a)({action_category:"user",action_cause:"link_click",action_name:i.b.SAVE_VEHICLE,subaction_name:i.b.SAVE_VIN,creative_id:r.a.AUTHENTICATED_SAVE_VIN,value:e},a);d({event_type:"action_completed",event_data:t})},b=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=Object(s.a)({action_category:"user",action_cause:"link_click",action_name:i.b.SAVE_VEHICLE,subaction_name:i.b.SAVE_APPRAISAL,creative_id:r.a.AUTHENTICATED_SAVE_APPRAISAL,value:e},a);d({event_type:"action_completed",event_data:t})},y=(e,a)=>{const t={action_category:"user",action_cause:"link_click",action_name:i.b.ACTION_UPDATE_MEMBERSHIP,subaction_name:e,creative_id:Object(l.j)(r.a.AUTH_ACTION_CREATIVE_ID,a)};d({event_type:"action_completed",event_data:t})},_=e=>y(i.b.RESET_PASSWORD_SUCCESS,e),E=e=>y(i.b.RESET_PASSWORD_FAILURE,e),v=e=>{const a={action_category:"user",action_cause:"click",action_name:i.b.ACTION_RESET_NAVIGATION,subaction_name:i.b.NAVIGATION_CLOSE,creative_id:e};d({event_type:"action_completed",event_data:a})},C=e=>{let a=e.isTED4825Enabled;const t={action_name:i.b.ACTION_WIDGET_VIEW,action_cause:i.b.ACTION_CAUSE_DRAWER_OPEN,creative_id:Object(l.j)("authenticated-modal",a)};d({event_type:i.b.ACTION_WIDGET_VIEW,event_data:t})},T=e=>{const a={action_name:i.b.ACTION_SIGN_UP,subaction_name:i.b.SUCCESS_EMAIL_ONLY_SIGN_UP,action_cause:"button_click",creative_id:Object(l.j)("authenticated-modal",e)};d({event_type:"action_progress",event_data:a})},N=e=>{const a={action_name:i.b.ACTION_SIGN_UP,subaction_name:i.b.BEGIN_SIGN_UP,action_cause:"link_click",creative_id:"authenticated-modal",value:r.a[e]};d({event_type:"action_start",event_data:a})},j=e=>{n.a.fireCustomEvent(o.d,{email:e})}},"./engagement-handlers/site-served-ads-engagement-handler/site-served-ads-engagement-handler.js":function(e,a,t){"use strict";var s=t("./utils/event-toolbox.js"),n=t("./engagement-handlers/helper.js"),i=t("./configuration.js");function r(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";a&&s.a.fireTrackAction({event_type:"action_completed",event_data:{action_name:"native_ad_load",action_category:"system",value:e,action_cause:"page_load",creative_id:Object(n.c)(a),line_item_id:o,click_correlator_ts:t,position:r,region:i.a.get("awsAvailabilityZone","")}})}function o(e){e&&s.a.fireTrackAction({event_type:"action_completed",event_data:{action_name:"ad_load",action_category:"system",action_cause:"page_load",creative_id:Object(n.c)(e)}})}t.d(a,"a",function(){return r}),t.d(a,"b",function(){return o})},"./images/404.jpg":function(e,a,t){e.exports=t.p+"91ffdd356f5430c67363d80f3451496b.jpg"},"./images/apple-app-store.svg":function(e,a,t){e.exports=t.p+"66f7053f1eb488bf0798b46bc3b85c1e.svg"},"./images/edmunds-logo-226.png":function(e,a,t){e.exports=t.p+"e15bd0b733f1d62081168f97c7941461.png"},"./images/google-play-store.svg":function(e,a,t){e.exports=t.p+"abd94dc7b36be42338a142620eb4bcf2.svg"},"./images/logo-white.svg":function(e,a,t){e.exports=t.p+"e20178b235b6f0e24fff96df81b22919.svg"},"./site-modules/lead-form/pages/lead-form-seo.js":function(e,a,t){"use strict";t.d(a,"b",function(){return o}),t.d(a,"a",function(){return l});var s=t("../node_modules/lodash/get.js"),n=t.n(s),i=t("./data/luckdragon/model.js"),r=t("./data/models/vehicle.js");function o(){const e={title:"",description:"",keywords:"",robots:{noIndex:!0,noFollow:!0}};return e}function l(e,a){const t=n()(a,"match.params.make",n()(a,"location.query.make")),s=n()(a,"match.params.model",n()(a,"location.query.model")),l=n()(a,"match.params.year",n()(a,"location.query.year")),d=Object(i.b)(e),c=o();c.title="Dealer Price Quotes - Edmunds.com";const m=d.get(Object(r.E)({make:t,model:s,year:l}),r.c);return m&&(c.title=`${l} ${m.make.name} ${m.model.name} ${c.title}`),c}},"./site-modules/lead-form/pages/unified-lead-form-definition.jsx":function(e,a,t){"use strict";t.r(a);var s=t("./site-modules/shared/pages/page.jsx"),n=t("./site-modules/shared/pages/decorators/edmunds-empty.jsx"),i=t("./site-modules/lead-form/pages/lead-form-seo.js"),r=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),o=t("../node_modules/react/index.js"),l=t.n(o),d=t("../node_modules/prop-types/index.js"),c=t.n(d),m=t("./utils/location.js"),u=t("./site-modules/shared/components/lead-form/unified-lead-form/unified-lead-form-wrapper.jsx");function p(e){let a=e.location;const t=a.pathname,s=Object(m.a)(a),n=s.priceStrikethrough,i=s.isThankYouLeadFormAvailable,o=s.usedVehicleProtectionPlan,d=s.formName,c=Object(r.a)({},s,{priceStrikethrough:"true"===n,isThankYouLeadFormAvailable:"true"===i,usedVehicleProtectionPlan:"true"===o}),p={pathname:t};return l.a.createElement(u.a,{formName:d,params:c,options:p})}p.propTypes={location:c.a.shape({search:c.a.string})},p.defaultProps={location:{search:""}};a.default=Object(s.a)({name:"unified_model_car_inventory_form_multi_select",category:"unified_model_car_inventory",component:p,decorator:n.a,seo:i.b})},"./site-modules/shared/components/ad-unit/ad-unit.scss":function(e,a,t){},"./site-modules/shared/components/aspect-ratio-container/aspect-ratio-container.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return p});var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),i=(t("../node_modules/core-js/modules/es6.regexp.split.js"),t("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js")),r=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=t("../node_modules/react/index.js"),l=t.n(o),d=t("../node_modules/prop-types/index.js"),c=t.n(d),m=t("../node_modules/classnames/index.js"),u=t.n(m);t("./site-modules/shared/components/aspect-ratio-container/aspect-ratio-container.scss");function p(e){let a=e.children,t=e.aspectRatio,o=e.className,d=e.tag,c=e.styles,m=Object(r.a)(e,["children","aspectRatio","className","tag","styles"]);const p=t.split(":"),h=Object(i.a)(p,2),f=h[0],g=h[1],b={paddingTop:`${100*parseFloat(g/f).toFixed(4)}%`,overflow:"hidden"},y=Object(n.a)({},b,c);return l.a.createElement(d,Object(s.a)({className:u()("aspect-ratio-container pos-r",o),style:y},m),l.a.createElement("div",{className:"wrapper",style:{height:0,overflow:"hidden"}},a))}p.propTypes={children:c.a.node.isRequired,aspectRatio:c.a.string,className:c.a.string,tag:c.a.oneOfType([c.a.string,c.a.func]),styles:c.a.shape({})},p.defaultProps={aspectRatio:"16:9",className:null,tag:"div",styles:null}},"./site-modules/shared/components/aspect-ratio-container/aspect-ratio-container.scss":function(e,a,t){},"./site-modules/shared/components/calculator/notification-message/notification-message.scss":function(e,a,t){},"./site-modules/shared/components/calculator/payment-input/payment-input.scss":function(e,a,t){},"./site-modules/shared/components/calculator/vehicle-price/vehicle-price.scss":function(e,a,t){},"./site-modules/shared/components/car-buying/custom-disclaimer/custom-disclaimer.scss":function(e,a,t){},"./site-modules/shared/components/car-buying/deal-review/deal-details.scss":function(e,a,t){},"./site-modules/shared/components/car-buying/expandable-container/expandable-container.scss":function(e,a,t){},"./site-modules/shared/components/car-buying/odometer-payment-value/odometer-payment-value.scss":function(e,a,t){},"./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-chart-input.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return u});t("../node_modules/core-js/modules/es6.regexp.replace.js");var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/classnames/index.js"),l=t.n(o),d=t("./site-modules/shared/utils/string.js"),c=t("./site-modules/shared/constants/key-values.js");const m=/[^\d]+/g;class u extends s.Component{constructor(){super(...arguments),this.state={inputValue:Object(d.c)(this.props.value),clearValue:this.props.value},this.handleChange=(e=>{const a=e.target.value.replace(m,""),t=""===a?"":Object(d.c)(Number(a));this.setState({clearValue:a,inputValue:t})}),this.handleBlur=(()=>{this.props.onChange(this.state.clearValue)}),this.handleEnterPress=(e=>{e.key===c.a&&this.handleBlur()})}render(){const e=this.props.className,a=this.state,t=a.inputValue,s=a.clearValue>99999?"100px":"90px";return n.a.createElement("input",{id:"sliderInput",inputMode:"numeric",value:t,onKeyDown:this.handleEnterPress,onChange:this.handleChange,onBlur:this.handleBlur,className:l()("heading-4",e),"aria-label":"Enter payment",style:{width:s}})}}u.propTypes={value:r.a.oneOfType([r.a.string,r.a.number]),onChange:r.a.func.isRequired,className:r.a.string},u.defaultProps={value:"",className:"pl-1_25 pr-0_5 py-0_5 font-weight-normal slider-input"}},"./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-chart.scss":function(e,a,t){},"./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-price-chart.jsx":function(e,a,t){"use strict";var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),i=t("../node_modules/lodash/find.js"),r=t.n(i),o=t("../node_modules/lodash/debounce.js"),l=t.n(o),d=t("../node_modules/lodash/isEqual.js"),c=t.n(d),m=t("../node_modules/lodash/isEmpty.js"),u=t.n(m),p=t("../node_modules/lodash/get.js"),h=t.n(p),f=t("../node_modules/react/index.js"),g=t.n(f),b=t("../node_modules/prop-types/index.js"),y=t.n(b),_=t("../node_modules/classnames/index.js"),E=t.n(_),v=t("../node_modules/reactstrap/lib/CustomInput.js"),C=t.n(v),T=t("./site-modules/shared/constants/car-buying/car-buying-events.js"),N=t("./site-modules/shared/constants/car-buying/index.js"),j=t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-chart-data.js"),I=t("./site-modules/shared/constants/price-checker.js"),O=t("./data/models/vehicle-v2.js"),k=t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-chart-input.jsx"),P=(t("../node_modules/core-js/modules/es6.regexp.to-string.js"),t("../node_modules/lodash/every.js")),x=t.n(P),S=t("./site-modules/shared/utils/price-utils.js"),L=t("./site-modules/shared/utils/price-checker.js"),A=t("./utils/seed-randomizers.js"),D=t("./site-modules/shared/components/price-checker/price-checker-promo-chart/pricing-chart.jsx");const w=5;class R extends f.Component{constructor(e){super(e),this.state={tmvChartData:null},this.filterRandomInt=Object(A.c)()}static getDerivedStateFromProps(e,a){const t=e.tmvData,s=e.lowerPayment,i=e.upperPayment,r=e.userDealerPrice,o=e.isVDPPriceChart;if(!t||x()(t,e=>0===e))return{tmvChartData:null};let l;a&&h()(e,"userDealerPrice")!==h()(a,"tmvChartData.userDealerPrice")&&(l=!0);const d=Object(L.f)({tmvData:t,userDealerPrice:r,isVDPPriceChart:o}),c=d.dealerPrice.label;let m,u;return r&&(m=Object(L.b)({tmvData:t,lowerPayment:s,upperPayment:i,userDealerPrice:r,label:c,barsPerDeal:w}),u=I.b.COMMON.gradientConfig.find(e=>{return e.dealType===c})),{tmvChartData:Object(n.a)({},d,{dealerPrice:Object(n.a)({},d.dealerPrice,{index:m}),userDealerPrice:r,gradientConfig:u,showPolyline:l})}}render(){const e=this.props,a=e.userDealerPrice,t=e.isMobile,i=e.tmvData,r=e.lowerPayment,o=e.upperPayment,l=e.dealerPrice,d=e.isVDPPriceChart,c=this.state.tmvChartData;let m=[{index:I.b.COMMON.keyPointsIndex.lowEnd},{index:I.b.COMMON.keyPointsIndex.highEnd,end:!0}];c&&(m=[{label:Object(S.c)(c.maxGreatPrice),index:I.b.COMMON.keyPointsIndex.lowEnd},{label:Object(S.c)(c.maxFairPrice),index:I.b.COMMON.keyPointsIndex.highEnd,end:!0}]);const u=h()(Object(L.h)(Object(n.a)({},i,{userDealerPrice:l})),"label"),p=Object(L.b)({tmvData:i,lowerPayment:r,upperPayment:o,userDealerPrice:l,label:u,barsPerDeal:w});return g.a.createElement("div",{className:"price-checker-chart-lead-form text-center"},g.a.createElement("div",{className:"d-flex flex-column justify-content-end"},g.a.createElement("span",{className:"small text-gray-darker font-weight-bold",style:{minHeight:"16px"}},!!a&&a===l&&"Dealer Price"),g.a.createElement("div",{className:E()("user-price font-weight-bold",{"d-flex align-items-center justify-content-center":c,invisible:!a||!c,"size-20":d}),style:{color:h()(c,"dealerPrice.color")}},h()(c,"dealerPrice.label")," Price: ",Object(S.c)(a))),g.a.createElement(D.a,Object(s.a)({},I.b.COMMON,{columnWidth:{desktop:27,mobile:16},dataPoints:I.b.DATA_POINTS.WITH_DATA,selectedPriceIndex:h()(c,"dealerPrice.index"),showPolyline:h()(c,"showPolyline"),isMobile:t,idPrefix:this.filterRandomInt.toString(),dealerPrice:l},d?{customChartHeight:165,dealerPriceIndex:p,labelVerticalShift:{desktop:25,mobile:25}}:{customChartHeight:135},{customPriceLabels:d?m:void 0,hideNoIndexArrow:d&&!!l,yRate:2})))}}R.propTypes={tmvData:O.c.NewTmv,userDealerPrice:y.a.number,lowerPayment:y.a.number,upperPayment:y.a.number,isMobile:y.a.bool,dealerPrice:y.a.number,isVDPPriceChart:y.a.bool},R.defaultProps={tmvData:null,userDealerPrice:null,lowerPayment:null,upperPayment:null,isMobile:!1,dealerPrice:null,isVDPPriceChart:!1};var M=t("./utils/event-toolbox.js"),V=t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-chart-utils.js"),F=t("./site-modules/shared/utils/car-buying/calculated-prices.js");t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-chart.scss");t.d(a,"a",function(){return H});const U=400,$=2e3,B=600,Y=j.f.DATA_LENGTH-1;class H extends f.Component{constructor(){super(...arguments),this.state={sliderPayments:[],sliderLeasePayments:[],sliderMonthlyPayments:[],sliderLeaseMonthlyPayments:[],inputValue:this.props.dealerPrice||"",sliderValue:0,lowerPayment:0,upperPayment:0,lowerLeasePayment:0,upperLeasePayment:0},this.getSliderInputWrapperRef=(()=>this.chartInputsRef.current.querySelector(".slider-input-wrapper")),this.getPayments=(e=>{const a=this.props.isPurchase,t=e.sliderPayments,s=e.sliderLeasePayments,n=e.sliderMonthlyPayments,i=e.sliderLeaseMonthlyPayments;return{sliderPayments:a?t:s,sliderMonthlyPayments:a?n:i}}),this.getLowerUpperPayments=(e=>{const a=this.props.isPurchase,t=e.lowerPayment,s=e.upperPayment,n=e.lowerLeasePayment,i=e.upperLeasePayment;return{lowerPayment:a?t:n,upperPayment:a?s:i}}),this.getInputPosition=(()=>{const e=this.state,a=e.sliderPayments,t=e.sliderValue,s=this.props,n=s.isMobile,i=s.isVDPPriceChart,r=h()(this.chartInputsRef,"current.offsetWidth"),o=h()(this.chartSliderRef,"current.offsetWidth");let l=0;return r&&o&&(l=(r-o)/(a.length-1)*t,n&&i&&(l=(r-o)/2/(a.length-1)*t)),l}),this.getCurrentSliderValue=(e=>{const a=this.props,t=a.dealItems,s=a.selectedDealType,n=a.isPurchase,i=h()(e,"activePayload[0].payload.type",s),o=r()(t[n?N.t:N.o],e=>h()(e,"dealOffer.dealType")===i),l=h()(o,"dealOffer"),d=h()(o,"inventory.prices.displayPrice"),c=h()(l,"sellingPrice"),m=h()(l,"incentives"),u=Object(F.a)({sellingPrice:c,incentives:m,msrp:d}).purchasePriceAfterRebates;return"high"===i?j.h[i]:Object(V.d)(this.getPayments(this.state).sliderPayments,u)}),this.fireSliderMoveEvent=l()(e=>M.a.fireCustomEvent(T.a.SLIDER_MOVE,{actionCause:e,creativeId:this.props.creativeId}),500),this.fireValueChangeEvent=l()(e=>M.a.fireCustomEvent(j.b,{value:e,loanMonthlyValue:e?this.state.sliderMonthlyPayments[this.state.sliderValue]:"",leaseMonthlyValue:e?this.state.sliderLeaseMonthlyPayments[this.state.sliderValue]:""}),500),this.handleSliderChange=(e=>this.handleSliderMove(Number(e.target.value))),this.handleValueChangeOutside=(e=>{let a=e.detail;this.handleSliderChange({target:{value:Object(V.d)(this.getPayments(this.state).sliderPayments,a.value)}})}),this.handleInputChange=(e=>{if(""===e)return void this.handleInputFocus();const a=this.getLowerUpperPayments(this.state),t=a.lowerPayment,s=a.upperPayment,i=Number(e);let r,o;i<t?(r=t,o=0):i>s?(r=s,o=Y):(r=i,o=Object(V.d)(this.getPayments(this.state).sliderPayments,r)),this.setState({inputValue:r,sliderValue:o},()=>{this.handleInputFocus(),this.props.onSliderMove({dealType:Object(L.h)(Object(n.a)({},this.props.tmvData,{userDealerPrice:r})).dealType.toLowerCase(),inputValue:r})}),this.fireSliderMoveEvent("enter_number"),this.fireValueChangeEvent(r)}),this.handleInputFocus=(()=>{const e=this.getSliderInputWrapperRef();e.classList.contains("focused")?e.classList.remove("focused"):(e.classList.add("focused"),e.querySelector(".slider-input").focus()),this.toggleSliderEmptyState()}),this.handleDoubleTouch=(()=>{const e=(new Date).getTime();e-this.lastTouchTime<U&&this.handleInputFocus(),this.lastTouchTime=e}),this.toggleSliderEmptyState=(()=>{const e=this.getSliderInputWrapperRef(),a=e.classList.contains("empty"),t=e.classList.contains("focused"),s=""===this.state.inputValue;if(a&&(!s||t))return e.classList.remove("empty"),e.classList.add("empty-out"),void(this.emptyStateRemovalTimeout=setTimeout(()=>{e.classList.remove("empty-out")},B));s&&!a&&(e.classList.add("empty"),e.classList.remove("empty-out"))}),this.animateSlider=(()=>{this.chartInputsRef.current.classList.add("animate-slider"),this.animateTimeout=setTimeout(()=>{this.chartInputsRef.current.classList.remove("animate-slider"),this.getSliderInputWrapperRef().classList.remove("hidden")},$)}),this.handleSliderMove=(e=>{const a=this.getPayments(this.state).sliderPayments[e]||"";this.setState({sliderValue:e,inputValue:a},this.toggleSliderEmptyState),this.fireSliderMoveEvent("drag"),this.fireValueChangeEvent(a),this.props.onSliderMove({dealType:Object(L.h)(Object(n.a)({},this.props.tmvData,{userDealerPrice:a})).dealType.toLowerCase(),inputValue:a})}),this.chartInputsRef=g.a.createRef(),this.chartSliderRef=g.a.createRef(),this.animateTimeout=null,this.emptyStateRemovalTimeout=null,this.lastTouchTime=0}static getDerivedStateFromProps(e,a){const t=Object(V.e)(e.dealItems,e.isUsed,e.withMonthlyPayments?["inputValue","sliderValue"]:null,e.dealerPrice,e.isVDPPriceChart);return t?c()(t.sliderPayments,a.sliderPayments)&&c()(t.sliderLeasePayments,a.sliderLeasePayments)&&c()(t.sliderMonthlyPayments,a.sliderMonthlyPayments)&&c()(t.sliderLeaseMonthlyPayments,a.sliderLeaseMonthlyPayments)?null:t:null}componentDidMount(){if(!this.props.skipWidgetViewTracking){const e=Math.max(document.body.scrollHeight,document.body.offsetHeight);M.a.fireCustomEvent(T.a.DEAL_CHECK_CORE_ENTRY,{pageHeight:e})}M.a.on(j.c,this.handleValueChangeOutside)}componentDidUpdate(e,a){const t=this.state,s=t.inputValue,i=t.sliderValue,r=this.props,o=r.sliderShouldBeUpdated,l=r.noDealCheckAnimation,d=r.onSliderMove,m=r.selectedDealType,p=r.tmvData,h=this.getPayments(this.state),f=h.sliderPayments,g=h.sliderMonthlyPayments,b=!u()(f);l||!b||this.sliderAnimated||(this.sliderAnimated=!0,this.animateSlider());const y=this.getLowerUpperPayments(this.state).lowerPayment,_=this.getLowerUpperPayments(a).lowerPayment;_&&y!==_&&this.toggleSliderEmptyState(),b&&!c()(g,this.getPayments(a).sliderMonthlyPayments)&&this.fireValueChangeEvent(s),o&&this.handleSliderMove(this.getCurrentSliderValue());const E=!a.sliderValue&&!!i;!m&&E&&s&&d({dealType:Object(L.h)(Object(n.a)({},p,{userDealerPrice:s})).dealType.toLowerCase(),inputValue:s})}componentWillUnmount(){this.emptyStateRemovalTimeout&&clearTimeout(this.emptyStateRemovalTimeout),this.animateTimeout&&clearTimeout(this.animateTimeout),M.a.off(j.c,this.handleValueChangeOutside)}render(){const e=this.props,a=e.isMobile,t=e.withMonthlyPayments,n=e.isUsed,i=e.noDealCheckAnimation,r=e.dealerPrice,o=e.isVDPPriceChart,l=e.tmvData,d=this.state,c=d.inputValue,m=d.sliderValue,u=this.getPayments(this.state).sliderMonthlyPayments,p=!(t&&c),h=I.a.COMMON,b=h.columnWidth,y=h.columnPadding,_=I.a.DATA_POINTS.WITH_DATA,v=b[a?"mobile":"desktop"]*_.length+y*(_.length-1),T=this.getInputPosition(),N=this.getLowerUpperPayments(this.state),O=N.lowerPayment,P=N.upperPayment;return g.a.createElement(f.Fragment,null,g.a.createElement("div",{className:"offer-type-table-chart price-check d-inline-block pos-r",role:"presentation","aria-label":"offer type table chart",tabIndex:0},g.a.createElement("div",{className:"pos-r"},g.a.createElement(R,{userDealerPrice:Number(c),tmvData:l,lowerPayment:O,upperPayment:P,isMobile:a,dealerPrice:r,isVDPPriceChart:o}),g.a.createElement("div",{className:E()("pos-a w-100 d-flex justify-content-center left-0",{"vdp-chart-input-wrapper":o,"chart-input-wrapper":!o})},g.a.createElement(C.a,Object(s.a)({id:"graphRangeInput",type:"range",min:0,max:j.f.DATA_LENGTH,value:m,onChange:this.handleSliderChange},a?{onTouchStart:this.handleDoubleTouch}:{onDoubleClick:this.handleInputFocus},{className:"invisible-chart-input","aria-label":"Enter payment"})))),g.a.createElement("div",{className:E()("chart-inputs pos-r mx-auto",{"mb-1_5":!p&&a,"mt-2_5":n&&!o}),style:{maxWidth:`${v}px`},"data-tracking-parent":"slider",ref:this.chartInputsRef},g.a.createElement(C.a,Object(s.a)({id:"sliderRangeInput",type:"range",min:0,max:j.f.DATA_LENGTH,value:m,onChange:this.handleSliderChange},a?{onTouchStart:this.handleDoubleTouch}:{onDoubleClick:this.handleInputFocus},{className:"pos-r py-1","aria-label":"Enter payment"})),g.a.createElement("div",{className:"slider-range-colors w-100"}),a&&o?g.a.createElement("div",{style:{left:T},className:E()("slider-input-wrapper ed-zdepth-3 empty slider-input-mobile",{hidden:!i,"no-animation":i,invisible:i&&0===T&&!c})},g.a.createElement("div",{style:{left:T},className:"slider-control ed-zdepth-3 bg-white d-flex justify-content-center align-items-center pos-a",ref:this.chartSliderRef},g.a.createElement("span",null),g.a.createElement("span",null),g.a.createElement("span",null))):g.a.createElement("div",{style:{left:T},className:E()("slider-input-wrapper ed-zdepth-3",{empty:!o||!c,hidden:!i,"no-animation":i,invisible:i&&0===T&&!c}),ref:this.chartSliderRef},g.a.createElement(k.a,{key:m,value:c,onChange:this.handleInputChange}),p?g.a.createElement("span",{className:"slide-me-placeholder small text-gray-darker h-100 w-100 d-flex justify-content-between align-items-center px-0_5"},g.a.createElement("span",{className:"icon-arrow-left3 xsmall"}),"Slide Me",g.a.createElement("span",{className:"icon-arrow-right3 xsmall"})):g.a.createElement(f.Fragment,null,g.a.createElement("span",{className:"dashed-placeholder text-gray-darker pl-0_75"},"$ - - -"),g.a.createElement("div",{className:E()("slider-input-monthly-value text-gray-darker mb-0_5 pl-0_75",{small:a,medium:!a})},u[m]?Object(S.a)(u[m]):"$ ","/mo."))))))}}H.propTypes={dealItems:y.a.shape({[y.a.string]:y.a.arrayOf(y.a.shape({}))}),tmvData:O.c.NewTmv,selectedDealType:y.a.string.isRequired,onSliderMove:y.a.func.isRequired,isMobile:y.a.bool,isUsed:y.a.bool,isPurchase:y.a.bool,displayPrice:y.a.number,skipWidgetViewTracking:y.a.bool,colorScheme:y.a.oneOf([j.e]),withMonthlyPayments:y.a.bool,sliderShouldBeUpdated:y.a.bool,noDealCheckAnimation:y.a.bool,dealerPrice:y.a.number,isVDPPriceChart:y.a.bool},H.defaultProps={dealItems:{},tmvData:null,isMobile:!1,isUsed:!1,isPurchase:!1,displayPrice:0,skipWidgetViewTracking:!1,colorScheme:j.e,withMonthlyPayments:!1,sliderShouldBeUpdated:!1,noDealCheckAnimation:!1,dealerPrice:null,isVDPPriceChart:!1}},"./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-toggle-details.scss":function(e,a,t){},"./site-modules/shared/components/car-buying/offer-type-table/offer-type-table.jsx":function(e,a,t){"use strict";var s=t("../node_modules/lodash/noop.js"),n=t.n(s),i=t("../node_modules/lodash/isEmpty.js"),r=t.n(i),o=t("../node_modules/lodash/find.js"),l=t.n(o),d=t("../node_modules/lodash/get.js"),c=t.n(d),m=t("../node_modules/react/index.js"),u=t.n(m),p=t("../node_modules/prop-types/index.js"),h=t.n(p),f=t("./data/models/inventory.js"),g=t("../node_modules/classnames/index.js"),b=t.n(g),y=t("./site-modules/shared/components/car-buying/odometer-payment-value/odometer-payment-value.jsx"),_=t("./site-modules/shared/components/lead-form/unified-lead-form/constants/digital-retail-offer-types.js"),E=t("./site-modules/shared/utils/car-buying/calculated-prices.js");const v="label-item d-flex align-items-center text-nowrap",C=`${v} justify-content-md-center`,T=[{desktop:"Deal Rating",mobile:"Rating"},{desktop:"Vehicle Price",mobile:"Price"},{desktop:"Est. Savings",mobile:"Savings"}];function N(e){let a=e.dealItems,t=e.tableLabels,s=e.enableSelection,n=e.isMobile,i=e.isUsed,r=e.onClick,o=e.onHover,d=e.onHoverLeave,p=e.selectedDealType,h=e.highlightDealType,f=e.colorScheme,g=e.hideOfferTypeTableDetails;return u.a.createElement(m.Fragment,null,s&&!g&&u.a.createElement("div",{className:"text-gray-darker small mb-0_25 pl-0_5"},"Select a deal rating to see the details"),u.a.createElement("div",{className:b()("offer-type-table-deals d-flex pos-r",{"mb-1":s})},u.a.createElement("div",{className:"highlight-line"}),u.a.createElement("div",{className:"highlight-line"}),u.a.createElement("div",{className:b()("px-0_5 px-md-1 pr-lg-3_5 text-gray-darker z-index-1 bordered",{small:n,"medium font-weight-bold":!n})},(t||T).map(e=>{let a=e.desktop,t=e.mobile;return u.a.createElement("div",{key:t,className:v},n?t:a)})),_.a.map((e,t)=>{const g=l()(a,a=>c()(a,"dealOffer.dealType")===e),v=c()(g,"dealOffer"),T=c()(g,"inventory.prices.displayPrice"),N=c()(g,"inventory.computedDisplayInfo.priceValidation.listPriceEstimate"),j=_.b[e],I=j.labelColor,O=j.label,k=c()(v,"sellingPrice"),P=c()(v,"incentives"),x=Object(E.a)({sellingPrice:k,incentives:P,msrp:T}).purchasePriceAfterRebates;let S=(i?N:T)-x||null;S=-1===Math.sign(S)?null:S;const L=p===e&&!s,A=h===e,D=0===t,w=2===t,R=b()(C,{"heading-6":n,"heading-4":!n}),M=b()(C,{small:n||i}),V=`bg${f?`-${f}`:""}-${I}`;let F,U;return i&&(F="Mkt. Avg.",S&&(U=n?"*":u.a.createElement("span",{className:"ml-0_25"},"Below Mkt."))),u.a.createElement("div",{key:e,className:b()("offer-type w-100 z-index-1 pl-0_5 pl-md-0 text-gray-darker c-pointer",{"border-left":D,"border-right":w,"ed-zdepth-3":L||A,selectable:s,hoverable:g}),onClick:g?r:null,onMouseEnter:s||n?null:o,onMouseLeave:s||n?null:d,role:"switch","aria-checked":L,"data-deal-type":e,tabIndex:-1},u.a.createElement("div",{className:C},u.a.createElement("div",{className:`${V} d-inline-block deal-indicator mr-0_25 mr-md-0_5`}),u.a.createElement("div",{className:b()("font-weight-bold d-inline-block",{medium:n})},O)),u.a.createElement(m.Fragment,null,u.a.createElement("div",{className:R},u.a.createElement(y.a,{value:x})),u.a.createElement("div",{className:M},u.a.createElement(y.a,{value:S,invalidValueText:F}),U)))})))}N.propTypes={onClick:h.a.func.isRequired,onHover:h.a.func.isRequired,onHoverLeave:h.a.func.isRequired,selectedDealType:h.a.string.isRequired,highlightDealType:h.a.string,colorScheme:h.a.string,dealItems:h.a.arrayOf(h.a.shape({})),tableLabels:h.a.arrayOf(h.a.shape({desktop:h.a.string,mobile:h.a.string})),enableSelection:h.a.bool,isMobile:h.a.bool,isUsed:h.a.bool,hideOfferTypeTableDetails:h.a.bool},N.defaultProps={dealItems:[],tableLabels:null,highlightDealType:"",colorScheme:"",enableSelection:!1,isMobile:!1,isUsed:!1,hideOfferTypeTableDetails:!1};var j=t("../node_modules/reactstrap/lib/Card.js"),I=t.n(j),O=t("./engagement-handlers/inventory-engagement-handler/constants.js"),k=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),P=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),x=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),S=t("../node_modules/lodash/sumBy.js"),L=t.n(S),A=t("../node_modules/lodash/isNumber.js"),D=t.n(A),w=t("../node_modules/dateformat/lib/dateformat.js"),R=t.n(w),M=t("./site-modules/shared/utils/price-utils.js"),V=t("./site-modules/shared/utils/string.js"),F=t("./site-modules/shared/utils/calculator/taxes-and-fees-helper.js"),U=t("./site-modules/shared/utils/inventory-utils/get-destination-fee-copy.js"),$=t("./site-modules/shared/constants/calculator/calculator.js"),B=t("./site-modules/shared/constants/inventory/price-analysis.js"),Y=t("./constants/inventory-types.js"),H=t("./site-modules/shared/components/tooltip-item/tooltip-item.jsx"),q=t("./site-modules/shared/components/car-buying/expandable-container/expandable-container.jsx");const z={BLOCK:"pricing-details-block mt-2 text-gray-darker",BLOCK_NEW:"pricing-details-block text-gray-darker",BLOCK_TITLE:"heading-5 px-0_75",SEPARATOR:"my-0_5 mx-0_75",PRIMARY_BLOCK:"d-flex justify-content-between py-0_5 item px-0_75",PRIMARY_BLOCK_TITLE:"heading-6",PRIMARY_BLOCK_VALUE:"heading-6 pl-0_25",SECONDARY_BLOCK:"d-flex justify-content-between py-0_5 medium item px-0_75",SECONDARY_BLOCK_VALUE:"pl-0_25",EXPANDABLE_CONTAINER_CLASSES:{className:"pricing-details-block mt-1_5 text-gray-darker",toggleClasses:"d-flex justify-content-between align-items-center w-100 pr-1 mb-0_5",closeIcon:"icon-minus3",openIcon:"icon-plus3"}},G={title:h.a.oneOfType([h.a.string,h.a.number,h.a.node]).isRequired,subtitle:h.a.oneOfType([h.a.string,h.a.number,h.a.node])},W={subtitle:null},K=e=>{let a=e.taxes,t=e.fees,s=e.type;const n=t.docFee,i=t.acquisitionFee,r=Object(x.a)(t,["docFee","acquisitionFee"]),o=Object(F.c)("retail-lease",a,$.vb,s,!0),l=Object(F.c)("retail-lease",r,$.O,s,!0),d=(n||0)+(i||0);return{totalTaxes:a[$.vb.title.slug]||0,totalFees:(r[$.O.title.slug]||0)-d,hasTaxes:!!o.length,hasFees:!!l.length,taxesData:o,feesData:l,docFee:n,acquisitionFee:i,extraFees:d}};function Q(e){let a=e.title,t=e.subtitle;return u.a.createElement(m.Fragment,null,u.a.createElement("div",{className:z.BLOCK_TITLE},a),!!t&&u.a.createElement("div",{className:"px-0_75 disclaimer"},t),u.a.createElement("hr",{className:z.SEPARATOR}))}function J(e){let a=e.title,t=e.subtitle,s=e.value,n=e.isPrimary,i=e.className,r=e.tooltip;return u.a.createElement("div",{className:b()(i,{[z.PRIMARY_BLOCK]:n,[z.SECONDARY_BLOCK]:!n})},u.a.createElement("div",null,u.a.createElement("div",{className:b()({[z.PRIMARY_BLOCK_TITLE]:n})},a,!!r&&u.a.createElement(H.a,{item:r,id:"item",useUniqId:!0,className:"small"})),!!t&&u.a.createElement("div",{className:"disclaimer"},t)),u.a.createElement("div",{className:b()({[z.PRIMARY_BLOCK_VALUE]:n,[z.SECONDARY_BLOCK_VALUE]:!n})},s))}function Z(e){let a=e.destinationFee,t=e.msrp,s=e.marketAdjustment,n=e.incentives,i=e.incentivesAmount,r=e.purchasePriceBeforeRebates,o=e.purchasePriceAfterRebates,l=e.title,d=e.isDestinationFeeOptional,c=e.make,p=e.wrapperClasses;const h=u.a.createElement(m.Fragment,null,"(Destination Fee ",d?"":`${Object(M.a)(a)} `,u.a.createElement("i",null,Object(U.a)(c)),")");return u.a.createElement("div",{className:b()(z.BLOCK_NEW,p)},u.a.createElement(Q,{title:l}),u.a.createElement(J,{title:"MSRP",subtitle:h,value:Object(M.a)(t),isPrimary:!0}),u.a.createElement(J,{title:"Est. Savings",value:Object(M.a)(s>0?s:0),tooltip:$.wb.EDMUNDS_ESTIMATED_SAVINGS}),!!i&&u.a.createElement(m.Fragment,null,u.a.createElement(J,{title:"Edmunds Suggested Price",subtitle:"(Before Incentives)",value:Object(M.a)(r),isPrimary:!0}),n.map(e=>{let a=e.amount,t=e.cash,s=e.expirationDate,n=e.id,i=e.incentiveId,r=e.name,o=e.programName;const l=a||t;if(!l)return null;const d=r||o;return u.a.createElement(J,{title:u.a.createElement(m.Fragment,null,B.e[d]||d," ",u.a.createElement("b",null,"expires ",R()(s,"mm/dd/yyyy"))),value:Object(M.a)(l),key:n||i})})),u.a.createElement(J,{title:"Edmunds Suggested Price",subtitle:i&&"(After Incentives)",value:Object(M.a)(o),tooltip:$.wb.RECOMMENDED_PAYMENT_PRICE,isPrimary:!0}))}function X(e){let a=e.price,t=e.title,s=e.taxes,n=e.fees;const i=K({taxes:s,fees:n,type:Y.a.USED}),r=i.taxesData,o=i.feesData,l=i.extraFees;return u.a.createElement("div",{className:z.BLOCK},u.a.createElement(Q,{title:t}),u.a.createElement(J,{title:"Purchase Price Before Taxes & Fees",value:Object(M.a)(a),isPrimary:!0}),u.a.createElement(ee,{taxes:s,fees:n,type:Y.a.USED,isContent:!0}),u.a.createElement(J,{title:"Purchase Price After Taxes & Fees",value:Object(M.a)(a+L()(o,"itemValue")+L()(r,"itemValue")+l),isPrimary:!0}))}function ee(e){let a=e.zipCode,t=e.type,s=e.taxes,n=e.fees,i=e.isExpandable,r=e.isContent;const o=K({taxes:s,fees:n,type:t}),l=o.hasFees,d=o.hasTaxes,c=o.taxesData,p=o.feesData,h=o.acquisitionFee,f=o.docFee,g=o.totalFees,y=o.totalTaxes,_=u.a.createElement(m.Fragment,null,u.a.createElement(J,{title:"Taxes",value:d?Object(M.a)(y,2,2):F.a,className:"non-highlight",isPrimary:!0}),d&&c.map(e=>{let a=e.name,t=e.itemValue;return u.a.createElement(J,{title:`- ${a}`,key:a,value:Object(M.a)(t,2,2)})}),u.a.createElement(J,{title:"Government Fees",value:d?Object(M.a)(g,2,2):F.a,className:b()("non-highlight",{"mt-1":d}),isPrimary:!0}),l&&p.map(e=>{let a=e.name,t=e.tooltip,s=e.itemValue;return u.a.createElement(J,{title:`- ${a}`,key:a,tooltip:t,value:Object(M.a)(s,2,2)})}),u.a.createElement(J,{title:"Dealer Documentation/Processing Charge or Fee",value:D()(f)?Object(M.a)(f,2,2):"Not Provided"}),D()(h)&&u.a.createElement(J,{title:"Acquisition Fee",value:Object(M.a)(h,2,2)}));if(r)return _;const E=`Based on ZIP Code ${a}`;return i?u.a.createElement(m.Fragment,null,u.a.createElement(q.a,Object(k.a)({toggleLabel:u.a.createElement("div",{className:`d-inline-block ${z.BLOCK_TITLE}`},"Est. Taxes and Fees ",u.a.createElement("span",{className:"d-block disclaimer font-weight-normal"},E))},z.EXPANDABLE_CONTAINER_CLASSES),_),u.a.createElement("hr",{className:z.SEPARATOR})):u.a.createElement("div",{className:z.BLOCK},u.a.createElement(Q,{title:"Est. Taxes and Fees",subtitle:`Based on ZIP Code ${a}`}),_)}function ae(e){let a=e.term,t=e.annualMileage,s=e.downPayment,n=e.tradeIn,i=e.dueAtSigning,r=e.annualPercentageRate,o=e.moneyFactor,l=e.residualAmount,d=e.residualPercentage,c=e.isExpandable;const p=u.a.createElement(m.Fragment,null,u.a.createElement(J,{title:"Term",value:`${a} mo.`}),!!t&&u.a.createElement(J,{title:"Mileage",value:Object(V.c)(t)}),u.a.createElement(J,{title:"Down Payment",tooltip:$.wb.DOWN_PAYMENT,value:Object(M.a)(s,2,2)}),u.a.createElement(J,{title:"Trade-In",tooltip:$.wb.TRADE_IN,value:Object(M.a)(n,2,2)}),!!i&&u.a.createElement(J,{title:"Est. Cash Due at Signing",tooltip:$.wb.PAYMENTS_DUE_AT_SIGNING,value:Object(M.a)(i,2,2)}),u.a.createElement(J,{title:"Est. APR",tooltip:$.wb.APR,value:`${r.toFixed(2)}% for ${a} mo.`}),!!o&&u.a.createElement(J,{title:"Est. Money Factor",tooltip:$.wb.MONEY_FACTOR,value:o}),!!d&&u.a.createElement(J,{title:"Residual Percentage",tooltip:$.wb.RESIDUAL_PERCENTAGE,value:`${d}%`}),!!l&&u.a.createElement(J,{title:"Residual Value",tooltip:$.wb.RESIDUAL_VALUE,value:Object(M.a)(l,2,2)}));return c?u.a.createElement(m.Fragment,null,u.a.createElement(q.a,Object(k.a)({toggleLabel:u.a.createElement("span",{className:z.BLOCK_TITLE},"Your Terms")},z.EXPANDABLE_CONTAINER_CLASSES),p),u.a.createElement("hr",{className:z.SEPARATOR})):u.a.createElement("div",{className:z.BLOCK},u.a.createElement(Q,{title:"Your Terms"}),p)}function te(e){let a=e.monthlyPayment,t=e.baseMonthlyPayment,s=e.isPurchase,n=e.isExpandable;const i=s?"Est. Loan Payments":"Est. Lease Payments",r=u.a.createElement(m.Fragment,null,u.a.createElement(J,{title:"Monthly Payment",subtitle:"(Before Taxes & Fees)",value:`${Object(M.a)(t,2,2)}/mo`}),u.a.createElement(J,{title:"Taxes & Fees",value:`+${Object(M.a)(a-t,2,2)}/mo`}),u.a.createElement(J,{title:"Total Monthly Payment",value:`${Object(M.a)(a,2,2)}/mo`,isPrimary:!0}));return n?u.a.createElement(q.a,Object(k.a)({toggleLabel:u.a.createElement("span",{className:z.BLOCK_TITLE},i)},z.EXPANDABLE_CONTAINER_CLASSES),r):u.a.createElement("div",{className:z.BLOCK},u.a.createElement(Q,{title:i}),r)}Q.propTypes=G,Q.defaultProps=W,J.propTypes=Object(P.a)({},G,{value:h.a.oneOfType([h.a.string,h.a.number,h.a.node]).isRequired,className:h.a.string,tooltip:h.a.shape({}),isPrimary:h.a.bool}),J.defaultProps=Object(P.a)({},W,{isPrimary:!1,className:null,tooltip:null}),Z.propTypes={destinationFee:h.a.number,msrp:h.a.number,marketAdjustment:h.a.number,incentives:h.a.arrayOf(h.a.shape({})),incentivesAmount:h.a.number,purchasePriceBeforeRebates:h.a.number,purchasePriceAfterRebates:h.a.number,title:h.a.string,isDestinationFeeOptional:h.a.bool,make:h.a.string,wrapperClasses:h.a.string},Z.defaultProps={destinationFee:0,msrp:0,marketAdjustment:0,incentives:[],incentivesAmount:0,purchasePriceBeforeRebates:0,purchasePriceAfterRebates:0,title:"Your Edmunds Deal",isDestinationFeeOptional:!1,make:"",wrapperClasses:"mt-2"},X.propTypes={title:h.a.string.isRequired,price:h.a.number,taxes:h.a.shape({}),fees:h.a.shape({})},X.defaultProps={price:0,taxes:{},fees:{}},ee.propTypes={type:h.a.string.isRequired,zipCode:h.a.string,taxes:h.a.shape({}),fees:h.a.shape({}),isExpandable:h.a.bool,isContent:h.a.bool},ee.defaultProps={zipCode:"",taxes:{},fees:{},isExpandable:!1,isContent:!1},ae.propTypes={term:h.a.number,annualMileage:h.a.number,downPayment:h.a.number,tradeIn:h.a.number,dueAtSigning:h.a.number,annualPercentageRate:h.a.number,moneyFactor:h.a.number,residualAmount:h.a.number,residualPercentage:h.a.number,isExpandable:h.a.bool},ae.defaultProps={term:0,annualMileage:0,downPayment:0,tradeIn:0,dueAtSigning:0,annualPercentageRate:0,moneyFactor:0,residualAmount:0,residualPercentage:0,isExpandable:!1},te.propTypes={monthlyPayment:h.a.number,baseMonthlyPayment:h.a.number,isPurchase:h.a.bool,isExpandable:h.a.bool},te.defaultProps={monthlyPayment:0,baseMonthlyPayment:0,isPurchase:!1,isExpandable:!1};const se={great:"well below",good:"below",fair:"just above"},ne={great:"well below",good:"below",fair:"around"},ie=(e,a,t,s,n,i,r,o)=>a?u.a.createElement(m.Fragment,null,"Edmunds considers this a ",u.a.createElement("b",{className:"text-capitalize"},t," Deal"),". It's"," ",ne[t]," the market average"," ","fair"===t&&`of ${Object(M.a)(o)}`," for similar listings."," ","fair"!==t&&`Your estimated savings off of the market value is ${n}.`):u.a.createElement(m.Fragment,null,u.a.createElement("b",{className:"text-capitalize"},t," Deal"),": We estimate ",i," in ",r," dealers will take this deal as it is ",se[t]," the market average."," ",e?`Your estimated savings over the lifetime of the ${s} including taxes, fees and financing would be ${n}`:`Your estimated savings would be ${n} off of MSRP`,".");function re(e){let a=e.isPurchase,t=e.isUsed,s=e.dealType,n=e.vehicleTitle,i=e.savings,r=e.listPriceEstimate,o=e.isFullView;if(!i)return`The ${n} is in high demand and frequently selling above ${t?"market price":"MSRP"}.`;const l=Object(M.a)(i),d=a?"loan":"lease";switch(s){case"great":return ie(o,t,s,d,l,1,5);case"good":return ie(o,t,s,d,l,2,5);default:return ie(o,t,s,d,l,3,5,r)}}re.propTypes={isPurchase:h.a.bool,isFullView:h.a.bool,dealType:h.a.string.isRequired,vehicleTitle:h.a.string,savings:h.a.number,listPriceEstimate:h.a.number},re.defaultProps={isPurchase:!1,isFullView:!1,savings:null,listPriceEstimate:0,vehicleTitle:""};var oe=t("./site-modules/shared/components/car-buying/savings-summary/savings-summary-conditional-incentives.jsx"),le=t("./site-modules/shared/components/price-checker-edmunds-advice/price-checker-edmunds-advice.jsx");function de(e){let a=e.dealItem,t=e.isPurchase,s=e.isSubmitted,i=e.isUsed,r=e.isFullView,o=e.zipCode,l=e.vehicle,d=e.colorScheme,p=e.inputValue,h=e.selectedDealType,f=e.showAdvice,g=e.isNewVinOnSrp;const y=l.type,v=l.vin,C=l.vehicleInfo,T=c()(l,"prices.displayPrice"),N=c()(l,"prices.destinationFee"),j=c()(C,"styleInfo.make"),k=c()(l,O.b.HIDE_DESTINATION_FEE,!1),P=`${c()(C,"styleInfo.year")} ${j} ${c()(C,"styleInfo.model")} ${c()(C,"styleInfo.style")}`.trim(),x=c()(a,"calculatedData.dealSavings"),S=c()(a,"dealOffer"),L=c()(a,"inventory.computedDisplayInfo.priceValidation.listPriceEstimate"),A=c()(S,"dealType"),D=c()(S,"downPayment"),w=c()(S,"tradeIn"),R=c()(S,"dueAtSigning"),M=c()(S,"monthlyPayment"),V=c()(S,"baseMonthlyPayment"),F=c()(S,"incentives",[]),U=c()(S,"taxes",{}),$=c()(S,"fees",{}),B=c()(S,"term"),Y=c()(S,"annualMileage"),H=c()(S,"annualPercentageRate",c()(S,"apr")),q=c()(S,"moneyFactor"),z=c()(S,"residualAmount"),G=c()(S,"residualPercentage"),W=c()(S,"sellingPrice"),K=c()(l,"computedDisplayInfo.transparentPricingCompliance.bestDealPrice",c()(l,"computedInfo.bestDealPrice",0)),Q=c()(l,"computedDisplayInfo.transparentPricingCompliance.guaranteedPrice",0),J=c()(l,"dealerInfo.address.stateCode",""),se=!i,ne=Object(E.a)({sellingPrice:se?K:W,incentives:F,msrp:T}),ie=ne.purchasePriceAfterRebates,de=ne.purchasePriceBeforeRebates,ce=ne.marketAdjustment,me=ne.incentivesAmount;let ue=(i?L:T)-ie||null;ue=-1===Math.sign(ue)?null:ue;const pe=i||!r?ue:x,he=`border${d?`-${d}`:""}-${c()(_.b[h],"labelColor","")}`,fe=i||g&&f||!g&&se&&(Q||p||f);return u.a.createElement(I.a,{className:"offer-type-table-deal"},u.a.createElement("div",{className:b()("offer-type-table-label",fe?he:"border-0")}),u.a.createElement("div",{className:"pb-1_5 px-md-0_25"},u.a.createElement("div",{className:b()("text-gray-darker px-0_75",{"mt-1_75":fe})},i?u.a.createElement(re,{isPurchase:t,isUsed:i,isFullView:r,dealType:A,savings:pe,listPriceEstimate:L,vehicleTitle:P}):fe&&u.a.createElement(le.a,{inputValue:Number(p),bestDealPrice:K,dealType:h,dealerPrice:Q,stateCode:J,wrapperClassname:"price-checker-advice-deal-table",showAdvice:f})),i?u.a.createElement(X,{title:"Pricing Details",price:W,zipCode:o,taxes:U,fees:$}):u.a.createElement(Z,{title:"Pricing Details",destinationFee:N,msrp:T,marketAdjustment:ce,incentives:F,incentivesAmount:me,purchasePriceBeforeRebates:de,purchasePriceAfterRebates:ie,isDestinationFeeOptional:k,make:j,wrapperClasses:fe?"mt-2":"mt-1"}),!s&&u.a.createElement(oe.a,{calculatedOffer:S,vin:v,pendingLoadingState:n.a,isPurchase:t,showSeparator:r,titleClassName:"medium px-0_75 mt-1_5",incentivesWrapperClassName:"medium px-0_75 mb-1_5",incentiveItemClassName:"medium"}),r&&u.a.createElement(m.Fragment,null,u.a.createElement("hr",{className:"my-0_5 mx-0_75"}),!i&&u.a.createElement(ee,{zipCode:o,taxes:U,fees:$,type:y,isExpandable:!0}),u.a.createElement(ae,{term:B,annualMileage:t?null:Y,downPayment:D,tradeIn:w,dueAtSigning:R,annualPercentageRate:H,moneyFactor:q,residualAmount:z,residualPercentage:G,isExpandable:!0}),u.a.createElement(te,{monthlyPayment:M,baseMonthlyPayment:V,isPurchase:t,isExpandable:!0}))))}de.propTypes={dealItem:h.a.shape({}).isRequired,isPurchase:h.a.bool.isRequired,isSubmitted:h.a.bool,isUsed:h.a.bool,isFullView:h.a.bool,zipCode:h.a.string.isRequired,colorScheme:h.a.string,vehicle:h.a.shape({}).isRequired,inputValue:h.a.oneOfType([h.a.number,h.a.string]),selectedDealType:h.a.string,showAdvice:h.a.bool,isNewVinOnSrp:h.a.bool},de.defaultProps={isSubmitted:!1,isUsed:!1,isFullView:!1,colorScheme:"",inputValue:null,selectedDealType:"",showAdvice:!1,isNewVinOnSrp:!1};var ce=t("../node_modules/lodash/debounce.js"),me=t.n(ce),ue=t("../node_modules/lodash/isEqual.js"),pe=t.n(ue),he=t("../node_modules/reactstrap/lib/CustomInput.js"),fe=t.n(he),ge=t("../node_modules/reactstrap/lib/Button.js"),be=t.n(ge),ye=t("../node_modules/recharts/lib/chart/AreaChart.js"),_e=t.n(ye),Ee=t("../node_modules/recharts/lib/cartesian/Area.js"),ve=t.n(Ee),Ce=t("../node_modules/recharts/lib/component/ResponsiveContainer.js"),Te=t.n(Ce),Ne=t("../node_modules/recharts/lib/component/Tooltip.js"),je=t.n(Ne),Ie=t("./site-modules/shared/constants/car-buying/car-buying-events.js"),Oe=t("./site-modules/shared/constants/car-buying/index.js"),ke=t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-chart-data.js"),Pe=t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-chart-input.jsx");function xe(e){let a=e.id;return u.a.createElement("linearGradient",{id:a,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},u.a.createElement("stop",{offset:"0%",stopColor:ke.d[ke.e].GREAT_COLOR,stopOpacity:ke.d[ke.e].GREAT_OPACITY}),u.a.createElement("stop",{offset:ke.d[ke.e].GRADIENT_GREAT_STOP_PERCENT,stopColor:ke.d[ke.e].GOOD_COLOR,stopOpacity:ke.d[ke.e].GOOD_OPACITY}),u.a.createElement("stop",{offset:ke.d[ke.e].GRADIENT_GOOD_STOP_PERCENT,stopColor:ke.d[ke.e].FAIR_COLOR,stopOpacity:ke.d[ke.e].FAIR_OPACITY}),u.a.createElement("stop",{offset:ke.d[ke.e].GRADIENT_FAIR_STOP_PERCENT,stopColor:ke.d[ke.e].HIGH_COLOR,stopOpacity:ke.d[ke.e].HIGH_OPACITY}),u.a.createElement("stop",{offset:"100%",stopColor:ke.d[ke.e].GRAY_COLOR,stopOpacity:ke.d[ke.e].DEFAULT_OPACITY}))}xe.propTypes={id:h.a.string},xe.defaultProps={id:"graphic"};var Se=t("./utils/event-toolbox.js"),Le=t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-chart-utils.js");t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-chart.scss");const Ae=400,De="#ffffff",we=300,Re=3e3,Me=2e3,Ve=600,Fe=90,Ue=ke.f.DATA_LENGTH-1;class $e extends m.Component{constructor(){super(...arguments),this.state={sliderPayments:[],sliderLeasePayments:[],sliderMonthlyPayments:[],sliderLeaseMonthlyPayments:[],inputValue:"",sliderValue:0,lowerPayment:0,upperPayment:0,lowerLeasePayment:0,upperLeasePayment:0},this.getSliderInputWrapperRef=(()=>this.chartInputsRef.current.querySelector(".slider-input-wrapper")),this.getSliderGradient=(()=>ke.g[this.props.colorScheme]),this.getChartColorScheme=(()=>ke.d[this.props.colorScheme]),this.getPayments=(e=>{const a=this.props.isPurchase,t=e.sliderPayments,s=e.sliderLeasePayments,n=e.sliderMonthlyPayments,i=e.sliderLeaseMonthlyPayments;return{sliderPayments:a?t:s,sliderMonthlyPayments:a?n:i}}),this.getLowerUpperPayments=(e=>{const a=this.props.isPurchase,t=e.lowerPayment,s=e.upperPayment,n=e.lowerLeasePayment,i=e.upperLeasePayment;return{lowerPayment:a?t:n,upperPayment:a?s:i}}),this.getCustomTooltip=(e=>{const a=this.props,t=a.highlight,s=a.selectedDealType,n=a.isMobile,i=a.isUsed,r=a.colorScheme,o=c()(e,"payload[0].payload.type"),l=c()(e,"active",!1);if(n?!t:!o&&!t)return null;this.setHoveredArea({area:o,isActive:l});const d=t?s:o,m=ke.i[d],p=m.tooltipCopy,h=m.usedTooltipCopy,f=`bg-${r}-opacity-${m.labelColor}`;return u.a.createElement("div",{className:`chart-tooltip w-100 p-0_5 text-white ${f}`,style:Object(Le.f)(e,d,n)},u.a.createElement("div",{className:"text-capitalize font-weight-bold"},d),u.a.createElement("div",{className:"small font-weight-bold"},i&&h||p))}),this.getInputPosition=(e=>{let a=0;return this.chartInputsRef&&this.chartInputsRef.current&&(a=this.chartInputsRef.current.offsetWidth*e/100,e>10&&e<90?a-=Fe/2:e>90&&(a-=Fe)),a}),this.getCurrentSliderValue=(e=>{const a=this.props,t=a.dealItems,s=a.selectedDealType,n=a.isPurchase,i=c()(e,"activePayload[0].payload.type",s),r=l()(t[n?Oe.t:Oe.o],e=>c()(e,"dealOffer.dealType")===i),o=c()(r,"dealOffer"),d=c()(r,"inventory.prices.displayPrice"),m=c()(o,"sellingPrice"),u=c()(o,"incentives"),p=Object(E.a)({sellingPrice:m,incentives:u,msrp:d}).purchasePriceAfterRebates;return"high"===i?ke.h[i]:Object(Le.d)(this.getPayments(this.state).sliderPayments,p)}),this.setHoveredArea=(e=>{let a=e.area,t=e.isActive;const s=this.props,n=s.highlight,i=s.onAreaHover;a&&!n&&t&&i({dealType:a})}),this.fireSliderMoveEvent=me()(e=>Se.a.fireCustomEvent(Ie.a.SLIDER_MOVE,{actionCause:e,creativeId:this.props.creativeId}),500),this.fireValueChangeEvent=me()(e=>Se.a.fireCustomEvent(ke.b,{value:e,loanMonthlyValue:e?this.state.sliderMonthlyPayments[this.state.sliderValue]:"",leaseMonthlyValue:e?this.state.sliderLeaseMonthlyPayments[this.state.sliderValue]:""}),500),this.scrollToLeadForm=(()=>{const e=document.querySelector(this.props.leadFormSelector||'[name="lead-form"]');e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"start"})},250)}),this.handleSliderChange=(e=>this.handleSliderMove(Number(e.target.value))),this.handleValueChangeOutside=(e=>{let a=e.detail;this.handleSliderChange({target:{value:Object(Le.d)(this.getPayments(this.state).sliderPayments,a.value)}})}),this.handleInputChange=(e=>{if(""===e)return void this.handleInputFocus();const a=this.getLowerUpperPayments(this.state),t=a.lowerPayment,s=a.upperPayment,n=Number(e);let i,r;n<t?(i=t,r=0):n>s?(i=s,r=Ue):(i=n,r=Object(Le.d)(this.getPayments(this.state).sliderPayments,i));const o=Object(Le.a)(r,this.props.colorScheme).dealType;this.setState({inputValue:i,sliderValue:r},()=>{this.handleInputFocus(),this.props.onSliderMove({dealType:o.toLowerCase(),inputValue:i})}),this.fireSliderMoveEvent("enter_number"),this.fireValueChangeEvent(i)}),this.handleInputFocus=(()=>{const e=this.getSliderInputWrapperRef();e.classList.contains("focused")?e.classList.remove("focused"):(e.classList.add("focused"),e.querySelector(".slider-input").focus()),this.toggleSliderEmptyState()}),this.handleDoubleTouch=(()=>{const e=(new Date).getTime();e-this.lastTouchTime<Ae&&this.handleInputFocus(),this.lastTouchTime=e}),this.toggleSliderEmptyState=(()=>{const e=this.getSliderInputWrapperRef(),a=e.classList.contains("empty"),t=e.classList.contains("focused"),s=""===this.state.inputValue;if(a&&(!s||t))return e.classList.remove("empty"),e.classList.add("empty-out"),void(this.emptyStateRemovalTimeout=setTimeout(()=>{e.classList.remove("empty-out")},Ve));s&&!a&&e.classList.add("empty")}),this.animateSlider=(()=>{this.chartInputsRef.current.classList.add("animate-slider"),this.animateTimeout=setTimeout(()=>{this.chartInputsRef.current.classList.remove("animate-slider"),this.getSliderInputWrapperRef().classList.remove("hidden")},Me)}),this.handleAreaClick=(e=>{const a=this.props.onAreaClick,t=this.getCurrentSliderValue(e);this.handleSliderMove(t),a(e)}),this.handleSliderMove=(e=>{const a=this.getPayments(this.state).sliderPayments[e]||"";this.setState({sliderValue:e,inputValue:a},this.toggleSliderEmptyState),this.fireSliderMoveEvent("drag"),this.fireValueChangeEvent(a),this.props.onSliderMove({dealType:Object(Le.a)(e,this.props.colorScheme).dealType.toLowerCase(),inputValue:a})}),this.chartInputsRef=u.a.createRef(),this.animateTimeout=null,this.emptyStateRemovalTimeout=null,this.lastTouchTime=0,this.renderOnlinePricePoint=(()=>{const e=this.props,a=e.displayPrice,t=e.isMobile,s=this.getPayments(this.state).sliderPayments,n=this.getChartColorScheme(),i=Object(Le.h)(Object(Le.d)(s,a));return u.a.createElement("g",{style:{transform:`translateX(${i}%)`}},u.a.createElement("circle",{cy:"100%",r:3,fill:n.GRAY_COLOR}),u.a.createElement("text",{y:"100%",fontSize:"12px",fill:n.GRAY_COLOR,fontWeight:"bold",dy:"24px",dx:Object(Le.b)(i,{right:t?"-33%":""})},"Online Price:\xa0",u.a.createElement("tspan",{fontWeight:"normal"},Object(M.a)(a))))})}static getDerivedStateFromProps(e,a){const t=Object(Le.e)(e.dealItems,e.isUsed,e.withMonthlyPayments?["inputValue","sliderValue"]:null);return t?pe()(t.sliderPayments,a.sliderPayments)&&pe()(t.sliderLeasePayments,a.sliderLeasePayments)&&pe()(t.sliderMonthlyPayments,a.sliderMonthlyPayments)&&pe()(t.sliderLeaseMonthlyPayments,a.sliderLeaseMonthlyPayments)?null:t:null}componentDidMount(){if(!this.props.skipWidgetViewTracking){const e=Math.max(document.body.scrollHeight,document.body.offsetHeight);Se.a.fireCustomEvent(Ie.a.DEAL_CHECK_CORE_ENTRY,{pageHeight:e})}Se.a.on(ke.c,this.handleValueChangeOutside)}componentDidUpdate(e,a){const t=this.state.inputValue,s=this.props,n=s.sliderShouldBeUpdated,i=s.noDealCheckAnimation,o=this.getPayments(this.state),l=o.sliderPayments,d=o.sliderMonthlyPayments,c=!r()(l);i||!c||this.sliderAnimated||(this.sliderAnimated=!0,this.animateSlider());const m=this.getLowerUpperPayments(this.state).lowerPayment,u=this.getLowerUpperPayments(a).lowerPayment;if(u&&m!==u&&this.toggleSliderEmptyState(),c&&!pe()(d,this.getPayments(a).sliderMonthlyPayments)&&this.fireValueChangeEvent(t),n){const e=this.getCurrentSliderValue();this.handleSliderMove(e)}}componentWillUnmount(){this.emptyStateRemovalTimeout&&clearTimeout(this.emptyStateRemovalTimeout),this.animateTimeout&&clearTimeout(this.animateTimeout),Se.a.off(ke.c,this.handleValueChangeOutside)}render(){const e=this.props,a=e.customChartLabels,t=e.isMobile,s=e.highlight,n=e.onAreaLeave,i=e.withLeadFormLink,r=e.isLeadFormLinkBelow,o=e.chartHeight,l=e.colorScheme,d=e.withMonthlyPayments,c=e.isUsed,p=e.noDealCheckAnimation,h=this.state,f=h.inputValue,g=h.sliderValue,y=this.getPayments(this.state),_=y.sliderPayments,E=y.sliderMonthlyPayments,v=Object(Le.h)(g),C=_&&_.length,T=!(d&&f),N=a.map(e=>{let a=e.text,t=e.value;const s=Object(Le.d)(this.getPayments(this.state).sliderPayments,t),n=Object(Le.h)(s);return{text:a,valueText:Object(M.c)(t),color:Object(Le.a)(s,this.props.colorScheme).dealIndicatorColor,isFirstHalf:n<50,position:n}}),j=i&&u.a.createElement(be.a,{size:"lg",color:b()({"primary-b":!t,link:t}),className:b()("text-transform-none mb-1 mb-md-0",{"px-1 py-0_75 align-text-bottom":!t,"text-primary-darker p-0 text-underline":t}),tabIndex:0,onClick:this.scrollToLeadForm,"data-tracking-id":c?"final_offer_click":""},c?"Final Offer?":"Dealer's Price?"),I=this.getInputPosition(v);return u.a.createElement(m.Fragment,null,!r&&j,u.a.createElement("div",{className:b()("offer-type-table-chart d-inline-block mb-1 mb-md-2_5",{"adjusted-size":i,"ml-md-1":i&&!r}),role:"presentation","aria-label":"offer type table chart",tabIndex:0},u.a.createElement(Te.a,{width:"100%",height:o,debounce:800},u.a.createElement(_e.a,{data:ke.f.DATA,margin:ke.a,onClick:this.handleAreaClick,onMouseLeave:n},u.a.createElement("defs",null,u.a.createElement(xe,{colorScheme:l})),u.a.createElement(je.a,{content:this.getCustomTooltip,offset:0,active:s,cursor:!1}),u.a.createElement(ve.a,{isAnimationActive:!p,animationBegin:we,animationDuration:Re,type:"monotone",dataKey:"y",stackId:1,fill:"url(#graphic)",fillOpacity:1,stroke:"none",dot:!1,activeDot:!1}),u.a.createElement("g",null,u.a.createElement("line",{stroke:De,fill:"none",x:0,y:0,width:"100%",height:120,x1:`${v}%`,y1:0,x2:`${v}%`,y2:120})),N.map(e=>{let a=e.text,t=e.valueText,s=e.position,n=e.color,i=e.isFirstHalf;return u.a.createElement("g",{key:a},u.a.createElement("text",{fill:"#767676",textAnchor:i?"start":"end",x:i?`${s-1}%`:`${s+1}%`,y:-28,className:"small font-weight-bold"},a),u.a.createElement("text",{fill:"#767676",textAnchor:i?"start":"end",x:i?`${s-1}%`:`${s+1}%`,y:-12,className:"medium font-weight-bold"},t),u.a.createElement("line",{stroke:n,strokeDasharray:4,fill:"none",x:0,y:0,width:2,height:130,x1:`${s}%`,y1:-4,x2:`${s}%`,y2:100}),u.a.createElement("circle",{cx:`${s}%`,cy:100,fill:"#ffffff",r:8,strokeWidth:2,stroke:n}))}),c&&C&&this.renderOnlinePricePoint())),u.a.createElement("div",{className:b()("chart-inputs w-100 pos-r",{"mb-1_5":!T&&t,"mt-2_5":c,"mt-1":!c}),"data-tracking-parent":"slider",ref:this.chartInputsRef},u.a.createElement(fe.a,Object(k.a)({id:"sliderRangeInput",type:"range",min:0,max:ke.f.DATA_LENGTH,value:g,onChange:this.handleSliderChange},t?{onTouchStart:this.handleDoubleTouch}:{onDoubleClick:this.handleInputFocus},{className:"pos-r py-1","aria-label":"Enter payment"})),u.a.createElement("div",{className:"slider-range-colors w-100",style:{background:this.getSliderGradient()}}),u.a.createElement("div",{style:{left:I},className:b()("slider-input-wrapper ed-zdepth-3 empty",{hidden:!p,"no-animation":p,invisible:p&&0===I&&!f})},u.a.createElement(Pe.a,{key:g,value:f,onChange:this.handleInputChange}),T?u.a.createElement("span",{className:"slide-me-placeholder small text-gray-darker h-100 w-100 d-flex justify-content-between align-items-center px-0_5"},u.a.createElement("span",{className:"icon-arrow-left3 xsmall"}),"Slide Me",u.a.createElement("span",{className:"icon-arrow-right3 xsmall"})):u.a.createElement(m.Fragment,null,u.a.createElement("span",{className:"dashed-placeholder text-gray-darker pl-0_75"},"$ - - -"),u.a.createElement("div",{className:b()("slider-input-monthly-value text-gray-darker mb-0_5 pl-0_75",{small:t,medium:!t})},E[g]?Object(M.a)(E[g]):"$ ","/mo."))))),u.a.createElement("div",{className:"offer-type-table-chart-y-axis d-inline-block pos-r align-top"},u.a.createElement("span",{className:"text-gray-darker small text-left"},"Cars Sold")),r&&j)}}$e.propTypes={dealItems:h.a.shape({[h.a.string]:h.a.arrayOf(h.a.shape({}))}),customChartLabels:h.a.arrayOf(h.a.shape({text:h.a.string,value:h.a.number})),selectedDealType:h.a.string.isRequired,onSliderMove:h.a.func.isRequired,onAreaClick:h.a.func.isRequired,onAreaHover:h.a.func.isRequired,onAreaLeave:h.a.func.isRequired,highlight:h.a.bool,isMobile:h.a.bool,isUsed:h.a.bool,isPurchase:h.a.bool,withLeadFormLink:h.a.bool,isLeadFormLinkBelow:h.a.bool,leadFormSelector:h.a.string,displayPrice:h.a.number,chartHeight:h.a.number,skipWidgetViewTracking:h.a.bool,colorScheme:h.a.oneOf([ke.e]),withMonthlyPayments:h.a.bool,sliderShouldBeUpdated:h.a.bool,noDealCheckAnimation:h.a.bool},$e.defaultProps={dealItems:{},customChartLabels:[],highlight:!1,isMobile:!1,isUsed:!1,isPurchase:!1,withLeadFormLink:!0,isLeadFormLinkBelow:!1,leadFormSelector:null,displayPrice:0,chartHeight:100,skipWidgetViewTracking:!1,colorScheme:ke.e,withMonthlyPayments:!1,sliderShouldBeUpdated:!1,noDealCheckAnimation:!1};var Be=t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-price-chart.jsx"),Ye=t("./data/luckdragon/redux/react-binding.jsx"),He=t("./site-modules/shared/utils/car-buying/calculator-util.js"),qe=t("./data/models/car-buying.js"),ze=t("./site-modules/shared/constants/car-buying/models.js");t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-toggle-details.scss");function Ge(e){let a=e.onDetailsOpen,t=e.isDetailsOpened,s=e.isPurchase,n=e.isSubmitted,i=e.conditionalLeaseIncentives,r=e.conditionalLoanIncentives,o=e.isVisible,l=e.isPriceChart,d=e.isVDPPriceChart;const c=`${t?"Hide":"See"} Details`,m=n?c:Object(He.l)(s?r:i,c),p=l&&m===c;return u.a.createElement("div",{className:b()("px-md-1 mt-md-1 mb-1 mt-md-1_5 mb-md-1_75 d-md-flex justify-content-between text-right offer-type-details-btn-wrapper",{"mt-0_5 price-chart":p,"mt-0_75":!p,invisible:!o})},u.a.createElement("button",{type:"button",className:b()("bg-white border-0 p-0 text-primary-darker link-button medium mt-0_75 c-pointer mt-md-0 text-md-right",{"text-center":d}),onClick:a},m,u.a.createElement("span",{className:b()("ml-0_25 icon-arrow-right4 xsmall",{"icon-arrow-down4":!t,"icon-arrow-up4":t})})))}Ge.propTypes={onDetailsOpen:h.a.func.isRequired,isDetailsOpened:h.a.bool,isPurchase:h.a.bool,isSubmitted:h.a.bool,conditionalLeaseIncentives:h.a.arrayOf(ze.j),conditionalLoanIncentives:h.a.arrayOf(ze.j),isVisible:h.a.bool,isPriceChart:h.a.bool,isVDPPriceChart:h.a.bool},Ge.defaultProps={isDetailsOpened:!1,isPurchase:!1,isSubmitted:!1,conditionalLeaseIncentives:[],conditionalLoanIncentives:[],isVisible:!0,isPriceChart:!1,isVDPPriceChart:!1};const We={conditionalLeaseIncentives:Object(Ye.a)(qe.b.CONDITIONAL_LEASE_INCENTIVES_ELIGIBLE,qe.a),conditionalLoanIncentives:Object(Ye.a)(qe.b.CONDITIONAL_LOAN_INCENTIVES,qe.a)},Ke=Object(Ye.b)(Ge,We);var Qe=t("./site-modules/shared/utils/collapse-utils.jsx"),Je=t("./site-modules/shared/components/loading-spinner/loading-spinner.jsx"),Ze=t("./engagement-handlers/index.js"),Xe=t("./engagement-handlers/car-buying-engagement-handler/car-buying-engagement-handler.js"),ea=t("./site-modules/shared/utils/car-buying/is-new-deal-check-available.js"),aa=t("./site-modules/shared/utils/price-checker.js"),ta=t("./site-modules/shared/components/car-buying/vehicle-loan-incentives/vehicle-loan-incentives.jsx");t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table.scss");function sa(e,a){Se.a.fireCustomEvent(Ie.a.TOGGLE_DETAILS,{isOpen:e,creativeId:a})}t.d(a,"a",function(){return ra}),Ze.a.register(Xe.a);const na=[".recharts-responsive-container",".offer-type-table-deals",".offer-type-table-deal",".offer-type-details-btn-wrapper"];class ia extends m.Component{constructor(e){super(e),this.handleOuterUnfocus=(e=>{const a=this.props.isDetailsOpened;na.some(a=>!!e.target.closest(a))||"INPUT"===e.target.nodeName||(this.setState({hoveredTableDealType:"",hoveredAreaDealType:""}),a&&this.handleDetailsToggle())}),this.handleDealSelection=(e=>{const a=this.props,t=a.isDetailsOpened,s=a.hideOfferTypeTableDetails,n=a.isMobile,i=c()(e,"currentTarget.dataset.dealType",c()(e,"activePayload[0].payload.type","great"));"high"!==i||s&&n?(this.setState({selectedDealType:i,hoveredTableDealType:i,hoveredAreaDealType:i}),sa(!0,c()(e,"currentTarget")?"pricing_table":"pricing_graph")):t&&sa(!1,"pricing_graph")}),this.handleTableDealSelection=(e=>{this.setState({sliderShouldBeUpdated:!0}),this.handleDealSelection(e)}),this.handleTableHover=(e=>{const a=c()(e,"currentTarget.dataset.dealType","");a!==this.state.hoveredTableDealType&&this.setState({hoveredTableDealType:a})}),this.handleAreaHover=(e=>{const a=c()(e,"dealType","");a!==this.state.hoveredAreaDealType&&this.setState({hoveredAreaDealType:a})}),this.handleSliderMoveHoverRaise=(e=>{const a=this.state,t=a.hoveredAreaDealType,s=a.hoveredTableDealType,n=c()(e,"dealType",""),i=c()(e,"inputValue","");this.setState({inputValue:i,sliderShouldBeUpdated:!1}),t===n&&s===n||this.setState({hoveredTableDealType:n,hoveredAreaDealType:n,selectedDealType:n,showAdvice:!0})}),this.handleTableHoverLeave=(()=>{""!==this.state.hoveredTableDealType&&this.setState({hoveredTableDealType:""})}),this.handleAreaHoverLeave=(()=>{""!==this.state.hoveredAreaDealType&&this.setState({hoveredAreaDealType:""})}),this.handleDetailsToggle=(()=>{const e=this.props,a=e.onDetailsOpen;sa(!e.isDetailsOpened,"payment_details"),a()});const a=this.props,t=a.vehicle,s=a.isUsed,n=a.isNewVinOnSrp,i=c()(t,"computedDisplayInfo.priceValidation.dealType","").toLowerCase(),r="above_market"===i?"high":i,o=c()(t,"computedDisplayInfo.transparentPricingCompliance.guaranteedPrice",0);this.state={selectedDealType:s?"high":r,hoveredTableDealType:"",hoveredAreaDealType:"",inputValue:s||n?"":o,sliderShouldBeUpdated:!1,showAdvice:!1}}componentDidMount(){this.props.isMobile&&(document.addEventListener("focusout",this.handleOuterUnfocus),document.addEventListener("touchstart",this.handleOuterUnfocus))}componentWillUnmount(){this.props.isMobile&&(document.removeEventListener("focusout",this.handleOuterUnfocus),document.removeEventListener("touchstart",this.handleOuterUnfocus))}render(){const e=this.props,a=e.vehicle,t=e.dealItems,s=e.tableLabels,i=e.customChartLabels,o=e.zipCode,d=e.isPurchase,p=e.isDetailsOpened,h=e.isMobile,f=e.isPending,g=e.isSubmitted,b=e.withLeadFormLink,y=e.isLeadFormLinkBelow,_=e.leadFormSelector,E=e.hideOfferTypeTableDeals,v=e.hideOfferTypeTableDetails,C=e.skipWidgetViewTracking,T=e.isUsed,j=e.colorScheme,I=e.withMonthlyPayments,O=e.chartHeight,k=e.creativeId,P=e.pageName,x=e.isNewVinOnSrp,S=e.isVDPPriceChart,L=e.dealerPrice,A=this.state,D=A.selectedDealType,w=A.hoveredTableDealType,R=A.inputValue,M=A.sliderShouldBeUpdated,V=A.showAdvice,F=t[d?Oe.t:Oe.o],U=l()(F,e=>c()(e,"dealOffer.dealType")===D||"fair"===c()(e,"dealOffer.dealType")),$=r()(F),B=p&&!$,Y=p||R,H=c()(a,"vin"),q=c()(a,"prices.displayPrice",0),z="model_car_inventory_vin_detail"===P;return u.a.createElement(m.Fragment,null,(x||S)&&Object(ea.a)(a).partiallyAvailable?u.a.createElement(m.Fragment,null,u.a.createElement(Be.a,{onSliderMove:this.handleSliderMoveHoverRaise,dealItems:t,tmvData:Object(aa.g)({dealItems:t,isPurchase:d}),selectedDealType:D,isMobile:h,displayPrice:q,isPurchase:d,isUsed:T,skipWidgetViewTracking:C,withMonthlyPayments:I,sliderShouldBeUpdated:M,creativeId:k,isVDPPriceChart:S,noDealCheckAnimation:S,dealerPrice:S?L:null}),u.a.createElement(Ke,{onDetailsOpen:this.handleDetailsToggle,isDetailsOpened:p,isPurchase:d,isSubmitted:g,vin:H,isVisible:!$&&!v,isVDPPriceChart:S,isPriceChart:!0})):u.a.createElement(m.Fragment,null,u.a.createElement($e,{onSliderMove:this.handleSliderMoveHoverRaise,onAreaClick:this.handleDealSelection,onAreaHover:h?n.a:this.handleAreaHover,onAreaLeave:h?n.a:this.handleAreaHoverLeave,dealItems:t,selectedDealType:D,highlight:!!Y,isMobile:h,chartHeight:O,withLeadFormLink:b,isLeadFormLinkBelow:y,leadFormSelector:_,displayPrice:q,isPurchase:d,isUsed:T,colorScheme:j,skipWidgetViewTracking:C,withMonthlyPayments:I,sliderShouldBeUpdated:M,customChartLabels:i,creativeId:k,noDealCheckAnimation:z}),!E&&u.a.createElement(N,{dealItems:F,tableLabels:s,enableSelection:p,selectedDealType:w,highlightDealType:D,onClick:this.handleTableDealSelection,onHover:h?n.a:this.handleTableHover,onHoverLeave:h?n.a:this.handleTableHoverLeave,isMobile:h,isUsed:T,hideOfferTypeTableDetails:v,colorScheme:j}),T&&h&&u.a.createElement("div",{className:"disclaimer text-gray-darker mt-0_75"},"* Estimated savings amount below the market average for this vehicle"),u.a.createElement(Ke,{onDetailsOpen:this.handleDetailsToggle,isDetailsOpened:p,isPurchase:d,isSubmitted:g,vin:H,isVisible:!$&&!v})),!v&&u.a.createElement(Qe.a,{isOpen:B},B&&u.a.createElement(Je.a,{isLoading:f},u.a.createElement(de,{dealItem:U,isPurchase:d,isSubmitted:g,isUsed:T,isFullView:I,zipCode:o,vehicle:a,vin:H,colorScheme:j,inputValue:R,selectedDealType:D,showAdvice:V,isNewVinOnSrp:x}))))}}ia.propTypes={vehicle:h.a.oneOfType([f.b.InventoryVin,h.a.shape({prices:h.a.shape({displayPrice:h.a.number})})]).isRequired,dealItems:h.a.shape({[h.a.string]:h.a.arrayOf(h.a.shape({}))}),tableLabels:h.a.arrayOf(h.a.shape({desktop:h.a.string,mobile:h.a.string})),customChartLabels:h.a.arrayOf(h.a.shape({text:h.a.string,value:h.a.number})),onDetailsOpen:h.a.func,zipCode:h.a.string,colorScheme:h.a.string,creativeId:h.a.string,chartHeight:h.a.number,isPurchase:h.a.bool,isDetailsOpened:h.a.bool,isMobile:h.a.bool,isPending:h.a.bool,isSubmitted:h.a.bool,withLeadFormLink:h.a.bool,isLeadFormLinkBelow:h.a.bool,leadFormSelector:h.a.string,hideOfferTypeTableDeals:h.a.bool,hideOfferTypeTableDetails:h.a.bool,withMonthlyPayments:h.a.bool,skipWidgetViewTracking:h.a.bool,isUsed:h.a.bool,pageName:h.a.string,isNewVinOnSrp:h.a.bool,isVDPPriceChart:h.a.bool,dealerPrice:h.a.number},ia.defaultProps={onDetailsOpen:n.a,zipCode:"",dealItems:{},tableLabels:null,customChartLabels:[],isPurchase:!1,isDetailsOpened:!1,isMobile:!1,isPending:!1,isSubmitted:!1,withLeadFormLink:!0,isLeadFormLinkBelow:!1,leadFormSelector:null,hideOfferTypeTableDetails:!1,hideOfferTypeTableDeals:!1,withMonthlyPayments:!1,skipWidgetViewTracking:!1,isUsed:!1,colorScheme:void 0,creativeId:null,chartHeight:void 0,pageName:"",isNewVinOnSrp:!1,isVDPPriceChart:!1,dealerPrice:null};const ra=Object(ta.a)(ia)},"./site-modules/shared/components/car-buying/offer-type-table/offer-type-table.scss":function(e,a,t){},"./site-modules/shared/components/car-buying/privacy-disclaimer/privacy-disclaimer.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return l});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("./site-modules/shared/components/content-fragment/content-fragment.jsx");function l(e){let a=e.text,t=e.isHtmlContent,s=e.classNames,i=e.noIconShield;return n.a.createElement("div",{className:`${s} pb-1 small d-flex align-items-center`},!i&&n.a.createElement("span",{className:"icon-shield-check size-24 align-self-center m-0 pr-0_5 text-gray"}),t?n.a.createElement(o.a,{tag:"span"},a):a)}l.propTypes={text:r.a.string.isRequired,isHtmlContent:r.a.bool,classNames:r.a.string,noIconShield:r.a.bool},l.defaultProps={isHtmlContent:!1,classNames:"",noIconShield:!1}},"./site-modules/shared/components/car-buying/savings-summary/savings-summary.scss":function(e,a,t){},"./site-modules/shared/components/checkbox/checkbox.scss":function(e,a,t){},"./site-modules/shared/components/color-swatch/color-swatch.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return u});var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/react/index.js"),i=t.n(n),r=t("../node_modules/prop-types/index.js"),o=t.n(r),l=t("../node_modules/classnames/index.js"),d=t.n(l),c=t("../node_modules/reactstrap/lib/Tooltip.js"),m=t.n(c);t("./site-modules/shared/components/color-swatch/color-swatch.scss");class u extends n.Component{constructor(){super(...arguments),this.state={tooltipOpen:!1},this.toggle=(()=>{this.setState(e=>{return{tooltipOpen:!e.tooltipOpen}})})}render(){const e=this.props,a=e.color,t=e.displayColorName,r=e.title,o=e.id,l=e.displayTooltip,c=e.classNames,u=e.colorNameClasses,p=(a||{}).name,h=function(e){const a=e||{},t=a.rgb,s=a.r,n=a.g,i=a.b;let r;return t?r=`rgb(${t})`:null!=s&&null!=n&&null!=i&&(r=`rgb(${s}, ${n}, ${i})`),r}(a),f=!!h,g=p||"",b=!!r&&l,y=r||g;return i.a.createElement(n.Fragment,null,i.a.createElement("span",{id:o},i.a.createElement("span",Object(s.a)({className:d()("color-swatch",{"text-center unknown-color":!f},c),style:{backgroundColor:h||"transparent"},title:l?null:r},b?{tabIndex:"0"}:{},y?{"aria-label":y}:{}),!f&&i.a.createElement("span",{className:"small d-block pos-r line-through"}))," ",t&&i.a.createElement("span",{className:u},g)),b&&i.a.createElement(m.a,{className:"color-tooltip",isOpen:this.state.tooltipOpen,toggle:this.toggle,placement:"top",target:o,delay:0},r))}}u.propTypes={color:o.a.shape({name:o.a.string,r:o.a.number,g:o.a.number,b:o.a.number,rgb:o.a.string}),displayColorName:o.a.bool,title:o.a.string,id:o.a.string,displayTooltip:o.a.bool,classNames:o.a.string,colorNameClasses:o.a.string},u.defaultProps={color:{},displayColorName:!0,title:"",id:null,displayTooltip:!1,classNames:"",colorNameClasses:""}},"./site-modules/shared/components/color-swatch/color-swatch.scss":function(e,a,t){},"./site-modules/shared/components/compare-vehicle-tray/compare-vehicle-tray.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return y}),t.d(a,"b",function(){return E});var s=t("../node_modules/lodash/compact.js"),n=t.n(s),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("../node_modules/reactstrap/lib/Row.js"),c=t.n(d),m=t("../node_modules/reactstrap/lib/Col.js"),u=t.n(m),p=t("../node_modules/reactstrap/lib/Button.js"),h=t.n(p),f=t("../node_modules/react-redux/es/index.js"),g=t("./site-modules/shared/components/upper-funnel/vehicle-image/vehicle-image.jsx"),b=t("./site-modules/shared/components/scroll-link/scroll-element.jsx");t("./site-modules/shared/components/compare-vehicle-tray/compare-vehicle-tray.scss");const y="compare-vehicle-tray";function _(e){let a=e.clearSelectedCars,t=e.handleCompareClick,s=e.onSelectCar,i=e.selectedCars,o=e.isMobile,l=e.trackingParent,d=e.backFocusLink;return 0===i.length?null:r.a.createElement(c.a,{className:"container compare-vehicle-tray-container mx-auto justify-content-center pb-1_5 pb-md-2","data-hidedelighted":!0,"data-tracking-parent":l},r.a.createElement(u.a,{xs:12,lg:9,xl:8},r.a.createElement(c.a,{className:"compare-vehicle-tray bg-white rounded align-items-center"},r.a.createElement(b.a,{id:y,className:"sr-only"},r.a.createElement("h2",null,"Compare selected")),d&&r.a.createElement("button",{onClick:(m=d.selector,()=>document.querySelector(m).focus()),className:"skip-link p-0 ml-0_5 btn btn-link text-transform-none sr-only sr-only-focusable"},d.label),!o&&r.a.createElement(u.a,{xs:7,className:"pl-2"},r.a.createElement(c.a,{className:"align-items-center"},i.map(e=>{const a=e.baseStyleId,t=e.image,i=e.modelYear,o=e.submodelSlug,l=e.price,d=e.id||a,c=i||{},m=c.year,p=c.makeName,f=c.modelName,b=t?t.alt:n()([m,p,f]).join(" "),y=n()(["Deselect",b,l?`priced at ${l}`:""]).join(" ");return r.a.createElement(u.a,{xs:3,key:d,className:"px-0_25"},t?r.a.createElement("div",{className:"card-photo text-center mx-0 mx-md-auto rounded ed-zdepth-1"},r.a.createElement("img",{className:"w-100",src:t.url,alt:t.alt})):r.a.createElement(g.a,{imageClassName:"rounded ed-zdepth-1",modelYear:i,submodelSlug:o,widthToFit:100,heightToFit:70}),r.a.createElement(h.a,{color:"link",onClick:function(e){let a=e.onSelectCar,t=e.id;return e=>a(e,{id:t})}({onSelectCar:s,id:d}),className:"remove-thumbnail-btn rounded text-white p-0 icon-cross2 size-10",title:y,"aria-label":y}))}))),r.a.createElement(u.a,{xs:12,md:5,className:"px-1_5 px-lg-1_25 px-xl-1_5 d-flex justify-content-between"},r.a.createElement(h.a,{color:"link",className:"clear-btn size-16 p-0",onClick:a},r.a.createElement("i",{className:"small icon-cross2"})," Clear all"),r.a.createElement(h.a,{color:"primary",className:"compare-btn size-16 py-0_5 px-1",onClick:t,"data-tracking-id":"compare_button_click"},"Compare selected ",o&&`(${i.length})`)))));var m}_.defaultProps={isMobile:!1,trackingParent:null,backFocusLink:null},_.propTypes={clearSelectedCars:l.a.func.isRequired,handleCompareClick:l.a.func.isRequired,selectedCars:l.a.arrayOf(l.a.object).isRequired,onSelectCar:l.a.func.isRequired,isMobile:l.a.bool,trackingParent:l.a.string,backFocusLink:l.a.shape({label:l.a.string,selector:l.a.string})};const E=Object(f.c)(e=>({isMobile:e.mobile}))(_)},"./site-modules/shared/components/compare-vehicle-tray/compare-vehicle-tray.scss":function(e,a,t){},"./site-modules/shared/components/content-collapse/content-collapse.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return y});var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/lodash/noop.js"),i=t.n(n),r=t("../node_modules/react/index.js"),o=t.n(r),l=t("../node_modules/prop-types/index.js"),d=t.n(l),c=t("../node_modules/classnames/index.js"),m=t.n(c),u=t("../node_modules/@kunukn/react-collapse/dist/Collapse.umd.js"),p=t.n(u),h=t("../node_modules/reactstrap/lib/Button.js"),f=t.n(h),g=t("./utils/seed-randomizers.js"),b=t("../node_modules/react-scroll/lib/modules/index.js");t("./site-modules/shared/components/content-collapse/content-collapse.scss");class y extends r.Component{constructor(e){super(e),this.toggle=(e=>{e&&e.preventDefault();const a=this.props,t=a.resetParams,s=a.scrollToDefault,n=a.onToggleContentCollapseState,r=void 0===n?i.a:n,o=this.state.isOpen;t&&o&&b.scroller.scrollTo(t.to||s&&this.collapseId,{duration:t.duration,offset:t.offset,smooth:"easeInOutQuad",isDynamic:!0}),r(o),this.setState(()=>({isOpen:!o}))}),this.passChildren=(e=>"function"==typeof e?e({isOpen:this.state.isOpen}):e),this.renderCollapseBtn=(()=>{const e=this.props,a=e.btnClasses,t=e.btnColor,n=e.btnContainerClasses,i=e.btnArrowClasses,r=e.btnTextClasses,l=e.textOpen,d=e.textClosed,c=e.justify,u=e.hideIndicator,p=e.closeBtnClasses,h=e.hideCollapseBtn,g=e.btnTrackingId,b=e.btnIgnoreTrackingValue,y=e.btnSize,_=this.state.isOpen;return h&&_?null:o.a.createElement("div",{className:m()("collapse-control mb-0 row align-items-center",c,n)},o.a.createElement(f.a,Object(s.a)({size:y,color:t,className:m()("content-collapse-button",a,_?p:""),onClick:this.toggle,"data-tracking-id":g?`${g}${_?"_collapse":"_expand"}`:null,"data-no-refresh":!0,"aria-expanded":_},b?{"data-tracking-ignore-value":!0}:{}),o.a.createElement("span",{className:m()("control-text",r)},_?l:d),!u&&o.a.createElement("span",{className:m()(i,"size-10",_?"icon-arrow-up4":"icon-arrow-down4")})))}),this.renderCollapseLink=(()=>{const e=this.props,a=e.btnClasses,t=e.btnTextClasses,n=e.textOpen,i=e.textClosed,r=e.hideIndicator,l=e.closeBtnClasses,d=e.hideCollapseBtn,c=e.btnTrackingId,u=e.btnIgnoreTrackingValue,p=this.state.isOpen;return d&&p?null:o.a.createElement("div",{className:m()("collapse-control mt-1 mb-0 px-0_5 row align-items-center")},o.a.createElement("a",Object(s.a)({className:m()("content-collapse-button text-primary-darker",a,p?l:""),href:"#",onClick:this.toggle,"data-tracking-id":c?`${c}${p?"_collapse":"_expand"}`:null,"data-no-refresh":!0,"aria-expanded":p},u?{"data-tracking-ignore-value":!0}:{}),o.a.createElement("span",{className:m()("control-text",t)},p?n:i),!r&&o.a.createElement("span",{className:m()("size-10 mb-0",p?"icon-arrow-up4":"icon-arrow-down4")})))});const a=e.isOpenOnLoad;this.state={isOpen:a},this.collapseId=`collapse${Math.ceil(Object(g.b)()*Number.MAX_SAFE_INTEGER)}`}render(){const e=this.props,a=e.minHeight,t=e.isEclipseFade,n=e.children,i=e.classes,r=e.showBtnBelow,l=e.trackingId,d=e.trackingValue,c=e.isBtnLink,u=e.noAnim,h=e.truncatedChildren,f=e.overflowOnExpanded;return o.a.createElement("div",Object(s.a)({className:m()("content-collapse",i,{isEclipseFade:t})},"none"===this.props.maxHeight?{}:{style:{maxHeight:this.props.maxHeight}},{"data-tracking-id":l,"data-tracking-value":d}),o.a.createElement(b.Element,{name:this.collapseId}),!r&&this.renderCollapseBtn(),o.a.createElement(p.a,{isOpen:this.state.isOpen,collapseHeight:h?"":a,addState:!0,noAnim:u,overflowOnExpanded:f,transition:"height 280ms cubic-bezier(0.4, 0, 0.2, 1)"},!this.props.truncatedChildren||this.state.isOpen?this.passChildren(n):this.passChildren(this.props.truncatedChildren)),r&&(c?this.renderCollapseLink():this.renderCollapseBtn()))}}y.propTypes={isOpenOnLoad:d.a.bool,hideIndicator:d.a.bool,minHeight:d.a.string,maxHeight:d.a.string,children:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node,d.a.func]).isRequired,truncatedChildren:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node,d.a.func]),textClosed:d.a.oneOfType([d.a.string,d.a.node]),textOpen:d.a.oneOfType([d.a.string,d.a.node]),isEclipseFade:d.a.bool,classes:d.a.string,btnClasses:d.a.string,closeBtnClasses:d.a.string,btnColor:d.a.string,btnContainerClasses:d.a.string,btnArrowClasses:d.a.string,btnTextClasses:d.a.string,btnSize:d.a.string,showBtnBelow:d.a.bool,justify:d.a.string,trackingId:d.a.string,trackingValue:d.a.string,btnTrackingId:d.a.string,btnIgnoreTrackingValue:d.a.bool,resetParams:d.a.shape({offset:d.a.number,duration:d.a.number,to:d.a.string}),hideCollapseBtn:d.a.bool,scrollToDefault:d.a.bool,isBtnLink:d.a.bool,noAnim:d.a.bool,overflowOnExpanded:d.a.bool,onToggleContentCollapseState:d.a.func},y.defaultProps={isOpenOnLoad:!1,hideIndicator:!1,minHeight:"0",maxHeight:"none",textClosed:"Read more",textOpen:"Read less",isEclipseFade:!0,classes:"",btnClasses:"",btnColor:"link",btnContainerClasses:"py-0_5",btnArrowClasses:"h6 mb-0",btnTextClasses:"",btnSize:"sm",closeBtnClasses:"",showBtnBelow:!1,justify:"justify-content-center",trackingId:"view_content_summary",trackingValue:null,btnTrackingId:null,btnIgnoreTrackingValue:!0,resetParams:null,hideCollapseBtn:!1,scrollToDefault:!1,isBtnLink:!1,truncatedChildren:null,noAnim:!1,overflowOnExpanded:!1,onToggleContentCollapseState:void 0}},"./site-modules/shared/components/content-collapse/content-collapse.scss":function(e,a,t){},"./site-modules/shared/components/core-img/core-img.jsx":function(e,a,t){"use strict";t.d(a,"c",function(){return p}),t.d(a,"b",function(){return h}),t.d(a,"d",function(){return f}),t.d(a,"a",function(){return b});var s=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n=t("../node_modules/react/index.js"),i=t.n(n),r=t("../node_modules/prop-types/index.js"),o=t.n(r),l=t("../node_modules/classnames/index.js"),d=t.n(l),c=t("./utils/image-helpers.js"),m=t("./site-modules/shared/components/client-side-render/client-side-render.jsx");function u(e){return e?function(a){a.currentTarget.href=e}:null}const p="/img/e17/no-vehicle-img-transparent.png",h=Object(c.k)("/img/e17/no-vehicle-image.png",0,"static");function f(e){const a=e.clickUrl,t=e.onClickUrl,s=e.className,n=e.alt,r=e.target,o=i.a.createElement("img",{className:"core-img img-fluid",src:h,alt:n,loading:"lazy"});return i.a.createElement("div",{className:s},a?i.a.createElement("a",{href:a,onClick:u(t),target:r},o):o)}function g(e){const a=e.children;return e.isClientSideRender?i.a.createElement(m.a,null,a):a}function b(e){const a=e.image,t=e.clickUrl,n=e.onClickUrl,r=e.clickable,o=e.className,l=e.imageClassName,m=e.alt,p=e.title,b=(e.imgDescription,e.enableOnError),y=e.onErrorImage,_=void 0===y?h:y,E=e.target,v=e.source,C=e.width,T=e.isClientSideRender,N=e.attrWidth,j=Object(s.a)(e,["image","clickUrl","onClickUrl","clickable","className","imageClassName","alt","title","imgDescription","enableOnError","onErrorImage","target","source","width","isClientSideRender","attrWidth"]);if(!a)return i.a.createElement(f,{clickUrl:t,onClickUrl:n,className:o,alt:m,target:E});const I=i.a.createElement(g,{isClientSideRender:T},i.a.createElement("img",{className:d()("core-img img-fluid",l),itemProp:"contentUrl",src:"svg"===j.format?Object(c.q)(a):Object(c.k)(a,C,v),alt:m,title:p,onError:function(e,a){return e&&a?function(e){e.currentTarget.src=a}:null}(b,_),width:N||null,loading:"lazy"}));return i.a.createElement("div",{className:o,itemScope:!0,itemType:"https://schema.org/ImageObject"},r?!!t&&i.a.createElement("a",{href:t,onClick:u(n),target:E},I):I)}f.propTypes={clickUrl:o.a.string,onClickUrl:o.a.string,className:o.a.string,alt:o.a.string,target:o.a.string},f.defaultProps={clickUrl:"",onClickUrl:"",className:"",alt:"",target:""},g.propTypes={children:o.a.node.isRequired,isClientSideRender:o.a.bool},g.defaultProps={isClientSideRender:!1},b.propTypes={image:o.a.string,clickUrl:o.a.string,onClickUrl:o.a.string,clickable:o.a.bool,className:o.a.string,imageClassName:o.a.string,alt:o.a.string,title:o.a.string,imgDescription:o.a.string,enableOnError:o.a.bool,source:o.a.string,width:o.a.number,onErrorImage:o.a.string,target:o.a.string,isClientSideRender:o.a.bool,attrWidth:o.a.string},b.defaultProps={image:"",clickUrl:"",onClickUrl:"",clickable:!0,className:"",imageClassName:"",alt:"",title:"",imgDescription:"",enableOnError:!1,source:"",width:0,onErrorImage:"",target:"",isClientSideRender:!1,attrWidth:""}},"./site-modules/shared/components/deal/deal-type/deal-type.scss":function(e,a,t){},"./site-modules/shared/components/deal/deal-type/images/custom-fair-price-dark.svg":function(e,a,t){e.exports=t.p+"0c5ac223f739eced56ef5fe44a976eb6.svg"},"./site-modules/shared/components/deal/deal-type/images/custom-fair-price.svg":function(e,a,t){e.exports=t.p+"2cc20e088bad5fcc5e813492b7700e22.svg"},"./site-modules/shared/components/deal/deal-type/images/custom-good-price-dark.svg":function(e,a,t){e.exports=t.p+"db00809cb8119c7bdb340ed8416568cc.svg"},"./site-modules/shared/components/deal/deal-type/images/custom-good-price.svg":function(e,a,t){e.exports=t.p+"75c9c064d9df7e05d04caf752e77b76c.svg"},"./site-modules/shared/components/deal/deal-type/images/custom-great-price-dark.svg":function(e,a,t){e.exports=t.p+"3ad5f44166d7edf90504092e58b54738.svg"},"./site-modules/shared/components/deal/deal-type/images/custom-great-price.svg":function(e,a,t){e.exports=t.p+"7fb2e6c793aaf50a5928d2c55bb9b925.svg"},"./site-modules/shared/components/deal/deal-type/images/custom-high-price.svg":function(e,a,t){e.exports=t.p+"1bf145080f29c7a2d0a3a6fe0d2902b9.svg"},"./site-modules/shared/components/deal/deal-type/images/fair-price-logo.svg":function(e,a,t){e.exports=t.p+"ed597fe9b9fd5ed60581c3b6fa3453dc.svg"},"./site-modules/shared/components/deal/deal-type/images/good-price-logo.svg":function(e,a,t){e.exports=t.p+"4fada55ae88dc8ea0e7a2f379acf9a7d.svg"},"./site-modules/shared/components/deal/deal-type/images/great-price-logo.svg":function(e,a,t){e.exports=t.p+"5afcc0782b3080e3d37cdecd9b04dc82.svg"},"./site-modules/shared/components/deal/deal-type/images/high-price-logo.svg":function(e,a,t){e.exports=t.p+"962f07845701c5a9d6fbe75b0c56b44f.svg"},"./site-modules/shared/components/delivery/constants.js":function(e,a,t){"use strict";t.d(a,"h",function(){return s}),t.d(a,"f",function(){return n}),t.d(a,"a",function(){return i}),t.d(a,"b",function(){return r}),t.d(a,"e",function(){return o}),t.d(a,"d",function(){return l}),t.d(a,"i",function(){return d}),t.d(a,"g",function(){return c}),t.d(a,"c",function(){return m});const s="PAID",n="FREE",i="Delivery Available",r=[s,n],o={[s]:i,[n]:"Free Delivery Available"},l={[s]:"Ships to",[n]:"Ships free to",[`${s}_NTL`]:i,[`${n}_NTL`]:"Free Delivery Available"},d=["HI","AK"],c={[s]:"Home delivery available",[n]:"Free home delivery available"},m="This dealer offers home delivery."},"./site-modules/shared/components/delivery/helper.js":function(e,a,t){"use strict";t.d(a,"b",function(){return n}),t.d(a,"a",function(){return i}),t.d(a,"c",function(){return r});var s=t("./site-modules/shared/components/delivery/constants.js");function n(e){return s.i.includes(e)}function i(e,a){const t=s.e[e.deliveryOptions&&e.deliveryOptions.deliveryCode]||"";return t&&n(a)?s.a:t}function r(e,a){return!!s.e[e.deliveryOptions&&e.deliveryOptions.deliveryCode]&&!n(a)}},"./site-modules/shared/components/edmunds-logo/edmunds-logo.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return v});var s=t("../node_modules/lodash/get.js"),n=t.n(s),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("../node_modules/classnames/index.js"),c=t.n(d),m=t("./site-modules/shared/components/link/link.jsx"),u=t("./utils/image-helpers.js"),p=t("../node_modules/react-redux/es/index.js"),h=t("./site-modules/shared/components/experiment/index.jsx"),f=t("./images/edmunds-logo-226.png"),g=t.n(f),b=t("./images/logo-white.svg"),y=t.n(b);t("./site-modules/shared/components/edmunds-logo/edmunds-logo.scss");const _="/img/car-buying/steps/edmunds_logo_expert.svg";function E(e){let a=e.path,t=e.className,s=e.trackingId,n=e.inline,i=e.themeTypeOverride,o=e.inlineLogoHeight;const l=c()(t,{"edmunds-logo-inline":n,"edmunds-logo":!n}),d=r.a.createElement("img",{src:Object(u.q)(_),height:o,alt:"Edmunds"}),p=r.a.createElement("picture",null,r.a.createElement(h.a,{name:"ads-5469-dark-theme",showDefault:!0},r.a.createElement(h.c,{name:"ctrl",isDefault:!0}),r.a.createElement(h.c,{name:"chal"},"light"!==i&&r.a.createElement("source",{srcSet:y.a}))),r.a.createElement("img",{src:g.a,height:18,alt:"Edmunds"})),f=n?d:p;return a?r.a.createElement(m.a,{to:a,className:l,"data-tracking-id":s},f):r.a.createElement("span",{className:l},f)}E.propTypes={className:l.a.string,path:l.a.string,trackingId:l.a.string,inline:l.a.bool,themeTypeOverride:l.a.string,inlineLogoHeight:l.a.number},E.defaultProps={className:null,path:"/",trackingId:"homepage_click",inline:!1,themeTypeOverride:null,inlineLogoHeight:24};const v=Object(p.c)(e=>({themeTypeOverride:n()(e.visitor,"themeTypeOverride")}))(E)},"./site-modules/shared/components/edmunds-logo/edmunds-logo.scss":function(e,a,t){},"./site-modules/shared/components/experiment/force-default-banner/index.scss":function(e,a,t){},"./site-modules/shared/components/footer/footer.scss":function(e,a,t){},"./site-modules/shared/components/form-field-mask/form-field-mask.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return p});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),i=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=(t("../node_modules/core-js/modules/es6.regexp.replace.js"),t("../node_modules/prop-types/index.js")),o=t.n(r),l=t("../node_modules/react/index.js"),d=t.n(l),c=t("./site-modules/shared/components/form-field/form-field.jsx"),m=t("../node_modules/react-input-mask/index.js"),u=t.n(m);class p extends l.Component{constructor(){super(...arguments),this.state={value:this.props.defaultValue,applyMask:!1},this.onChange=((e,a)=>{const t=e.target.value;this.updateMaskState(t),"function"==typeof this.props.onChange&&this.props.onChange(e,a,this.toValue(t))}),this.setValue=(e=>(this.updateMaskState(e),e)),this.updateMaskState=(e=>{const a=!!this.cleanMask(e).length,t=this.props.mask&&!a?"":e;this.setState({value:t,applyMask:a})}),this.cleanMask=(e=>e.replace(/[^0-9a-zA-Z]/g,"")),this.toValue=(e=>{const a=this.props.mask;return"function"==typeof a.toValue?a.toValue(e):a.toValue?this.cleanMask(e):e}),this.value=(()=>this.toValue(this.state.value)||""),this.reset=(()=>{this.setState({value:"",applyMask:!1})})}componentDidMount(){this.updateMaskState(this.state.value)}componentDidUpdate(e){const a=this.props.defaultValue;a!==e.defaultValue&&this.updateMaskState(a)}render(){const e=this.props,a=(e.onChange,e.value,e.defaultValue,e.tag,e.mask),t=Object(i.a)(e,["onChange","value","defaultValue","tag","mask"]),s=this.state.applyMask?a.pattern:null;return d.a.createElement(c.a,Object(n.a)({},t,{onChange:this.onChange,mask:s,tag:u.a,value:this.state.value}))}}p.propTypes=Object(s.a)({},c.a.propTypes,{mask:o.a.shape({pattern:o.a.string.isRequired,toValue:o.a.oneOfType([o.a.bool,o.a.func])}).isRequired,defaultValue:o.a.string}),p.defaultProps=Object(s.a)({},c.a.defaultProps,{defaultValue:""})},"./site-modules/shared/components/global-navigation-v2/global-navigation.scss":function(e,a,t){},"./site-modules/shared/components/global-navigation-v2/insider-section.scss":function(e,a,t){},"./site-modules/shared/components/home-vehicle-search/home-vehicle-search.scss":function(e,a,t){},"./site-modules/shared/components/impression-tracker/impression-tracker.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return o});t("../node_modules/core-js/modules/es6.regexp.replace.js");var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i);function o(e){let a=e.src,t=e.className;if(!a)return null;const s=Date.now();return n.a.createElement("img",{alt:"",src:`${a.replace("[timestamp]",s)}`,style:{width:"1px",height:"1px"},className:t})}o.propTypes={src:r.a.string,className:r.a.string},o.defaultProps={src:"",className:void 0}},"./site-modules/shared/components/inventory-colors/inventory-colors.scss":function(e,a,t){},"./site-modules/shared/components/inventory-price/inventory-price.jsx":function(e,a,t){"use strict";t.d(a,"b",function(){return m}),t.d(a,"a",function(){return u});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("./data/models/inventory.js"),l=t("./site-modules/shared/utils/price-utils.js"),d=t("./site-modules/shared/utils/inventory-utils/is-used.js"),c=t("./site-modules/shared/components/deal/deal-constants.js");t("./site-modules/shared/components/inventory-price/inventory-price.scss");function m(e){return e&&e>500?Object(l.a)(e):c.o}function u(e){let a=e.type,t=e.prices.displayPrice,i=e.bestDealPrice,r=e.priceClasses,o=e.priceNameClasses,l=e.priceNameUsed,c=e.priceNameNew,u=e.forceStrikethrough,p=e.isBestDealPriceEnabled;const h=Object(d.a)(a),f=m(p?i:t);return n.a.createElement(s.Fragment,null,n.a.createElement("span",{className:o},h?l:c),n.a.createElement("span",{className:r},u&&!p?n.a.createElement("s",null,f):f))}u.propTypes={type:r.a.string.isRequired,prices:o.b.Prices,bestDealPrice:r.a.number,priceClasses:r.a.string,priceNameClasses:r.a.string,priceNameUsed:r.a.string,priceNameNew:r.a.string,forceStrikethrough:r.a.bool,isBestDealPriceEnabled:r.a.bool},u.defaultProps={prices:{displayPrice:0},bestDealPrice:0,priceClasses:"display-4 font-weight-bold",priceNameClasses:"pr-0_5 small",priceNameUsed:"List:",priceNameNew:"MSRP:",forceStrikethrough:!1,isBestDealPriceEnabled:!1}},"./site-modules/shared/components/inventory-price/inventory-price.scss":function(e,a,t){},"./site-modules/shared/components/inventory/contact-dealer-tip/contact-dealer-tip.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return c});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/classnames/index.js"),l=t.n(o),d=t("./site-modules/shared/utils/inventory-utils/get-urgency-message.js");function c(e){let a=e.daysToSell,t=e.classNamesWrapper,s=e.classNamesMsg,i=e.hideNoFireTip,r=e.defaultMsg;const o=Object(d.d)(a),c=Object(d.c)(a,r);return!o&&i?null:c&&n.a.createElement("div",{className:l()("heading-5 font-weight-normal",t)},n.a.createElement("div",{className:s},o&&n.a.createElement("i",{className:"icon-fire mr-0_25 text-warning"}),c))}c.propTypes={daysToSell:r.a.number,classNamesWrapper:r.a.string,classNamesMsg:r.a.string,hideNoFireTip:r.a.bool,defaultMsg:r.a.string},c.defaultProps={daysToSell:null,classNamesWrapper:"text-center mb-0",classNamesMsg:"mb-1 mt-2 mt-md-2 mb-md-0",hideNoFireTip:!1,defaultMsg:""}},"./site-modules/shared/components/inventory/search-results-inventory-card/cpo-label.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return b});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/reactstrap/lib/Tooltip.js"),l=t.n(o),d=t("./utils/seed-randomizers.js"),c=t("./data/models/cpo.js"),m=t("./data/luckdragon/redux/react-binding.jsx"),u=t("./site-modules/shared/components/content-fragment/content-fragment.jsx"),p=t("./utils/event-toolbox.js"),h=t("./engagement-handlers/inventory-engagement-handler/constants.js");t("./site-modules/shared/components/inventory/search-results-inventory-card/cpo-label.scss");class f extends s.Component{constructor(e){super(e),this.toggle=(()=>{this.setState(e=>{return{tooltipOpen:!e.tooltipOpen}})}),this.tooltipId=`cpo-tooltip-${Object(d.c)()}`,this.cpoLabelTracked=!1,this.state={tooltipOpen:!1}}componentDidMount(){this.props.isCpo&&this.props.cpoPopoverData&&(p.a.fireCustomEvent(h.a.CPO_LABEL_VIEW,{creativeId:`cpo-label-${this.props.make}`}),this.cpoLabelTracked=!0)}componentDidUpdate(){this.props.isCpo&&this.props.cpoPopoverData&&!this.cpoLabelTracked&&p.a.fireCustomEvent(h.a.CPO_LABEL_VIEW,{creativeId:`cpo-label-${this.props.make}`})}render(){const e=this.props,a=e.isCpo,t=e.cpoPopoverData;if(!a||!t)return null;const s=t.title,i=t.points,r=t.oemLogo,o=s&&i&&i.length;return n.a.createElement("div",{className:"cpo-label-wrapper d-flex",style:{position:"absolute"}},r&&n.a.createElement("div",{className:"oem-logo-wrapper px-0_25 bg-white d-flex align-items-center justify-content-center"},n.a.createElement("img",{alt:"logo",src:r,className:"cpo-logo",style:{maxHeight:"20px"}})),n.a.createElement("div",{className:"d-flex align-items-center bg-primary-darker text-white p-0_25 xsmall pill"},"Certified Pre-Owned",o&&n.a.createElement("i",{id:this.tooltipId,className:"icon-question3 ml-0_25"})),o&&n.a.createElement(l.a,{className:"cpo-label-tooltip tooltip--white",placement:"bottom",isOpen:this.state.tooltipOpen,autohide:!1,target:this.tooltipId,toggle:this.toggle,delay:0,flip:!1},n.a.createElement("div",{className:"d-flex cpo-title-wrapper small mb-0_75 align-items-center"},r&&n.a.createElement("img",{alt:"logo",src:r,className:"cpo-logo mr-0_25"}),n.a.createElement("div",{className:"font-weight-bold text-info"},s)),n.a.createElement("ul",{className:"text-gray-dark m-0 pl-1"},i.map(e=>n.a.createElement(u.a,{key:e,componentToUse:"li",classes:"pb-0_5"},e)))))}}f.propTypes={make:r.a.string,isCpo:r.a.bool,cpoPopoverData:r.a.shape({oemLogo:r.a.string,title:r.a.string,points:r.a.arrayOf(r.a.string)})},f.defaultProps={make:"",isCpo:!1,cpoPopoverData:null};const g={cpoPopoverData:Object(m.a)(e=>{let a=e.make;return e.isCpo&&`cpoShortcutData["${a}"]`},c.a)},b=Object(m.b)(f,g)},"./site-modules/shared/components/inventory/search-results-inventory-card/cpo-label.scss":function(e,a,t){},"./site-modules/shared/components/inventory/search-results-inventory-card/search-results-inventory-card-photo.scss":function(e,a,t){},"./site-modules/shared/components/inventory/search-results-inventory-card/search-results-inventory-card.scss":function(e,a,t){},"./site-modules/shared/components/lead-form/lead-form-markdown-view/lead-form-markdown-view.jsx":function(e,a,t){"use strict";var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/marked/lib/marked.js"),l=t.n(o),d=t("./site-modules/shared/components/content-fragment/content-fragment.jsx");function c(e){let a=e.markdown,t=e.options,s=e.className;return n.a.createElement(d.a,{classes:s},l()(a,t))}c.propTypes={markdown:r.a.string.isRequired,options:r.a.shape({}),className:r.a.string},c.defaultProps={options:{},className:""};var m=t("./site-modules/shared/components/lead-form/utils/utils.js");function u(e){let a=e.markdown,t=e.className,s=e.templateParams;const i=Object(m.a)(s,a);return n.a.createElement(c,{className:t,markdown:i})}t.d(a,"a",function(){return u}),u.propTypes={markdown:r.a.string,className:r.a.string,templateParams:r.a.arrayOf(r.a.shape({name:r.a.string,value:r.a.string}))},u.defaultProps={markdown:"",className:"",templateParams:[]}},"./site-modules/shared/components/lead-form/lead-form-prop-types/lead-form-prop-types.jsx":function(e,a,t){"use strict";t.d(a,"l",function(){return E}),t.d(a,"k",function(){return v}),t.d(a,"h",function(){return C}),t.d(a,"g",function(){return T}),t.d(a,"j",function(){return N}),t.d(a,"i",function(){return j}),t.d(a,"d",function(){return I}),t.d(a,"a",function(){return S}),t.d(a,"f",function(){return A}),t.d(a,"e",function(){return D}),t.d(a,"p",function(){return w}),t.d(a,"o",function(){return R}),t.d(a,"n",function(){return M}),t.d(a,"m",function(){return V}),t.d(a,"c",function(){return F}),t.d(a,"b",function(){return U});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/lodash/noop.js"),i=t.n(n),r=t("../node_modules/lodash/merge.js"),o=t.n(r),l=t("../node_modules/prop-types/index.js"),d=t.n(l),c=t("./data/models/vehicle.js"),m=t("./data/models/inventory.js"),u=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),p=t("./site-modules/shared/constants/lead-form/lead-form-configs.js"),h=t("./site-modules/shared/components/native-ad/utils/constants.js"),f=t("./data/api/api-client.js"),g=t("./site-modules/shared/components/lead-form/utils/utils.js"),b=t("./utils/metrics-header.js"),y=t("./site-modules/shared/constants/lead-form/validation.js"),_=t("./site-modules/shared/components/lead-form/lead-form-wrapper/lead-form-wrapper-methods.js");const E={leadTargets:d.a.arrayOf(d.a.shape({inventory:d.a.shape({}),dealer:d.a.shape({}),leadAttributes:d.a.shape({primary:d.a.bool.isRequired,distance:d.a.number}).isRequired})).isRequired,make:d.a.string,model:d.a.string,submodel:d.a.string,trim:d.a.string,year:d.a.oneOfType([d.a.string,d.a.number]),styleId:d.a.oneOfType([d.a.string,d.a.number]),zipCode:d.a.oneOfType([d.a.string,d.a.number]),stateCode:d.a.string},v={make:"",model:"",submodel:"",trim:"",year:"",styleId:"",stateCode:""},C=Object(s.a)({},E,{leadFormData:d.a.shape({}),showListTargetsLoadingIndicator:d.a.bool,showSubmitLoadingIndicator:d.a.bool,selectedLeadIds:d.a.shape({}),onToggleLeadSelection:d.a.func.isRequired,fieldRef:d.a.func.isRequired,validate:d.a.func.isRequired,validationErrors:d.a.shape({}),onUpdateStyle:d.a.func,styles:c.b.Styles}),T=Object(s.a)({},v,{leadFormData:{},showListTargetsLoadingIndicator:!1,showSubmitLoadingIndicator:!1,selectedLeadIds:{},validationErrors:{},onUpdateStyle:null,styles:[]}),N={vin:d.a.string,zipCode:d.a.oneOfType([d.a.string,d.a.number]).isRequired,year:d.a.oneOfType([d.a.string,d.a.number]),radius:d.a.oneOfType([d.a.string,d.a.number]),make:d.a.string,model:d.a.string,submodel:d.a.string,submodelIdentifier:d.a.string,styleId:d.a.oneOfType([d.a.string,d.a.number]),trim:d.a.string,pathname:d.a.string,leadTargets:d.a.arrayOf(d.a.shape({}))},j={radius:void 0,make:void 0,model:void 0,submodel:void 0,submodelIdentifier:void 0,styleId:void 0,trim:void 0,pathname:void 0,leadTargets:[]},I={headerComponent:d.a.oneOfType([d.a.string,d.a.func,d.a.object]),header:d.a.shape({showLogo:d.a.bool,srpLink:d.a.shape({to:d.a.string,text:d.a.string}),text:d.a.string,explainingText:d.a.string,className:d.a.string,showSeparator:d.a.string}),subHeaderComponent:d.a.oneOfType([d.a.string,d.a.func,d.a.object]),subHeader:d.a.shape({skipWhenLeadTargetEmpty:d.a.bool,text:d.a.string,explainingText:d.a.string,className:d.a.string,insiderLinkOut:d.a.bool})},O={headerComponent:u.c.BASE,header:{showLogo:!0,srpLink:void 0,text:"",explainingText:"",showSeparator:"true"},subHeaderComponent:void 0,subHeader:{skipWhenSuggestedLeadTargetsEmpty:!1,text:"",explainingText:""}},k={showInventoryMakeStockImage:d.a.bool,showDealerMakeStockImage:d.a.bool,priceStrikethrough:d.a.bool,options:d.a.shape({})},P={adsPositionsConfig:d.a.shape({}),adComponent:d.a.oneOfType([d.a.string,d.a.func,d.a.object])},x={adComponent:u.h.BASE},S=d.a.oneOf([u.b.PARTIAL_COLLAPSE]),L=d.a.arrayOf(d.a.shape({name:d.a.string,value:d.a.string})),A=d.a.shape({label:d.a.string,defaultChecked:d.a.bool,isVisible:d.a.func,fireIsVisibleTracking:d.a.func}),D={label:"",defaultChecked:!1,isVisible:i.a,fireIsVisibleTracking:i.a},w={creativeId:d.a.string,isUserOpened:d.a.bool,leadType:d.a.string,featureFlags:d.a.string,apiParams:d.a.shape({leadTargetsSize:d.a.oneOfType([d.a.string,d.a.number]),leadSubmissionAPI:d.a.object,leadSubmissionURL:d.a.string,omitStyleId:d.a.bool,omitYear:d.a.bool}),processDataMethods:d.a.shape({getLeadSubmissionInfo:d.a.func,getLeadSubmissionAPIHeaders:d.a.func,getInsiderSaveData:d.a.func,getAdditionalListTrackingData:d.a.func,processLeadTargetsAfterSubmit:d.a.arrayOf(d.a.func),processCheckedCheckbox:d.a.func,postProcessMethods:d.a.arrayOf(d.a.func)}),leadFormComponent:d.a.oneOfType([d.a.string,d.a.func,d.a.object]),leadFormConfig:d.a.shape(Object(s.a)({},k,{className:d.a.string,cardFirstText:d.a.string,cardSecondText:d.a.string,cardView:d.a.string,disableInventoryCard:d.a.bool,applyPhoneMask:d.a.oneOfType([d.a.string,d.a.bool]),enableComments:d.a.oneOfType([d.a.string,d.a.bool]),submitButtonText:d.a.string,userInfoPosition:d.a.oneOfType([d.a.string,d.a.number]),vehicleString:d.a.string,dealerName:d.a.string,showBestDealPrice:d.a.bool,preSelectedCardNumbers:d.a.number,toggleableSubmitInfo:d.a.bool,initialCollapseState:S,withFormClasses:d.a.bool,hideWhenLeadTargetsEmpty:d.a.bool,headerConfig:d.a.shape(I),hideStyleSelector:d.a.bool,showVin:d.a.bool,showPrice:d.a.bool,showAd:d.a.bool,reverseCardView:d.a.bool,listCardView:d.a.bool,showProTip:d.a.bool,showPQtext:d.a.bool,filteringByFacets:m.b.Facets,scrollMap:d.a.arrayOf(d.a.shape({input:d.a.string,selector:d.a.string})),tcpaParentDealershipName:d.a.string,daysToSell:d.a.number,isMobile:d.a.bool,isTopEmbeddedCommentsAvailable:d.a.bool,checkbox:A,leadFormId:d.a.string,isUsedSrpDealCheck:d.a.bool,skipWidgetViewTracking:d.a.bool,fragmentTop:d.a.node,trackedCreativeId:d.a.string,isNewVinOnSrp:d.a.bool,bestDealPrice:d.a.number,userInfoComponent:d.a.oneOfType([d.a.string,d.a.func,d.a.object]),userCongratsInfoComponent:d.a.oneOfType([d.a.string,d.a.func,d.a.object]),hideContactDealerTip:d.a.bool,isPriceChecker:d.a.bool})),thankYouLeadFormComponent:d.a.oneOfType([d.a.string,d.a.func,d.a.object]),thankYouLeadFormConfig:d.a.shape(Object(s.a)({},k,{enabled:d.a.bool,strategy:d.a.string,leadType:d.a.string,showVehicleMileage:d.a.bool,showUnknownColor:d.a.bool,showNationwideDeliveryBadge:d.a.bool,submitButtonText:d.a.string,preSelectedCardNumbers:d.a.number,withFormClasses:d.a.bool,headerConfig:d.a.shape(I),adsConfig:d.a.shape(P)})),thankYouComponent:d.a.oneOfType([d.a.string,d.a.func,d.a.object]),thankYouConfig:d.a.shape(Object(s.a)({},k,{showPricingDetails:d.a.bool,className:d.a.string,withFormClasses:d.a.bool,headerConfig:d.a.shape(I),adsPositionsConfig:d.a.shape({}),adsConfig:d.a.shape(P),hasPriceCheckerPromo:d.a.bool,priceCheckerParams:d.a.shape({priceCheckerPromoQuery:d.a.objectOf(d.a.string),bestDealPrice:d.a.number,isCloseButton:d.a.bool}),isBuildPriceAdEnabled:d.a.bool,hideCtas:d.a.bool})),explainingTextParams:L,hideDelighted:d.a.bool,tags:d.a.arrayOf(d.a.string)},R={leadType:u.f.INVENTORY,isUserOpened:!1,leadFormComponent:u.d.BASE,apiParams:{leadTargetsSize:"",leadSubmissionAPI:f.c,leadSubmissionURL:p.d,omitStyleId:!1,omitYear:!1},processDataMethods:{getLeadSubmissionInfo:g.g,getLeadSubmissionAPIHeaders:b.a,getInsiderSaveData:i.a,getAdditionalListTrackingData:i.a,processLeadTargetsAfterSubmit:[_.a],processCheckedCheckbox:i.a,postProcessMethods:[i.a]},leadFormConfig:{className:null,cardView:u.a.DEFAULT,applyPhoneMask:!0,submitButtonText:"Submit",userInfoPosition:u.k.AFTER_CARDS,showIncentives:!1,vehicleString:"",dealerName:"",withFormClasses:!0,hideWhenLeadTargetsEmpty:!1,initialCollapseState:null,enableBottomNote:!1,showAd:!0,reverseCardView:!1,listCardView:!1,showProTip:!1,showPQtext:!0,headerConfig:o()({},O,{header:{text:""}}),hideStyleSelector:!1,showVin:!1,showPrice:!1,filteringByFacets:[],scrollMap:y.b,tcpaParentDealershipName:null,daysToSell:null,isMobile:!1,isTopEmbeddedCommentsAvailable:!1,checkbox:D,leadFormId:"",isUsedSrpDealCheck:!1,skipWidgetViewTracking:!1,fragmentTop:null,trackedCreativeId:null,isNewVinOnSrp:!1,bestDealPrice:0,userInfoComponent:void 0,userCongratsInfoComponent:void 0,hideContactDealerTip:!1,isPriceChecker:!1},thankYouLeadFormComponent:void 0,thankYouLeadFormConfig:{enabled:!1,withFormClasses:!0,headerConfig:o()({},O,{header:{text:"Congrats!"},subHeader:{skipWhenSuggestedLeadTargetsEmpty:!0}}),adsConfig:Object(s.a)({},x,{adsPositions:{[h.h.AD_NAME]:"7"}})},thankYouComponent:u.j.BASE,thankYouConfig:{className:null,withFormClasses:!0,headerConfig:o()({},O,{header:{text:"Success!"}}),adsConfig:Object(s.a)({},x,{adsPositions:{[h.h.AD_NAME]:"7"}}),hasPriceCheckerPromo:!1,priceCheckerParams:null,isBuildPriceAdEnabled:!1,hideCtas:!1},explainingTextParams:[],hideDelighted:!0,tags:null},M={onUpdateStyle:d.a.func.isRequired,styles:c.b.Styles},V={styles:[]},F={onUpdateStyle:d.a.func.isRequired,styles:c.b.Styles},U={styles:[]}},"./site-modules/shared/components/lead-form/lead-form-wrapper/lead-form-wrapper-methods.js":function(e,a,t){"use strict";t.d(a,"a",function(){return y}),t.d(a,"b",function(){return _}),t.d(a,"f",function(){return E}),t.d(a,"e",function(){return v}),t.d(a,"d",function(){return C}),t.d(a,"c",function(){return T});t("../node_modules/core-js/modules/es6.regexp.to-string.js");var s=t("../node_modules/lodash/isUndefined.js"),n=t.n(s),i=t("../node_modules/lodash/get.js"),r=t.n(i),o=t("../node_modules/lodash/isEmpty.js"),l=t.n(o),d=t("./site-modules/shared/constants/lead-form/lead-form-states.js"),c=t("./site-modules/shared/components/lead-form/utils/utils.js"),m=t("./data/utils/marketo-service.js"),u=t("./site-modules/shared/utils/nice-name.js"),p=t("./utils/event-toolbox.js"),h=t("./tracking/constant.js"),f=t("./site-modules/shared/utils/esp.js"),g=t("./site-modules/shared/utils/inventory-utils/get-vdp-url.js"),b=t("./site-modules/shared/utils/inventory-utils/is-cpo.js");function y(e){return l()(e)?(this.setState({formState:d.a.SUBMIT_LEAD_ERROR,showSubmitLoadingIndicator:!1}),Promise.reject("error")):(this.runInsiderAction(),this.showThankYouPage(),Promise.resolve())}function _(e){return l()(e)?Promise.reject("error"):Promise.resolve()}function E(){const e=this.props,a=e.make,t=e.model,s=e.year,n=e.style,i=e.customConfig,o=this.personalInfo.email,l=Object(c.i)(r()(this.selectedLeadTargets,"[0]")).styleInfo,d=l.make,u=l.model,f=l.year,y=l.style,_=r()(this.selectedLeadTargets,"[0].inventory.vehicleInfo","").mileage,E=r()(this.selectedLeadTargets,"[0].inventory.prices.displayPrice","");p.a.fireTrackAction({event_type:h.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:h.b.ACTION_TOOL_SELECT,action_category:h.b.SYSTEM_ACTION_CATEGORY,subaction_name:"send_marketo_lead_confirm",creative_id:r()(i,"creativeId")}});const v={"my.make":a||d,"my.model":t||u,"my.year":(s||f||"").toString(),"my.style":n||y||"","my.leads":JSON.stringify(this.selectedLeadTargets.map(e=>{const a=e.inventory,t=e.leadAttributes,s=Object(c.i)(e).dealerInfo,n=r()(t,"distance",0),i=r()(s,"phoneNumbers.ppTrackable")||r()(s,"phoneNumbers.trackable",{}),o=i.areaCode,l=void 0===o?"":o,d=i.prefix,m=void 0===d?"":d,u=i.postfix,p=void 0===u?"":u,h={name:r()(s,"name",""),street:r()(s,"address.street",""),city:r()(s,"address.city",""),state:r()(s,"address.stateCode",""),zip:r()(s,"address.zip",""),distance:n>0?n.toFixed(1):"",phone:{areaCode:l,prefix:m,postfix:p}},f=Object(b.a)(r()(a,"type",""))?"Certified":"Used",y=r()(a,"vehicleInfo.photo.defaultPhoto.large.url","")||r()(a,"vehicleInfo.photo.defaultPhoto.small.url","");return{leadType:"inventory",purchaseVehicle:{vin:a.vin,photoUrl:y.includes("evox")?"":y,stockNumber:a.stockNumber,bestDealPrice:E,inventoryTypeName:f,mileage:_},dealer:h,referringUrls:{vdp:`https://www.edmunds.com${Object(g.a)(a,!1)}`}}}).sort((e,a)=>-1*e.leadType.localeCompare(a.leadType)))};return Object(m.a)({data:v,campaignName:"used_pricing_confirmation_email",email:o})}function v(){return Object(m.a)({data:{"my.visitorId":this.props.visitorId,"my.leadId":this.leadIds[0],"my.utmCampaign":r()(this.props,"customConfig.utmCampaign","")||r()(this.props,"customConfig.thankYouConfig.priceCheckerParams.priceCheckerPromoQuery.utm_campaign",""),"my.make":Object(u.c)(this.props.make),"my.model":Object(u.c)(this.props.model),"my.year":this.props.year.toString(),"my.espTrustText":Object(f.b)()},campaignName:"price_checker_promotion_2",email:this.personalInfo.email})}function C(e){const a=this.props,t=a.make,s=a.model,i=a.year,o=a.trim,l=a.visitorId,d=a.customConfig,g=this.personalInfo.email,b=Object(c.i)(r()(this.selectedLeadTargets,"[0]")).styleInfo,y=b.make,_=void 0===y?"":y,E=b.model,v=void 0===E?"":E,C=b.year,T=void 0===C?"":C,N=b.trim,j=void 0===N?"":N,I=r()(e,"deals[0].leadDetails.isPriceFocused");if(!n()(I)&&!I)return Promise.resolve();p.a.fireTrackAction({event_type:h.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:h.b.ACTION_TOOL_SELECT,action_category:h.b.SYSTEM_ACTION_CATEGORY,subaction_name:"send_marketo_lead_confirm",creative_id:r()(d,"creativeId")}});const O={"my.make":t||_,"my.model":s||v,"my.year":(i||T).toString(),"my.trim":o||j,"my.vehicleParams":JSON.stringify({make:Object(u.c)(t||_),model:Object(u.c)(s||v)}),"my.espTrustText":Object(f.b)(),"my.utmCampaign":r()(d,"utmCampaign","")||r()(d,"thankYouConfig.priceCheckerParams.priceCheckerPromoQuery.utm_campaign",""),"my.visitorId":l,"my.leads":JSON.stringify(this.selectedLeadTargets.map(e=>{const a=e.leadAttributes,t=e.inventory,s=Object(c.i)(e),n=s.dealerInfo,i=s.styleInfo,o=r()(a,"distance",0),l=r()(n,"phoneNumbers.ppTrackable")||r()(n,"phoneNumbers.trackable",{}),d=l.areaCode,m=void 0===d?"":d,u=l.prefix,p=void 0===u?"":u,h=l.postfix,f=void 0===h?"":h,g={name:r()(n,"name",""),street:r()(n,"address.street",""),city:r()(n,"address.city",""),state:r()(n,"address.stateCode",""),zip:r()(n,"address.zip",""),rooftopId:r()(n,"rooftopId",""),distance:o>0?o.toFixed(1):"",phone:{areaCode:m,prefix:p,postfix:f}};if(!t)return{leadType:"dealer",dealer:g};const b=r()(t,"vehicleInfo.photo.defaultPhoto.large.url","")||r()(t,"vehicleInfo.photo.defaultPhoto.small.url","");return{leadType:"inventory",purchaseVehicle:{vin:t.vin,styleName:r()(i,"style",""),photoUrl:b.includes("evox")?"":b,exteriorColor:r()(t,"vehicleInfo.vehicleColors.exterior.name",""),stockNumber:t.stockNumber,msrp:r()(t,"prices.displayPrice",""),bestDealPrice:r()(t,"computedInfo.bestDealPrice","")},dealer:g,attributes:{destinationFee:r()(t,"prices.destinationFee",""),hideDestinationFee:(!!r()(a,"hideDestinationFee",!1)).toString()}}}).sort((e,a)=>-1*e.leadType.localeCompare(a.leadType)))};return Object(m.a)({data:O,campaignName:"new_pricing_confirmation_email",email:g})}function T(e){const a=this.props,t=a.make,s=a.model,i=a.year,o=a.trim,l=a.visitorId,d=a.customConfig,g=this.personalInfo.email,b=Object(c.i)(r()(this.selectedLeadTargets,"[0]")).styleInfo,y=r()(b,"make",""),_=r()(b,"model",""),E=r()(b,"year",""),v=r()(b,"trim",""),C=r()(e,"deals[0].leadDetails.isPriceFocused");if(!n()(C)&&!C)return Promise.resolve();p.a.fireTrackAction({event_type:h.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:h.b.ACTION_TOOL_SELECT,action_category:h.b.SYSTEM_ACTION_CATEGORY,subaction_name:"send_marketo_lead_confirm",creative_id:r()(d,"creativeId")}});const T=this.selectedLeadTargets.map(e=>{const a=e.leadAttributes,t=e.inventory,s=Object(c.i)(e),n=s.dealerInfo,i=s.styleInfo,o=r()(a,"distance",0),l=r()(n,"phoneNumbers.ppTrackable")||r()(n,"phoneNumbers.trackable",{}),d=l.areaCode,m=void 0===d?"":d,u=l.prefix,p=void 0===u?"":u,h=l.postfix,f=void 0===h?"":h,g={name:r()(n,"name",""),street:r()(n,"address.street",""),city:r()(n,"address.city",""),state:r()(n,"address.stateCode",""),zip:r()(n,"address.zip",""),rooftopId:r()(n,"rooftopId",""),distance:o>0?o.toFixed(1):"",phone:{areaCode:m,prefix:p,postfix:f}};if(!t)return{leadType:"dealer",dealer:g};const b=r()(t,"vehicleInfo.photo.defaultPhoto.large.url","")||r()(t,"vehicleInfo.photo.defaultPhoto.small.url",""),y=r()(t,"prices.displayPrice")||r()(t,"prices.totalMsrp")||r()(t,"prices.baseMsrp","");return{leadType:"inventory",purchaseVehicle:{vin:t.vin,styleName:r()(i,"style",""),photoUrl:b.includes("evox")?"":b,exteriorColor:r()(t,"vehicleInfo.vehicleColors.exterior.name",""),interiorColor:r()(t,"vehicleInfo.vehicleColors.interior.name",""),stockNumber:t.stockNumber,msrp:y,bestDealPrice:r()(t,"computedInfo.bestDealPrice",""),guaranteedPrice:r()(t,"prices.guaranteedPrice")||y},dealer:g,attributes:{destinationFee:r()(t,"prices.destinationFee",""),docFee:r()(t,"prices.docFee",""),purchasePromiseDisclaimer:r()(t,"prices.pricePromise.purchasePromiseDisclaimer",""),hideDestinationFee:(!!r()(a,"hideDestinationFee",!1)).toString()}}}),N={"my.make":t||y,"my.model":s||_,"my.year":(i||E).toString(),"my.trim":o||v,"my.vehicleParams":JSON.stringify({make:Object(u.c)(t||y),model:Object(u.c)(s||_)}),"my.espTrustText":Object(f.b)(),"my.utmCampaign":r()(d,"utmCampaign","")||r()(d,"thankYouConfig.priceCheckerParams.priceCheckerPromoQuery.utm_campaign",""),"my.visitorId":l,"my.leads":JSON.stringify(T.sort((e,a)=>-1*e.leadType.localeCompare(a.leadType)))};return Object(m.a)({data:N,campaignName:"hpd_pricing_confirmation_email",email:g})}},"./site-modules/shared/components/lead-form/lead-form-wrapper/lead-form.scss":function(e,a,t){},"./site-modules/shared/components/lead-form/unified-lead-form-pages/digital-retail-lead-form-utils.js":function(e,a,t){"use strict";t.d(a,"b",function(){return d}),t.d(a,"a",function(){return c}),t.d(a,"e",function(){return m}),t.d(a,"d",function(){return u}),t.d(a,"c",function(){return p});var s=t("../node_modules/lodash/get.js"),n=t.n(s),i=t("./site-modules/shared/utils/car-buying/api-helper.js"),r=(t("./utils/event-toolbox.js"),t("./site-modules/shared/utils/inventory-utils/is-new.js")),o=(t("./tracking/constant.js"),t("./site-modules/shared/components/deal/deal-constants.js")),l=t("./site-modules/shared/constants/inventory/lead-form.js");const d=e=>()=>Object(i.a)(e),c=(e,a)=>{let t=Object(r.a)(n()(e,"type"))?l.c.NEW_PRICE_VALIDATION:l.c.USED_PRICE_VALIDATION;return a&&(t=l.c.USED.BASE),e=>({contactOptions:Array(e.length).fill(t)})};async function m(){this.runInsiderAction(),this.setState({showSubmitLoadingIndicator:!1})}const u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.visible,t=void 0!==a&&a,s=e.checkEligibleInventory,i=void 0!==s&&s;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.pageName,s=e.leadTargets;if(t)return!0;const o="new_model_core"===a;return i?o&&(void 0===s?[]:s).some(e=>!(!n()(e,"inventory.vin")||!Object(r.a)(n()(e,"inventory.type")))):o}},p=e=>{const a=n()(e,"prices.displayPrice"),t=n()(e,"computedDisplayInfo.priceValidation",{}),s=t.maxGreatPrice,i=t.maxGoodPrice,r=t.maxFairPrice,l=t.dealType;return a<(s||i||r)?{header:"The dealer's online price is off the charts! Literally.",subheader:"We recommend you act fast if you want this deal. Rate the dealer's final offer.",tooltip:"This is a great deal and there may not be room to negotiate. On average, the final sale price of used cars is 7% less than the online price."}:l===o.r?{header:"The dealer's online price is well below what we'd expect!",subheader:"Use this form to get the dealer's lowest out-the-door price so you can rate it.",tooltip:"This is a great deal and there may not be room to negotiate. On average, the final sale price of used cars is 7% less than the online price."}:{header:"Most dealers can't post their lowest prices online.",subheader:"Use this form to get the dealer's lowest out-the-door price so you can rate it.",tooltip:"On average, the final sale price of used cars is 7% less than the online price."}}},"./site-modules/shared/components/lead-form/unified-lead-form-pages/digital-retail-offer-type-lead-form.jsx":function(e,a,t){"use strict";var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("../node_modules/react-redux/es/index.js"),c=t("../node_modules/react-router/esm/react-router.js"),m=t("./data/models/page.js"),u=t("./data/luckdragon/redux/react-binding.jsx"),p=t("./data/models/inventory.js"),h=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),f=t("./site-modules/shared/components/lead-form/unified-lead-form/constants/creative-ids.js"),g=t("./site-modules/shared/constants/lead-form/lead-form-configs.js"),b=t("./site-modules/shared/constants/car-buying/pre-qualify-step-constants.js"),y=t("./site-modules/shared/components/lead-form/unified-lead-form/unified-lead-form.jsx"),_=t("../node_modules/lodash/get.js"),E=t.n(_),v=t("../node_modules/classnames/index.js"),C=t.n(v),T=t("../node_modules/reactstrap/lib/Col.js"),N=t.n(T),j=t("../node_modules/reactstrap/lib/Button.js"),I=t.n(j),O=t("../node_modules/reactstrap/lib/FormGroup.js"),k=t.n(O),P=t("../node_modules/reactstrap/lib/Collapse.js"),x=t.n(P),S=t("./site-modules/shared/components/form-field/form-field.jsx"),L=t("./site-modules/shared/components/form-field-mask/form-field-mask.jsx"),A=t("./site-modules/shared/components/car-buying/privacy-disclaimer/privacy-disclaimer.jsx"),D=t("./site-modules/shared/components/lead-form/utils/utils.js"),w=t("./site-modules/shared/constants/lead-form/validation.js");const R="mb-0",M="w-100 mb-0",V="text-gray-darker mb-0_25 mb-md-0_5 medium",F="medium text-danger",U=r.a.createElement(i.Fragment,null,r.a.createElement("div",{className:"heading-3 mb-0_75 text-primary"},"Send Your Deal!"),r.a.createElement("div",{className:"mb-0_75 text-gray-darker"},r.a.createElement("b",null,"You're in control.")," Getting quotes from multiple dealers means you're more likely to save. Send your Edmunds Deals to each dealer to see if they'll match it or beat it.")),$={CODE:13,NAME:"Enter"};class B extends i.Component{constructor(){super(...arguments),this.state={isOpen:!this.props.isMobile},this.onEntered=(()=>this.emailInputRef&&this.emailInputRef.focus()),this.fieldRef=(e=>(this.emailInputRef=e,this.props.fieldRef(e))),this.handleKeyPress=(e=>{const a=e.key,t=e.which,s=e.keyCode;a!==$.NAME&&t!==$.CODE&&s!==$.CODE||(e.preventDefault(),this.toggleFormFields())}),this.toggleFormFields=(e=>{e.preventDefault(),this.setState({isOpen:!0})})}render(){const e=this.props,a=e.showSubmitLoadingIndicator,t=e.fieldRef,s=e.validationErrors,n=e.validate,o=e.applyPhoneMask,l=e.submitButtonText,d=e.secondaryButtonText,c=e.submitButtonColor,m=e.submitButtonSize,u=e.profile,p=e.isMobile,h=e.disabled,f=e.headlineComponent,g=e.onSecondaryButtonClick,y=this.state.isOpen,_=o?L.a:S.a,E=o?w.a:null,v=!("firstName"in s),T=!("lastName"in s),j=!("email"in s),O=!("phone"in s),P=!("selectedLeadsEmpty"in s),$=Object(D.q)(u),B=$.firstName,Y=$.lastName,H=$.email,q=$.phoneNumber,z=f||U,G=r.a.createElement(A.a,{text:b.f,classNames:"mb-0_5",isHtmlContent:!0,noIconShield:!0}),W=r.a.createElement("div",{className:C()("submit-button-wrapper d-flex justify-content-center justify-content-md-start w-100 mb-1_5",{"flex-column flex-md-row":!!g})},y?r.a.createElement(i.Fragment,null,r.a.createElement(I.a,{type:"submit",color:c,size:m,className:C()("submit-button px-1_5 px-sm-2",{"spinner-active":a,"w-100":p}),disabled:h||a,"data-hidedelightedoninteraction":"true","data-test":"submit-personal-info-btn"},r.a.createElement("i",{className:"spinner icon-spinner8 mr-0_25"}),r.a.createElement("span",null,l)),!!g&&r.a.createElement(I.a,{type:"button",onClick:g,color:"outline-primary-b",className:"mt-1 mt-md-0 ml-md-1 text-capitalize px-1_5 px-sm-2",disabled:a},d)):r.a.createElement(I.a,{color:c,className:"w-100 text-transform-none",size:m,onClick:this.toggleFormFields,"data-test":"open-submit-personal-info-btn"},"Next")),K=r.a.createElement(k.a,{className:R,row:!0},r.a.createElement(N.a,{xs:12,md:6},r.a.createElement(S.a,{label:p?void 0:"Email Address*",placeholder:p?"Email address*":void 0,id:"lead-form-deal-check-email",name:"email",ref:this.fieldRef,"aria-label":p?"Email Address*":void 0,"aria-required":!0,"aria-invalid":!j,"aria-describedby":"error-deal-check-email",isValid:j,type:"email",className:M,labelClassName:V,onBlur:n,defaultValue:H}),r.a.createElement("div",{id:"error-deal-check-email",className:F},s.email)),r.a.createElement(N.a,{xs:12,md:6},r.a.createElement(_,{label:p?void 0:"Phone Number*",placeholder:p?"Phone Number*":void 0,id:"lead-form-deal-check-phone",name:"phone",ref:t,"aria-label":p?"Phone Number*":void 0,"aria-required":!0,"aria-invalid":!O,"aria-describedby":"error-deal-check-phone",isValid:O,type:"tel",mask:E,className:M,labelClassName:V,onBlur:n,defaultValue:q}),r.a.createElement("div",{id:"error-deal-check-phone",className:F},s.phone)));return r.a.createElement("div",{className:"user-info"},z,r.a.createElement("div",{className:C()({"bg-gray-extra-light card border-0":!p,"pt-2 px-1_5 pb-0_75":!p,"pt-1":p})},r.a.createElement(k.a,{className:R,row:!0},r.a.createElement(N.a,{xs:12,md:6},r.a.createElement(S.a,{label:p?void 0:"First Name*",placeholder:p?"First name*":void 0,id:"lead-form-deal-check-fname",name:"firstName",ref:t,"aria-label":p?"First Name*":void 0,"aria-required":!0,"aria-invalid":!v,"aria-describedby":"error-deal-check-firstName",isValid:v,className:M,labelClassName:V,maxLength:60,onBlur:n,defaultValue:B}),r.a.createElement("div",{id:"error-deal-check-firstName",className:F},s.firstName)),r.a.createElement(N.a,{xs:12,md:6},r.a.createElement(S.a,{label:p?void 0:"Last Name*",placeholder:p?"Last name*":void 0,id:"lead-form-deal-check-lname",name:"lastName",ref:t,"aria-label":p?"Last Name*":void 0,"aria-required":!0,"aria-invalid":!T,"aria-describedby":"error-deal-check-lastName",isValid:T,className:M,labelClassName:V,maxLength:60,onBlur:n,defaultValue:Y,onKeyPress:y?null:this.handleKeyPress}),r.a.createElement("div",{id:"error-deal-check-lastName",className:F},s.lastName))),r.a.createElement(i.Fragment,null,r.a.createElement(x.a,{isOpen:y,onEntered:this.onEntered,className:"w-100"},K,!P&&r.a.createElement("div",{className:"text-danger medium"},s.selectedLeadsEmpty)),W),G))}}B.propTypes={fieldRef:l.a.func.isRequired,validate:l.a.func.isRequired,onSecondaryButtonClick:l.a.func,validationErrors:l.a.shape({}),submitButtonText:l.a.string,secondaryButtonText:l.a.string,submitButtonColor:l.a.oneOf(["success","primary-b"]),submitButtonSize:l.a.oneOf(["md","lg"]),applyPhoneMask:l.a.bool,showSubmitLoadingIndicator:l.a.bool,isMobile:l.a.bool,profile:l.a.shape({}),disabled:l.a.bool,headlineComponent:l.a.node},B.defaultProps={validationErrors:{},applyPhoneMask:!1,showSubmitLoadingIndicator:!1,submitButtonText:"Submit",secondaryButtonText:"",submitButtonColor:"success",submitButtonSize:"md",isMobile:!1,profile:{},disabled:!1,headlineComponent:null,onSecondaryButtonClick:null};const Y=Object(d.c)(e=>({profile:E()(e,"profile.data.idm")}))(B);var H=t("./data/api/api-client.js"),q=t("./site-modules/shared/utils/car-buying/submit-lead-receipt-helper.js"),z=t("./site-modules/shared/utils/string.js"),G=t("./site-modules/shared/components/profile/attributes/deals.js"),W=t("./site-modules/shared/components/lead-form/unified-lead-form-pages/digital-retail-lead-form-utils.js"),K=t("./site-modules/shared/components/lead-form/utils/lead-form-creative-id.js"),Q=t("./site-modules/shared/utils/lead-form/tags.js"),J=t("./site-modules/shared/utils/car-buying/sms.js"),Z=t("./site-modules/shared/components/lead-form/lead-form-wrapper/lead-form-wrapper-methods.js"),X=t("./site-modules/shared/components/lead-form/unified-lead-form-pages/multi-digital-retail-offer-type-lead-form.jsx");t.d(a,"a",function(){return se});const ee="core_top_lead_form";function ae(e){let a=e.params,t=e.options,i=e.visitorId,o=e.pageName,l=e.selectedVehicle;if(!l)return null;const d=a.vin,c=a.make,m=a.model,u=a.year,p=a.submodel,_=a.submodelIdentifier,E=a.zipCode,v=a.radius,C=a.styleId,T=a.trim,N=a.style,j=t.showLeasePayments,I=t.creativeId,O=t.isUsed,k=t.skipWidgetViewTracking,P=t.bestDealPrice,x=t.isStandaloneDealCheck,S={step:b.b,skipSurvey:!0,suppressLead:!1},L=[{name:"trim",value:T},{name:"style",value:N}],A={utm_targetid:i,utm_account:"edmunds_insider",utm_campaign:ee,bestDealPrice:P},w=Object(n.a)({leadType:h.f.INVENTORY,leadFormComponent:h.d.DIGITAL_RETAIL_OFFER_TYPE,tags:Object(Q.a)(),creativeId:I||Object(K.a)({isNewVin:!O,pageNameLegacy:o,formName:f.b.DEAL_CHECK_PRICE_SINGLE_PAGE}),apiParams:{leadSubmissionAPI:H.a,leadSubmissionURL:`/api/v1/receipt/?${Object(z.f)(S)}`},processDataMethods:Object(n.a)({getInsiderSaveData:G.c,getLeadSubmissionAPIHeaders:Object(W.b)(i),getAdditionalListTrackingData:Object(W.a)(l),processCheckedCheckbox:J.b,getLeadSubmissionInfo:q.f,postProcessMethods:[O?Z.f:Z.d]},O?{processLeadTargetsAfterSubmit:[Z.b,W.e]}:{processLeadTargetsAfterSubmit:[x?Z.a:Z.b,W.e]}),leadFormConfig:Object(n.a)({cardView:h.a.DIGITAL_RETAIL_OFFER_TYPE_TABLE,submitButtonText:"Get Dealer's Price",showLeasePayments:j,skipWidgetViewTracking:k},x?{userInfoComponent:Y,isPriceChecker:!0}:{},{isStandaloneDealCheck:x}),hideDelighted:!1},x?{thankYouComponent:h.j.DEAL_CHECK_PRICE_CHECKER,thankYouConfig:{headerConfig:{headerComponent:X.b,subHeaderComponent:X.b},withFormClasses:!1,priceCheckerParams:A,hideCtas:!0,adsConfig:{adComponent:null}},explainingTextParams:L}:{}),R={vin:d,make:c,model:m,year:u,submodel:p,submodelIdentifier:_,styleId:C,trim:T,zipCode:E,radius:v,customConfig:w,config:Object(n.a)({},g.a.DIGITAL_RETAIL_OFFER_TYPE,{dataTrackingParent:{creativeId:w.creativeId}}),pathname:Object(D.m)(t)};return r.a.createElement(y.UnifiedLeadForm,Object(s.a)({},R,{customConfig:w}))}ae.propTypes={params:l.a.shape({}).isRequired,options:l.a.shape({}).isRequired,selectedVehicle:p.b.InventoryVin,visitorId:l.a.string,pageName:l.a.string},ae.defaultProps={visitorId:"",pageName:"",selectedVehicle:null};const te={pageName:Object(u.a)("legacy.pageName",m.a),selectedVehicle:Object(u.a)(e=>{let a=e.params.vin;return a?`vin["${a}"]`:""},p.c)},se=Object(c.g)(Object(d.c)(e=>({visitorId:e.visitor.id}))(Object(u.b)(ae,te)))},"./site-modules/shared/components/lead-form/unified-lead-form-pages/embedded-lead-form.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return I});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/lodash/merge.js"),i=t.n(n),r=t("../node_modules/lodash/get.js"),o=t.n(r),l=t("../node_modules/react/index.js"),d=t.n(l),c=t("../node_modules/prop-types/index.js"),m=t.n(c),u=t("../node_modules/classnames/index.js"),p=t.n(u),h=t("../node_modules/react-redux/es/index.js"),f=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),g=t("./site-modules/shared/components/lead-form/unified-lead-form/constants/creative-ids.js"),b=t("./site-modules/shared/components/lead-form/unified-lead-form/unified-lead-form.jsx"),y=t("./site-modules/shared/components/lead-form/unified-lead-form/unified-lead-form-async.jsx"),_=t("./site-modules/shared/components/lead-form/utils/utils.js"),E=t("./site-modules/shared/components/lead-form/lead-form-wrapper/lead-form-wrapper-methods.js"),v=t("./site-modules/shared/constants/inventory/lead-form.js"),C=t("./site-modules/shared/components/lead-form/utils/lead-form-creative-id.js");t("./site-modules/shared/components/lead-form/unified-lead-form-pages/embedded-lead-form.scss");const T=[{input:"firstName",selector:"#lead-form-pricing-fname"},{input:"lastName",selector:"#lead-form-pricing-lname"},{input:"email",selector:"#lead-form-pricing-email"},{input:"phone",selector:"#lead-form-pricing-phone"}],N={[v.c.NEW.BASE]:{featureFlags:"isSkipPricePromise",leadFormConfig:{submitButtonText:"Get Dealer Offer",headerConfig:{header:{text:"Get Dealer Offer"}}},thankYouConfig:{headerConfig:{subHeader:{explainingText:"Thanks for submitting your request for the {year} {make} {model}. Your information has been sent and the dealer should follow up shortly"}}}},[v.c.USED.BASE]:{leadFormConfig:{scrollMap:[{input:"firstName",selector:"#lead-form-embeded-fname"},{input:"lastName",selector:"#lead-form-embeded-lname"},{input:"email",selector:"#lead-form-embeded-email"},{input:"phone",selector:"#lead-form-embeded-phone"}],headerConfig:{header:{text:"Check Availability"}}},thankYouConfig:{headerConfig:{subHeader:{explainingText:"Your request has been sent and the dealer should follow up shortly."}}}},[v.c.USED.SRP]:{leadFormComponent:f.d.TOP_EMBEDDED,leadFormConfig:{submitButtonText:"Send message",scrollMap:T,headerConfig:{header:{text:"Check Availability",className:"heading-3 mb-0"}},isTopEmbeddedCommentsAvailable:!0},thankYouConfig:{adsConfig:{adComponent:null}}},[v.c.NEW.SRP]:{leadFormComponent:f.d.TOP_EMBEDDED,leadFormConfig:{submitButtonText:"Send message",scrollMap:T,headerConfig:{header:{text:"Check Availability",className:"heading-3 mb-0"}},isTopEmbeddedCommentsAvailable:!0},thankYouConfig:{adsConfig:{adComponent:null}}}};function j(e){let a=e.params,t=e.options,n=e.pageNameLegacy,r=e.className,l=e.isMobile;const c=a.vin,m=a.make,u=a.model,h=a.year,v=a.zipCode,j=a.radius,I=a.submodelIdentifier,O=a.isNewVin,k=a.tcpaParentDealershipName,P=t.unifiedLeadFormCTA,x=t.isTopEmbeddedLeadForm,S=t.daysToSell,L=t.hideContactDealerTip,A=N[P],D=Object(C.a)({isNewVin:O,pageNameLegacy:n,formName:x?g.b.SINGLE_VDP_PRICING_EMBEDDED_FORM:g.b.SINGLE_VDP_EMBEDDED_FORM}),w=Object(s.a)({creativeId:D,leadType:f.f.INVENTORY,leadFormComponent:f.d.MAD_LIBS,leadFormConfig:{withFormClasses:!1,hideWhenLeadTargetsEmpty:!0,headerConfig:{headerComponent:f.c.VDP_EMBEDDED,header:{className:"heading-4 mb-0",explainingText:""}},tcpaParentDealershipName:k}},O?{processDataMethods:{postProcessMethods:[E.d],getLeadSubmissionInfo:_.h}}:{},{thankYouConfig:{withFormClasses:!1,headerConfig:{header:{showLogo:!1},subHeaderComponent:f.g.BASE,subHeader:{text:"You\u2019re All Set",insiderLinkOut:!0}},adsConfig:{adComponent:null}},hideDelighted:!1});O||(w.processDataMethods=Object(s.a)({},w.processDataMethods,{postProcessMethods:[...o()(w,"processDataMethods.postProcessMethods",[]),E.f],getLeadSubmissionInfo:_.h}));const R={vin:c,make:m,model:u,year:h,zipCode:v,radius:j,submodelIdentifier:I,pathname:Object(_.m)(t),customConfig:i()(w,A)},M={customConfig:{leadFormComponent:f.d.TOP_EMBEDDED,leadFormConfig:{submitButtonText:"Request Information",scrollMap:T,headerConfig:{header:{className:"heading-3 mb-0"}},daysToSell:S,isMobile:l,leadFormId:"top-embedded-lead-form",hideContactDealerTip:L},thankYouConfig:{adsConfig:{adComponent:null}}}},V=i()({},R,M),F=D;return x?d.a.createElement("section",{className:p()("inline-embedded-lead-form",r||"px-0_5 px-md-1 mb-1 mb-md-0 mx-0_25 mx-md-0_5 bg-gray-extra-light rounded-bottom border-top-0 py-0_75"),"data-tracking-parent":F},d.a.createElement(b.UnifiedLeadForm,V)):d.a.createElement("section",{className:p()("inline-embedded-lead-form",r||"p-0_5 p-md-1_5 mb-2 mt-1_5 rounded"),"data-tracking-parent":F},d.a.createElement(y.a,R),d.a.createElement("hr",{className:"mt-1_5 mb-2"}))}j.propTypes={params:m.a.shape({zipCode:m.a.oneOfType([m.a.string,m.a.number]).isRequired,radius:m.a.oneOfType([m.a.string,m.a.number]).isRequired,make:m.a.string.isRequired,model:m.a.string.isRequired,vin:m.a.string.isRequired,year:m.a.oneOfType([m.a.string,m.a.number]),isNewVin:m.a.bool,tcpaParentDealershipName:m.a.string}).isRequired,options:m.a.shape({pathname:m.a.string,unifiedLeadFormCTA:m.a.string,isTopEmbeddedLeadForm:m.a.bool,daysToSell:m.a.number}).isRequired,pageNameLegacy:m.a.string,className:m.a.string,isMobile:m.a.bool},j.defaultProps={pageNameLegacy:"",className:"",isMobile:!1,params:{tcpaParentDealershipName:""}};const I=Object(h.c)(e=>({pageNameLegacy:o()(e,"pageContext.legacy.pageName")||o()(e,"pageContext.page.name"),isMobile:e.mobile}))(j)},"./site-modules/shared/components/lead-form/unified-lead-form-pages/embedded-lead-form.scss":function(e,a,t){},"./site-modules/shared/components/lead-form/unified-lead-form-pages/multi-digital-retail-offer-type-lead-form.jsx":function(e,a,t){"use strict";t.d(a,"b",function(){return T}),t.d(a,"a",function(){return O});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/lodash/get.js"),i=t.n(n),r=t("../node_modules/react/index.js"),o=t.n(r),l=t("../node_modules/prop-types/index.js"),d=t.n(l),c=t("../node_modules/react-redux/es/index.js"),m=t("./site-modules/shared/constants/lead-form/lead-form-configs.js"),u=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),p=t("./site-modules/shared/components/lead-form/unified-lead-form/constants/creative-ids.js"),h=t("./site-modules/shared/components/lead-form/unified-lead-form/unified-lead-form-async.jsx"),f=t("./site-modules/shared/components/lead-form/utils/utils.js"),g=t("./site-modules/shared/utils/car-buying/sms.js"),b=t("./site-modules/shared/components/lead-form/unified-lead-form-pages/digital-retail-lead-form-utils.js"),y=t("./site-modules/shared/utils/lead-form/tags.js"),_=t("./site-modules/shared/components/lead-form/utils/lead-form-creative-id.js"),E=t("./data/luckdragon/redux/react-binding.jsx"),v=t("./data/models/inventory.js"),C=t("./site-modules/shared/components/lead-form/lead-form-wrapper/lead-form-wrapper-methods.js");const T=()=>null,N="core_top_lead_form";function j(e){let a=e.params,t=e.options,n=e.pageName,i=e.selectedVehicle,r=e.visitorId,l=e.isMobile;if(!i)return null;const d=a.vin,c=a.make,E=a.model,v=a.year,j=a.submodel,I=a.submodelIdentifier,O=a.zipCode,k=a.radius,P=a.styleId,x=a.style,S=a.trim,L=a.bodyType,A=a.priceStrikethrough,D=a.isNewVin,w=a.isUsedSrpDealCheck,R=a.skipWidgetViewTracking,M=a.isInventoryDeal,V=t.isSrp,F=t.isPromo,U=t.target,$=t.daysToSell,B=t.tcpaParentDealershipName,Y=t.bestDealPrice,H=t.isMarketoEmailsHPDEnable;let q=p.b.DEAL_CHECK_PRICE_MULTI_DRAWER;w&&(q=p.b.CHECK_AVAILABILITY),M&&(q=p.b.HAND_PICKED);const z=M?["#hand-picked"]:Object(y.a)({isPromo:F}),G=[{name:"trim",value:S},{name:"style",value:x}],W={utm_targetid:r,utm_account:"edmunds_insider",utm_campaign:N,bestDealPrice:Y};let K=D?C.d:C.f;H&&(K=C.c);const Q={leadType:u.f.ANY,creativeId:Object(_.a)({isNewVin:D,pageNameLegacy:n,formName:q}),tags:w?null:z,apiParams:{leadTargetsSize:2},processDataMethods:Object(s.a)({processCheckedCheckbox:Object(g.a)({vin:d,target:U||"lead"}),getAdditionalListTrackingData:Object(b.a)(i,w)},M&&!H?{}:{postProcessMethods:[K],getLeadSubmissionInfo:f.h}),leadFormComponent:u.d.MULTI_DIGITAL_RETAIL_OFFER_TYPE,leadFormConfig:{priceStrikethrough:A,cardView:w||M?u.a.DEALER_VIN_CHECK_AVAILABILITY:u.a.DEALER_VIN,checkbox:{isVisible:Object(b.d)({visible:!1})},headerConfig:{headerComponent:T,subHeaderComponent:T},withFormClasses:!1,daysToSell:$,isUsedSrpDealCheck:w,skipWidgetViewTracking:R,isNewVinOnSrp:D&&V,tcpaParentDealershipName:B,isInventoryDeal:M,userInfoPosition:D&&V&&l?1:u.k.AFTER_CARDS,isPriceChecker:!w&&!M,isMarketoEmailsHPDEnable:H},thankYouComponent:w||M?u.j.DEAL_CHECK_AVAILABILITY:u.j.SRP_PRICE_CHECKER,thankYouConfig:{priceStrikethrough:A,headerConfig:{headerComponent:T,subHeaderComponent:T},withFormClasses:!1,priceCheckerParams:W,hideCtas:!0},explainingTextParams:w?void 0:G};let J=m.a.UNIFIED;V&&D&&(J=m.a.UNIFIED_PURCHASE);const Z={vin:d,make:c,model:E,year:v,submodel:j,submodelIdentifier:I,styleId:P,trim:S,bodyType:L,zipCode:O,radius:k,customConfig:Q,pathname:Object(f.m)(t),config:Object(s.a)({},J,{dataTrackingParent:{creativeId:Q.creativeId}})};return o.a.createElement(h.a,Z)}j.propTypes={params:d.a.shape({}).isRequired,options:d.a.shape({}).isRequired,pageName:d.a.string,selectedVehicle:v.b.InventoryVin,visitorId:d.a.string,isMobile:d.a.bool},j.defaultProps={pageName:"",selectedVehicle:null,visitorId:null,isMobile:!1};const I={selectedVehicle:Object(E.a)(e=>{let a=e.params.vin;return a?`vin["${a}"]`:""},v.c)},O=Object(c.c)(e=>({pageName:i()(e,"pageContext.legacy.pageName")||i()(e,"pageContext.page.name"),visitorId:i()(e,"visitor.id"),isMobile:e.mobile}))(Object(E.b)(j,I))},"./site-modules/shared/components/lead-form/unified-lead-form/components/cards/card-list.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return m});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/classnames/index.js"),l=t.n(o),d=t("./site-modules/shared/components/form-field/form-field.jsx"),c=t("./site-modules/shared/components/loading-spinner/loading-spinner.jsx");function m(e){let a=e.children,t=e.className,s=e.selectedLeadIds,i=e.fieldRef,r=e.validationErrors,o=e.showListTargetsLoadingIndicator;const m=Object.keys(s).length||"",u=!("selectedLeadsEmpty"in r);return n.a.createElement("div",{className:t},n.a.createElement("div",{id:"error-selectedLeads",className:l()("text-danger medium",{"d-none":u})},r.selectedLeadsEmpty),n.a.createElement(d.a,{hidden:!0,type:"hidden",id:"lead-form-selected-leads-empty",name:"selectedLeadsEmpty",ref:i,defaultValue:m,"aria-required":!0,"aria-invalid":!u,"aria-describedby":"error-selectedLeads"}),n.a.createElement(c.a,{isLoading:o},n.a.createElement("div",{className:l()({"has-danger":!u})},n.a.createElement("div",{role:"listbox",className:"listbox","aria-multiselectable":!0},a))))}m.propTypes={children:r.a.oneOfType([r.a.arrayOf(r.a.node),r.a.node]),className:r.a.string,selectedLeadIds:r.a.shape({}),fieldRef:r.a.func.isRequired,validationErrors:r.a.shape({}),showListTargetsLoadingIndicator:r.a.bool},m.defaultProps={children:null,className:"",selectedLeadIds:{},validationErrors:{},showListTargetsLoadingIndicator:!1}},"./site-modules/shared/components/lead-form/unified-lead-form/components/cards/card.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return f});var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("../node_modules/classnames/index.js"),c=t.n(d),m=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),u=t("./site-modules/shared/constants/lead-form/lead-form-templates.js"),p=t("./site-modules/shared/components/lead-form/utils/utils.js"),h=t("./site-modules/shared/components/checkbox/checkbox.jsx");t("./site-modules/shared/components/lead-form/unified-lead-form/components/cards/card.scss");class f extends i.Component{constructor(){super(...arguments),this.onKeyDown=(e=>{" "!==e.key&&"Enter"!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),this.onSelectionChange())}),this.onSelectionChange=(()=>{const e=this.props,a=e.leadTarget,t=e.slot,s=e.multi,n=e.enableSelection,i=a.leadAttributes.primary;s&&!i&&n&&this.props.onChangeLeadSelection(Object(p.l)(a),t)}),this.getCardViewComponent=(e=>{const a=this.props.cardView;if(m.a.DEFAULT===a){const a=Object(p.d)(e);return u.a[a]}return u.a[a]})}render(){const e=this.props,a=e.selectedLeadIds,t=e.multi,i=e.reverseCardView,o=e.leadTarget,l=(e.cardView,e.classes),d=e.enableSelection,m=e.checkboxContainerClassName,u=Object(n.a)(e,["selectedLeadIds","multi","reverseCardView","leadTarget","cardView","classes","enableSelection","checkboxContainerClassName"]),f=this.getCardViewComponent(o),g=`${Object(p.l)(o)}`,b=a[g],y=!d;return r.a.createElement("div",{className:c()("ulf-inventory-card",l),onClick:y?null:this.onSelectionChange,onKeyDown:y?null:this.onKeyDown,role:y?"region":"option","aria-selected":y?null:!!b,tabIndex:0},i&&t&&d&&r.a.createElement(h.a,{id:g,checked:!!b,readOnly:!0,tabIndex:-1,"aria-labelledby":g,containerClassName:m}),r.a.createElement(f,Object(s.a)({leadTarget:o},u)),!i&&t&&d&&r.a.createElement(h.a,{id:g,checked:!!b,readOnly:!0,tabIndex:-1,"aria-labelledby":g}))}}f.propTypes={classes:l.a.string,leadTarget:l.a.shape({inventory:l.a.shape({}),dealer:l.a.shape({}),leadAttributes:l.a.shape({primary:l.a.bool.isRequired,selected:l.a.bool.isRequired,distance:l.a.number}).isRequired}).isRequired,onChangeLeadSelection:l.a.func.isRequired,selectedLeadIds:l.a.shape({}).isRequired,multi:l.a.bool.isRequired,priceStrikethrough:l.a.bool,showInventoryMakeStockImage:l.a.bool,showDealerMakeStockImage:l.a.bool,showBestDealPrice:l.a.bool,showVehicleMileage:l.a.bool,showNationwideDeliveryBadge:l.a.bool,enableSelection:l.a.bool,zipCode:l.a.oneOfType([l.a.string,l.a.number]),stateCode:l.a.string,cardView:l.a.string,slot:l.a.number.isRequired,inventoryText:l.a.string,checkboxContainerClassName:l.a.string},f.defaultProps={classes:"",priceStrikethrough:!1,showInventoryMakeStockImage:!1,showDealerMakeStockImage:!1,showBestDealPrice:!1,showVehicleMileage:!1,showNationwideDeliveryBadge:!1,enableSelection:!0,zipCode:"",stateCode:"",cardView:m.a.DEFAULT,inventoryText:"",checkboxContainerClassName:"left-pos pr-1 mr-1"}},"./site-modules/shared/components/lead-form/unified-lead-form/components/cards/card.scss":function(e,a,t){},"./site-modules/shared/components/lead-form/unified-lead-form/components/dealer/dealer-info.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return c});var s=t("../node_modules/lodash/get.js"),n=t.n(s),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("./site-modules/shared/components/rating-stars/rating-stars.jsx");function c(e){let a=e.dealerInfo,t=e.distance,s=e.showRating,i=e.className;const o=n()(a,"displayInfo.salesOverallRating",n()(a,"salesRating",0)),l=n()(a,"displayInfo.salesReviewCount",n()(a,"salesReviewCount",0));return r.a.createElement("div",{className:i},s&&r.a.createElement("div",{className:"small"},r.a.createElement(d.a,{rating:o,className:"text-primary-darker mr-0_25"}),r.a.createElement("span",null,"(",l,")")),r.a.createElement("div",{className:"text-gray-darker"},a.name),t>0&&r.a.createElement("div",{className:"small text-gray-dark"},t.toFixed(1)," miles away"))}c.propTypes={dealerInfo:l.a.shape({name:l.a.string.isRequired,displayInfo:l.a.shape({salesOverallRating:l.a.number,salesReviewCount:l.a.number}),salesRating:l.a.number,salesReviewCount:l.a.number}).isRequired,distance:l.a.number,showRating:l.a.bool,className:l.a.string},c.defaultProps={distance:0,showRating:!0,className:void 0}},"./site-modules/shared/components/lead-form/unified-lead-form/components/header/photoflipper-vdp-thank-you-header/photoflipper-vdp-thank-you-header.scss":function(e,a,t){},"./site-modules/shared/components/lead-form/unified-lead-form/components/header/price-checker-thank-you-header/price-checker-thank-you-header.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return r});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("./site-modules/shared/components/price-checker/price-checker-header/price-checker-header.jsx");function r(){return n.a.createElement("div",{className:"price-checker-thank-you-header mb-2"},n.a.createElement(i.a,null))}},"./site-modules/shared/components/lead-form/unified-lead-form/components/header/thanks-header/base-thanks-header.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return p});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/classnames/index.js"),l=t.n(o),d=t("./site-modules/shared/components/lead-form/utils/utils.js"),c=t("./site-modules/shared/components/lead-form/lead-form-markdown-view/lead-form-markdown-view.jsx"),m=t("./site-modules/shared/constants/profile/dashboard-paths.js"),u=t("./site-modules/shared/components/link/link.jsx");function p(e){let a=e.config,t=a.text,s=a.explainingText,i=a.insiderLinkOut,r=a.titleClassNames,o=a.markdownViewClassNames,p=a.closeButtonCTA,h=a.closeButtonClassNames,f=a.closeDrawer,g=e.templateParams;return n.a.createElement("div",{className:"base-thanks-header text-gray-darker mt-1_5 mb-1"},t&&n.a.createElement("div",{className:l()({"heading-3 mb-0_75":!r},r)},Object(d.a)(g,t)),s&&n.a.createElement("div",{className:l()({"mt-0_5":!o},o)},n.a.createElement(c.a,{markdown:s,templateParams:g})),i&&n.a.createElement(u.a,{to:m.a.INSIDER,className:"btn btn-success btn-sm px-2 py-0_75 text-white","data-tracking-id":"nav_access_my_account",target:"_blank"},"VIEW YOUR DASHBOARD"),p&&n.a.createElement("button",{className:h,onClick:f},n.a.createElement("span",null,p)))}p.propTypes={config:r.a.shape({text:r.a.string,explainingText:r.a.string,insiderLinkOut:r.a.bool,titleClassNames:r.a.string,markdownViewClassNames:r.a.string,closeButtonCTA:r.a.string,closeButtonClassNames:r.a.string,closeDrawer:r.a.func}),templateParams:r.a.arrayOf(r.a.shape({name:r.a.string,value:r.a.string}))},p.defaultProps={config:{},templateParams:[]}},"./site-modules/shared/components/lead-form/unified-lead-form/components/privacy-note/privacy-note.jsx":function(e,a,t){"use strict";var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/classnames/index.js"),l=t.n(o),d=t("../node_modules/lodash/find.js"),c=t.n(d);const m={amsi:"By providing my number and submitting this form, I agree to receive marketing text messages and phone calls from this dealer at my phone number (including by autodialer or an artificial or prerecorded voice). This consent is not required as a condition of purchase.",carmax:"By providing my number and submitting this form, I agree to receiving marketing text messages and phone calls from this dealer at my phone number (including by autodialer). This consent is not required as a condition of purchase."};function u(e){let a=e.classNames,t=e.tcpaParentDealershipName;const s=c()(m,(e,a)=>t.toLowerCase().includes(a));return n.a.createElement("div",{className:l()("small d-flex align-items-center mb-1",a)},n.a.createElement("span",{className:"text-gray-darker"},s))}function p(e){let a=e.tcpaParentDealershipName,t=e.classNames;return n.a.createElement(s.Fragment,null,a&&n.a.createElement(u,{tcpaParentDealershipName:a}),n.a.createElement("div",{className:l()("small d-flex align-items-center",t)},!a&&n.a.createElement("span",{className:"icon-shield-check size-24 align-self-center m-0 pr-0_5 text text-gray"}),n.a.createElement("span",{className:"text-gray-darker"},"This information will not be shared with any dealer other than those you select."," ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"//www.edmunds.com/about/privacy.html"},n.a.createElement("u",null,"Our collection and use of your personal information")))))}u.propTypes={classNames:r.a.string,tcpaParentDealershipName:r.a.string.isRequired},u.defaultProps={classNames:"",tcpaParentDealershipName:null},t.d(a,"a",function(){return p}),p.propTypes={tcpaParentDealershipName:r.a.string,classNames:r.a.string},p.defaultProps={tcpaParentDealershipName:null,classNames:"mb-1_5"}},"./site-modules/shared/components/lead-form/unified-lead-form/components/user-info/user-info.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return x});var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/lodash/noop.js"),i=t.n(n),r=t("../node_modules/react/index.js"),o=t.n(r),l=t("../node_modules/prop-types/index.js"),d=t.n(l),c=t("../node_modules/classnames/index.js"),m=t.n(c),u=t("../node_modules/reactstrap/lib/Collapse.js"),p=t.n(u),h=t("../node_modules/reactstrap/lib/Button.js"),f=t.n(h),g=t("../node_modules/reactstrap/lib/FormGroup.js"),b=t.n(g),y=t("./site-modules/shared/components/form-field/form-field.jsx"),_=t("./site-modules/shared/components/form-field-mask/form-field-mask.jsx"),E=t("./site-modules/shared/constants/lead-form/validation.js"),v=t("./site-modules/shared/components/lead-form/utils/utils.js"),C=t("./site-modules/shared/components/lead-form/unified-lead-form/components/privacy-note/privacy-note.jsx"),T=t("./site-modules/shared/components/lead-form/lead-form-prop-types/lead-form-prop-types.jsx"),N=t("./site-modules/shared/constants/lead-form/lead-form-params.js");t("./site-modules/shared/components/lead-form/unified-lead-form/components/user-info/user-info.scss");const j="mb-0",I="w-100 mb-0",O="text-gray-darker mb-0",k="medium text-danger",P={CODE:13,NAME:"Enter"};class x extends r.Component{constructor(){super(...arguments),this.state={hideUserInfo:this.props.toggleableSubmitInfo,collapseState:this.props.initialCollapseState},this.onFirstNameEntered=(()=>this.firstNameInputRef&&this.firstNameInputRef.focus()),this.onEmailEntered=(()=>this.emailInputRef&&this.emailInputRef.focus()),this.toggleUserInfo=(()=>this.setState(e=>{return{hideUserInfo:!e.hideUserInfo}})),this.toggleFormFields=(()=>{this.setState({collapseState:null})}),this.emailFieldRef=(e=>(this.emailInputRef=e,this.props.fieldRef(e))),this.firstNameFieldRef=(e=>(this.firstNameInputRef=e,this.props.fieldRef(e))),this.handleKeyPress=(e=>{const a=e.key,t=e.which,s=e.keyCode;a!==P.NAME&&t!==P.CODE&&s!==P.CODE||(e.preventDefault(),this.toggleFormFields())})}render(){const e=this.props,a=e.fieldRef,t=e.validationErrors,n=e.validate,i=e.enableComments,l=e.applyPhoneMask,d=e.showSubmitLoadingIndicator,c=e.submitButtonText,u=e.toggleableSubmitInfo,h=e.profile,g=e.initialCollapseState,T=e.nextButtonTrackingId,P=e.showCheckbox,x=e.checkbox,S=e.tcpaParentDealershipName,L=e.className,A=this.state,D=A.hideUserInfo,w=A.collapseState,R=l?_.a:y.a,M=l?E.a:null,V=!("firstName"in t),F=!("lastName"in t),U=!("email"in t),$=!("phone"in t),B=!("selectedLeadsEmpty"in t),Y=Object(v.q)(h),H=Y.firstName,q=Y.lastName,z=Y.email,G=Y.phoneNumber;let W=r.Fragment,K={};g===N.b.PARTIAL_COLLAPSE&&(W=p.a,K={isOpen:!w,onEntered:this.onEmailEntered});const Q=o.a.createElement(r.Fragment,null,o.a.createElement(b.a,{className:j},o.a.createElement(y.a,{label:"First Name*",id:"lead-form-fname",name:"firstName",ref:this.firstNameFieldRef,"aria-required":!0,"aria-invalid":!V,"aria-describedby":"error-firstName",isValid:V,className:I,labelClassName:O,maxLength:60,onBlur:n,defaultValue:H,inputClassName:"inspectletIgnore"}),o.a.createElement("div",{id:"error-firstName",className:k},t.firstName)),o.a.createElement(b.a,{className:j},o.a.createElement(y.a,{label:"Last Name*",id:"lead-form-lname",name:"lastName",ref:a,"aria-required":!0,"aria-invalid":!F,"aria-describedby":"error-lastName",isValid:F,className:I,labelClassName:O,maxLength:60,onBlur:n,defaultValue:q,onKeyPress:K.isOpen?null:this.handleKeyPress,inputClassName:"inspectletIgnore"}),o.a.createElement("div",{id:"error-lastName",className:k},t.lastName))),J=o.a.createElement(r.Fragment,null,o.a.createElement(b.a,{className:j},o.a.createElement(y.a,{label:"Email*",id:"lead-form-email",name:"email",ref:this.emailFieldRef,"aria-required":!0,"aria-invalid":!U,"aria-describedby":"error-email",isValid:U,type:"email",className:I,labelClassName:O,onBlur:n,defaultValue:z,inputClassName:"inspectletIgnore"}),o.a.createElement("div",{id:"error-email",className:k},t.email)),o.a.createElement(b.a,{className:j},o.a.createElement(R,{label:"Phone*",id:"lead-form-phone",name:"phone",ref:a,"aria-required":!0,"aria-invalid":!$,"aria-describedby":"error-phone",isValid:$,type:"tel",mask:M,className:I,labelClassName:O,onBlur:n,defaultValue:G,inputClassName:"inspectletIgnore"}),o.a.createElement("div",{id:"error-phone",className:k},t.phone)));return o.a.createElement("div",{className:m()("user-info",L)},u&&o.a.createElement(r.Fragment,null,D?o.a.createElement(f.a,{color:"success",onClick:this.toggleUserInfo,className:"submit-button px-1_5 px-sm-2 btn-lg","data-tracking-id":"expand_lead_form"},o.a.createElement("span",null,c)):o.a.createElement("div",null,o.a.createElement(f.a,{type:"submit",color:"success",className:m()("submit-button px-1_5 px-sm-2 btn-lg mb-1",{"spinner-active":d}),disabled:d},o.a.createElement("i",{className:"spinner icon-spinner8 mr-0_25"}),o.a.createElement("span",null,c)),o.a.createElement(C.a,{tcpaParentDealershipName:S}))),!D&&o.a.createElement(r.Fragment,null,Q,o.a.createElement(W,K,J,i&&o.a.createElement(b.a,null,o.a.createElement(y.a,{label:"Comments",id:"lead-form-comment",name:"comments",tag:"textarea",ref:a,className:I,labelClassName:O,maxLength:1e3})),P()&&o.a.createElement(b.a,{className:"d-flex align-items-center"},o.a.createElement(y.a,{id:"lead-form-checkbox",name:"checkbox",type:"checkbox",ref:a,className:"d-inline-block mb-0",defaultChecked:x.defaultChecked}),o.a.createElement("label",{className:"ml-0_5 text-gray-darker mb-0 d-inline-block medium lead-form-checkbox",htmlFor:"lead-form-checkbox"},x.label)))),!u&&o.a.createElement("div",null,!B&&o.a.createElement("div",{className:"text-danger medium"},t.selectedLeadsEmpty),!w&&o.a.createElement(f.a,{type:"submit",color:"success",className:m()("submit-button btn-lg px-1_5 px-sm-2",{"spinner-active":d}),disabled:d},o.a.createElement("i",{className:"spinner icon-spinner8 mr-0_25"}),o.a.createElement("span",null,c)),!!w&&o.a.createElement(f.a,Object(s.a)({color:"success",size:"lg",onClick:this.toggleFormFields},T?{"data-tracking-id":T}:{},{"data-test":"next-btn"}),"Next"),o.a.createElement("div",{className:"mt-1"},o.a.createElement(C.a,{tcpaParentDealershipName:S,classNames:"mb-1"}))))}}x.propTypes={fieldRef:d.a.func.isRequired,validate:d.a.func.isRequired,validationErrors:d.a.shape({}),submitButtonText:d.a.string,enableComments:d.a.bool,applyPhoneMask:d.a.bool,showSubmitLoadingIndicator:d.a.bool,toggleableSubmitInfo:d.a.bool,initialCollapseState:T.a,profile:d.a.shape({}),showCheckbox:d.a.func,nextButtonTrackingId:d.a.string,className:d.a.string,checkbox:T.f,tcpaParentDealershipName:d.a.string},x.defaultProps={validationErrors:{},enableComments:!1,applyPhoneMask:!1,showSubmitLoadingIndicator:!1,submitButtonText:"Submit",initialCollapseState:null,toggleableSubmitInfo:!1,profile:{},showCheckbox:i.a,nextButtonTrackingId:"",className:"mb-0_5 rounded bg-gray-extra-light px-0_75 py-0_5",checkbox:T.e,tcpaParentDealershipName:null}},"./site-modules/shared/components/lead-form/unified-lead-form/components/user-info/user-info.scss":function(e,a,t){},"./site-modules/shared/components/lead-form/unified-lead-form/constants/creative-ids.js":function(e,a,t){"use strict";t.d(a,"a",function(){return s}),t.d(a,"b",function(){return n});const s={USED_SINGLE_BASE_VDP:"uci_single_vdp",USED_SINGLE_BASE_VDP_APPOINTMENT:"uci_single_vdp_appointment",USED_SINGLE_BASE_SRP:"uci_single_srp",NEW_SINGLE_BASE_VDP:"nci_single_vdp",NEW_SINGLE_VDP_EMBEDDED:"nci_single_vdp_embedded",USED_SINGLE_VDP_EMBEDDED:"uci_single_vdp_embedded",NEW_SINGLE_SRP_EMBEDDED:"nci_single_srp_embedded",USED_SINGLE_SRP_EMBEDDED:"uci_single_srp_embedded",USED_SINGLE_VDP_EMBEDDED_PRICING:"uci_single_vdp_embedded_pricing",USED_PLUS_SINGLE_VDP_EMBEDDED:"up_single_vdp_embedded",NEW_SINGLE_BASE_VDP_APPOINTMENT:"nci_single_vdp_appointment",NEW_SINGLE_VDP_EMBEDDED_PRICING:"nci_single_vdp_embedded_pricing",NEW_MULTI_BASE_VDP:"nci_multi_vdp",NEW_MULTI_BASE_SRP:"nci_multi_srp",NEW_MULTI_BASE_SRP_DRAWER:"nci_multi_srp_drawer",NEW_MULTI_CORE:"nci_multi_core",NEW_MULTI_CORE_TOP:"nci_multi_core_top",NEW_MULTI_PRICE_CHECKER:"new-price_checker",NEW_MULTI_BUILD:"nci_multi_build",NEW_EMBEDDED_PRICE_CHECKER:"new-embedded-price_checker",NEW_MULTI_CORE_EMBEDDED:"nci_multi_core_embedded",NEW_MULTI_PREPROD_CORE:"nci_multi_preprod_core",NEW_MULTI_FEATURES_EMBEDDED:"nci_multi_features_embedded",NEW_MULTI_CONSUMER_REVIEWS_EMBEDDED:"nci_multi_consumer_reviews_embedded",NCI_MULTI_NEW_CORE_INCENTIVES_MODULE:"nci_multi_new_core_incentives_module",NEW_SINGLE_PP_VDP:"npp_single_vdp",NEW_MULTI_PP_SRP:"npp_multi_srp",NEW_MULTI_DEALER_LOCATOR:"npp_multi_dl",QUICK_QUOTES_BASE:"dl_qq_base",QUICK_QUOTES_PP:"dl_qq_pp",QUICK_QUOTES_JLR:"dl_jlr_qq_base",CONFIGURATOR:"dl_configurator",NCI_ELF_PRICING:"nci_elf_pricing",NCI_ELF_PRICING_BUILD:"nci_elf_pricing_build",NCI_ELF_PRICING_BUILD_STEP_4:"nci_elf_pricing_build_lead_form_step4",NCI_ELF_PRICING_FEATURES_SPECS:"nci_elf_pricing_new_model_core_feature_specs",TED_ENTRY_LEASE:"ted_entry_lease",TED_ENTRY_LOAN:"ted_entry_loan",TED_ENTRY_USED_LOAN:"ted_entry_used_loan",TED_CTA:"ted_cta"},n={MULTI_BASE_SRP_FORM:"srp_form",SINGLE_BASE_VDP_FORM:"vdp_form",SINGLE_VDP_EMBEDDED_FORM:"embedded_form",SINGLE_VDP_PRICING_EMBEDDED_FORM:"embedded_pricing_form",DEALS_FORM:"deals_form",PRICING_CARDS_FORM:"pricing_cards",QUICK_QUOTES_BASE:"quick_quotes",QUICK_QUOTES_JLR:"jlr_quick_quotes",PAID_LANDING:"paid_landing",FOOTER_PRICING_CARDS_FORM:"footer_pricing_cards",DEAL_CHECK_PRICE_SINGLE_PAGE:"deal_check_price_single_page",DEAL_CHECK_PRICE_SINGLE_EMBEDDED:"deal_check_price_single_embedded",DEAL_CHECK_PRICE_MULTI_DRAWER:"deal_check_price_multi_drawer",DEAL_CHECK_PAYMENT_SINGLE_PAGE:"deal_check_payment_single_page",PRICING_BOX_FORM:"pricing_box",TRIM_SUMMARY_FORM:"trim_summary",FOOTER_PRICING_MODULE:"footer_pricing_module",FEATURE_SPECS:"feature_specs",FOOTER_EMBEDDED_FORM:"footer_embedded_form",FOOTER_EMBEDDED_FORM_STEP_4:"footer_embedded_form_step_4",PRICE_CHECKER_FORM:"price_checker",PRICE_CHECKER_PAGE_FORM:"get_quotes",PANEL_EMAIL_FORM:"panel_email",VDP_PHOTOFLIPPER_FORM:"vdp_photoflipper",CHECK_AVAILABILITY:"check_availability",HAND_PICKED:"hand_picked",TED_CTA:"ted_cta"}},"./site-modules/shared/components/lead-form/unified-lead-form/unified-lead-form-async.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return n});var s=t("./site-modules/shared/components/lazy-load/lazy-load.jsx");const n=Object(s.a)({loader:()=>Promise.all([t.e(0),t.e(1),t.e(4),t.e(9),t.e(10),t.e(2),t.e(3),t.e(6),t.e(8),t.e("unified-lead-form")]).then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/unified-lead-form.jsx")),componentName:"UnifiedLeadForm"})},"./site-modules/shared/components/lead-form/unified-lead-form/unified-lead-form-wrapper.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return u}),t.d(a,"b",function(){return p});var s=t("../node_modules/lodash/omit.js"),n=t.n(s),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("./utils/isomorphic-logger.js"),c=t("./site-modules/shared/utils/string.js"),m=t("./site-modules/shared/constants/lead-form/lead-form-names.js");class u extends i.Component{constructor(e){super(e),this.getLeadFormUrl=(e=>{if(e.shiftKey&&e.ctrlKey&&e.altKey&&85===e.keyCode){const e=this.props,a=function(e,a,t){return`/lead-form/unified-lead-form.html?formName=${e}&${Object(c.f)(a)}&${Object(c.f)(n()(t,Object.keys(a)))}`}(e.formName,e.params,e.options);Object(d.a)("info",`ULF URL: ${window.location.origin}${a}`)}}),this.leadFormContainer=r.a.createRef()}componentDidMount(){this.leadFormContainer.current.addEventListener("keydown",this.getLeadFormUrl)}componentWillUnmount(){this.leadFormContainer.current.removeEventListener("keydown",this.getLeadFormUrl)}render(){const e=this.props,a=e.formName,t=e.params,s=e.options,n=e.className,i=m.a[a];return r.a.createElement("div",{ref:this.leadFormContainer},r.a.createElement(i,{params:t,options:s,className:n}))}}function p(e,a,t){return{component:u,data:{formName:e,params:a,options:t}}}u.propTypes={formName:l.a.string.isRequired,params:l.a.shape({}).isRequired,options:l.a.shape({}),className:l.a.string},u.defaultProps={options:{},className:""}},"./site-modules/shared/components/lead-form/unified-lead-form/unified-lead-form.jsx":function(e,a,t){"use strict";t.r(a);var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("../node_modules/classnames/index.js"),c=t.n(d),m=t("./site-modules/shared/components/error-boundary/error-boundary.jsx"),u=t("./site-modules/shared/constants/lead-form/lead-form-configs.js"),p=t("./site-modules/shared/components/lead-form/lead-form-prop-types/lead-form-prop-types.jsx"),h=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),f=(t("../node_modules/core-js/modules/es6.regexp.split.js"),t("../node_modules/lodash/concat.js")),g=t.n(f),b=t("../node_modules/lodash/get.js"),y=t.n(b),_=t("../node_modules/lodash/isEqual.js"),E=t.n(_),v=t("../node_modules/lodash/isEmpty.js"),C=t.n(v),T=t("../node_modules/react-redux/es/index.js"),N=t("./data/luckdragon/redux/react-binding.jsx"),j=t("./data/models/visitor.js"),I=t("./site-modules/shared/utils/nice-name.js"),O=t("./utils/event-toolbox.js"),k=t("../node_modules/reactstrap/lib/Button.js"),P=t.n(k),x=t("./utils/image-helpers.js");function S(e){let a=e.onRetry;return r.a.createElement("div",{className:"mt-3_5 mb-1 text-center"},r.a.createElement("img",{className:"mb-3 w-100",src:Object(x.q)("/img/lead-form/tow_truck.png"),alt:"Form error"}),r.a.createElement("p",{className:"display-2 mb-0_25 mb-md-0_5 mx-2_5"},"Sorry, something didn't go as expected."),r.a.createElement("p",{className:"display-3 mb-1_5 mb-md-2"},"Please check back later"),a&&r.a.createElement(P.a,{className:"try-again-btn",color:"success",onClick:a},"Try Again"))}S.propTypes={onRetry:l.a.func},S.defaultProps={onRetry:null};var L=t("./utils/isomorphic-logger.js"),A=t("./data/api/api-client.js"),D=t("./utils/promise.js"),w=t("./site-modules/shared/components/profile/insider-methods.jsx"),R=t("./site-modules/shared/components/lead-form/utils/insider.js"),M=t("./engagement-handlers/lead-form-engagement-handler/lead-form-engagement-helper.js"),V=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),F=t("./site-modules/shared/constants/lead-form/lead-form-states.js"),U=t("./site-modules/shared/constants/lead-form/lead-form-events.js"),$=t("./site-modules/shared/components/lead-form/utils/utils.js"),B=(t("../node_modules/core-js/modules/es7.promise.finally.js"),t("../node_modules/lodash/has.js")),Y=t.n(B),H=t("../node_modules/reactstrap/lib/Form.js"),q=t.n(H),z=t("./utils/metrics-header.js"),G=t("./site-modules/shared/constants/lead-form/validation.js"),W=t("./site-modules/shared/components/form-validation/form-validation.jsx"),K=t("./site-modules/shared/utils/string.js");class Q extends i.Component{constructor(e){var a;a=super(e),this.setAdditionalSubmissionData=(e=>{this.additionalSubmissionData=e}),this.componentFieldRef=(e=>{if(e)return this.props.fieldRef(e.props.name,e)}),this.componentWrapperRef=(e=>{this.wrapper=e}),this.handleValidationErrors=((e,a)=>{const t=this.props.setFieldsInvalid,s=[];e||s.push("email"),a||s.push("phone"),e&&a||(this.userAttemptSubmit=!0,t(s))}),this.preValidateInfo=(e=>{e.preventDefault();const a=y()(this.additionalSubmissionData,"skipValidation",!1);if(!(a||this.props.validate()&&!C()(this.props.selectedLeadIds)))return this.userAttemptSubmit=!0,void setTimeout(this.scrollToInvalid,0);const t=this.props.fields,s=t.firstName.value(),n=t.lastName.value(),i=t.phone.value(),r=t.email.value(),o=y()(t,"checkbox.input.checked",!1);let l=t.comments&&t.comments.value();const d=this.props.customConfig,c=d.isTopEmbeddedCommentsAvailable,m=d.isTopEmbeddedMessageSubjectAvailable;if(c||m){const e=c?l:"",a=m&&t.messageSubject?`${t.messageSubject.value}. `:"";(e||a)&&(l=`Shopper Comments: ${a}${e}`)}const u={firstName:s,lastName:n,phone:i,email:r,comments:l,isCheckboxChecked:o};a?this.submitLeadForm(u):this.postValidateInfo(u)}),this.scrollToInvalid=(()=>{const e=this.state.validationErrors,a=this.props.customConfig.scrollMap;for(let t=0;t<a.length;t+=1){const s=a[t];if(Y()(e,s.input))return void this.scrollTo(`.unified-lead-form ${s.selector}`)}}),this.scrollTo=(e=>{if(document){const a=document.querySelector(e);a&&a.scrollIntoView({behavior:"smooth",block:"center"})}}),this.postValidateInfo=(e=>{const a=this.props,t=a.config.formType,n=a.pageName,i=a.venomVersion,r=e.firstName,o=e.lastName,l=e.phone,d=e.email,c=`${G.c}${t}`,m={name:`${r} ${o}`,phone:l,email:d},u={headers:Object(s.a)({"Content-Type":"application/x-www-form-urlencoded"},{headers:Object(z.a)("validateSubmitedPersonalInfo",n,i)}),method:"POST",body:Object(K.f)(m)};return this.setState({showValidationLoadingIndicator:!0}),this.promiseCancelable=Object(D.a)(A.c.fetchJson(c,u)),this.promiseCancelable.promise.then(a=>{const t=a.emailValid,n=a.phoneValid,i=a.phoneType,r=y()(a,"whitepagesResult.phone_checks.is_prepaid",!1),o=y()(a,"whitepagesResult.phone_checks.is_commercial",!1),l=y()(a,"whitepagesResult.phone_checks.phone_contact_score",0),d=y()(a,"whitepagesResult.email_address_checks.is_disposable",!1),c=y()(a,"whitepagesResult.email_address_checks.email_contact_score",0),m=y()(a,"whitepagesResult.identity_check_score",0),u=`#validationInfo=${[Number(!!o),l,Number(!!d),c,m].join("|")}`;t&&n?this.submitLeadForm(Object(s.a)({},e,{phoneType:i,isPrepaidPhone:r,validationInfoTag:u})):(this.setState({showValidationLoadingIndicator:!1}),this.handleValidationErrors(t,n))}).catch(a=>{a.isCanceled||this.submitLeadForm(e)}).finally(()=>{this.state.showValidationLoadingIndicator&&this.setState({showValidationLoadingIndicator:!1})})}),this.submitLeadForm=(e=>{this.userAttemptSubmit=!0,this.props.submitLeadForm(e,this.additionalSubmissionData)}),this.fireAttemptSubmit=(()=>{if(this.userAttemptSubmit&&this.state.shouldFireAttemptSubmit){const e=this.props.validationErrors;O.a.fireCustomEvent(U.a.ATTEMPT_SUBMIT,{valid:C()(e)?"y":"n",validationErrors:e,total:Object.keys(this.props.selectedLeadIds).length},this.wrapper),this.setState({shouldFireAttemptSubmit:!1})}this.userAttemptSubmit=!1}),this.validateAndTrack=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const n=a.props.validate(...t);if(t.length){const e=y()(t,"[1]");O.a.fireCustomEvent(U.a.INPUT,{fieldName:e,isValid:n},a.wrapper)}},this.state={showValidationLoadingIndicator:!1,shouldFireAttemptSubmit:!1,validationErrors:{}},this.wrapper=r.a.createRef()}static getDerivedStateFromProps(e,a){return{shouldFireAttemptSubmit:!E()(e.validationErrors,a.validationErrors)||C()(e.validationErrors),validationErrors:e.validationErrors}}componentDidUpdate(e){E()(e.selectedLeadIds,this.props.selectedLeadIds)||this.props.validate(null,"selectedLeadsEmpty"),this.fireAttemptSubmit()}componentWillUnmount(){this.promiseCancelable&&this.promiseCancelable.cancel()}render(){const e=this.props,a=e.templateComponent,t=e.leadTargets,s=e.leadFormData,n=e.submittedLeadTargetsData,i=e.showListTargetsLoadingIndicator,o=e.showSubmitLoadingIndicator,l=e.validationErrors,d=e.customConfig,c=e.make,m=e.model,u=e.submodel,p=e.year,h=e.trim,f=e.styleId,g=e.zipCode,b=e.stateCode,_=e.selectedLeadIds,E=e.onToggleLeadSelection,v=e.onUpdateStyle,C=e.isCheckboxProcessed,T=e.isCheckboxProcessError,N=y()(d,"leadFormId","lead-form");return r.a.createElement(q.a,{id:N,noValidate:!0,onSubmit:this.preValidateInfo,innerRef:this.componentWrapperRef},r.a.createElement(a,{customConfig:d,leadTargets:t,leadFormData:s,selectedLeadIds:_,submittedLeadTargetsData:n,onToggleLeadSelection:E,onUpdateStyle:v,showListTargetsLoadingIndicator:i,showSubmitLoadingIndicator:o||this.state.showValidationLoadingIndicator,fieldRef:this.componentFieldRef,setAdditionalSubmissionData:this.setAdditionalSubmissionData,validationErrors:l,validate:this.validateAndTrack,make:c,model:m,submodel:u,year:p,trim:h,styleId:f,zipCode:g,stateCode:b,isCheckboxProcessed:C,isCheckboxProcessError:T}))}}Q.propTypes={config:l.a.shape({formType:l.a.string.isRequired}).isRequired,customConfig:p.p.leadFormConfig.isRequired,venomVersion:l.a.string,pageName:l.a.string,validationConfig:l.a.shape({}),leadFormData:l.a.shape({}),templateComponent:l.a.oneOfType([l.a.func,l.a.object]).isRequired,submitLeadForm:l.a.func.isRequired,showListTargetsLoadingIndicator:l.a.bool,showSubmitLoadingIndicator:l.a.bool,isCheckboxProcessed:l.a.bool,isCheckboxProcessError:l.a.bool,leadTargets:l.a.arrayOf(l.a.shape({inventory:l.a.shape({}),dealer:l.a.shape({}),leadAttributes:l.a.shape({primary:l.a.bool.isRequired,distance:l.a.number}).isRequired})).isRequired,submittedLeadTargetsData:l.a.shape({leadTargets:l.a.arrayOf(l.a.shape({})),trackingData:l.a.shape({}),leadIds:l.a.arrayOf(l.a.string)}),selectedLeadIds:l.a.shape({}).isRequired,onToggleLeadSelection:l.a.func.isRequired,onUpdateStyle:l.a.func.isRequired,fields:l.a.shape({}),fieldRef:l.a.func.isRequired,validate:l.a.func.isRequired,validationErrors:l.a.shape({}),setFieldsInvalid:l.a.func.isRequired,year:l.a.oneOfType([l.a.string,l.a.number]),make:l.a.string,model:l.a.string,submodel:l.a.string,trim:l.a.string,styleId:l.a.oneOfType([l.a.string,l.a.number]),zipCode:l.a.oneOfType([l.a.string,l.a.number]),stateCode:l.a.string},Q.defaultProps={venomVersion:"",pageName:"",customConfig:{},validationConfig:{},leadFormData:{},submittedLeadTargetsData:{},showListTargetsLoadingIndicator:!1,showSubmitLoadingIndicator:!1,isCheckboxProcessed:!1,isCheckboxProcessError:!1,fields:{},validationErrors:{},year:"",make:"",model:"",submodel:"",trim:"",styleId:"",zipCode:"",stateCode:""};const J=Object(W.a)(Q,G.d);var Z=t("./tracking/constant.js");t("./site-modules/shared/components/lead-form/lead-form-wrapper/lead-form.scss");class X extends i.Component{constructor(e){var a;a=super(e),this.state={shouldUpdateLeadTargets:!0,submodel:this.props.submodel,submodelIdentifier:this.props.submodelIdentifier,styleId:this.props.styleId,prevPropsStyleId:this.props.styleId,leadTargets:[],selectedLeadIds:{},formState:F.a.LOADING,showListTargetsLoadingIndicator:!1,showSubmitLoadingIndicator:!1,thankYouLeadFormConfigEnabled:!1,isCheckboxProcessed:!1,isCheckboxProcessError:!1},this.getLeadTargetsApiUrl=(()=>{const e=this.props,a=e.vin,t=e.zipCode,s=e.latitude,n=e.longitude,i=e.dma,r=e.make,o=e.model,l=e.year,d=e.trim,c=e.bodyType,m=e.radius,p=e.config.strategy,h=e.customConfig,f=h.thankYouLeadFormConfig,g=h.apiParams,b=this.state,y=b.submodel,_=b.submodelIdentifier,E=b.styleId,v=b.thankYouLeadFormConfigEnabled,C=_||Object(I.c)(y),T=v?f.strategy:p,N=v?this.primaryStyleId:E,j=encodeURIComponent(d),O=g.leadTargetsSize,k=g.omitStyleId,P=g.omitYear,x="Pickup"===c;return`${u.b}?strategy=${T}&size=${O}${k?"":`&styleId=${N}`}&trim=${j}&selectedVin=${a}&zip=${t}&lat=${s}&lon=${n}&userDma=${i}&radius=${m}&make=${r}&model=${o}&submodel=${C}${P?"":`&year=${l}`}&fields=dealerInfo(productFeatures,name,franchiseId,rooftopId,address(city,stateName,stateCode,street),displayInfo(salesOverallRating,salesReviewCount,parentDealershipName),phoneNumbers),stockNumber,vehicleInfo(photo(defaultPhoto(small,large)),styleInfo(make,model,year,trim,styleId,style${x?",manufacturerCabType,bodyType,vehicleStyle":""}),vehicleColors,mileage),type,vin,vid,prices(displayPrice,totalMsrp,baseMsrp,guaranteedPrice,destinationFee),computedInfo,deliveryOptions(deliveryCode)`}),this.getLeadTargets=(()=>{if(!this.state.shouldUpdateLeadTargets)return Promise.resolve(!0);if(this.setState({showListTargetsLoadingIndicator:this.props.zipCode!==this.state.zipCode,shouldUpdateLeadTargets:!1,zipCode:this.props.zipCode}),u.c.EXTERNAL_DATA===this.props.config.strategy)return this.processLeadTargetsResponse(this.props.leadTargets),Promise.resolve(!0);const e=this.props,a=e.pageName,t=e.venomVersion,s=this.state.thankYouLeadFormConfigEnabled,n=this.getLeadTargetsApiUrl();return this.promiseCancelable=Object(D.a)(A.c.fetchJson(n,{headers:Object(z.a)("target",a,t)})),this.promiseCancelable.promise.then(e=>this.processLeadTargetsResponse(e.results)).catch(e=>{e.isCanceled||this.setState({leadTargets:[],showListTargetsLoadingIndicator:!1,formState:s?F.a.THANK_YOU_LEAD_FORM:F.a.LOAD_DATA_ERROR})})}),this.getSelectedLeadSubmissionInfo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=a.state,n=t.leadTargets,i=t.styleId,r=a.props,o=r.config.leadType,l=r.customConfig,d=y()(l,"leadFormConfig.isMarketoEmailsHPDEnable",!1),c={},m=a.getSelectedLeadTargets();return n.forEach((e,a)=>{c[Object($.l)(e)]=a}),a.primaryStyleId=a.primaryStyleId||i||Object($.n)(n),m.map(t=>Object(s.a)({dealerId:Object($.f)(t),position:c[Object($.l)(t)],vehicleStatus:Object($.t)(t),leadType:o,comments:e+Object($.c)(y()(t,"inventory",{}))+Object($.e)(y()(t,"inventory",{}),d)},Object($.j)(t,a.primaryStyleId)))},this.getFeatureFlags=(()=>{const e=this.props.customConfig.featureFlags;return e?e.split(",").reduce((e,a)=>(e[a]=!0,e),{}):{}}),this.getTags=(e=>{let a=e.isPrepaidPhone,t=e.validationInfoTag,s=[];const n=this.props.customConfig.tags;return n&&(s=g()(s,n)),a&&(s=g()(s,"#prepaid_phone")),t&&(s=g()(s,t)),s}),this.getLeadSubmissionInfo=((e,a,t)=>{let n=e.firstName,i=e.lastName,r=e.phone,o=e.email,l=e.isPrepaidPhone,d=e.validationInfoTag;const c=this.props,m=c.visitorId,u=c.sessionId,p=c.zipCode,h=c.pathname,f=c.customConfig,g=this.state.leadTargets,b=this.getCurrentCreativeId(),y=this.getFeatureFlags(),_=this.getTags({isPrepaidPhone:l,validationInfoTag:d});return(0,f.processDataMethods.getLeadSubmissionInfo)(Object(s.a)({leads:a,creativeId:b,pathname:h,leadTargets:g,visitorId:m,sessionId:u,tags:_,featureFlags:y,zipCode:p,phone:r,email:o,firstName:n,lastName:i},t))}),this.getSubmittedTrackingData=((e,a)=>{const t=e.map(e=>e.position),s=this.state.leadTargets;return{leadIdList:Object(M.c)(s,t,a)}}),this.getSelectedLeadTargets=(()=>{const e=this.state,a=e.leadTargets,t=e.selectedLeadIds;return a.filter(e=>t[Object($.l)(e)])}),this.getCurrentCreativeId=(()=>{const e=this.props,a=e.config.dataTrackingParent,t=e.customConfig;return y()(t,"creativeId",y()(a,"creativeId"))}),this.processLeadTargetsResponse=(e=>{const a=this.props,t=a.vin,n=a.radius,i=a.customConfig,r=i.leadType,o=i.showDealerMakeStockImage,l=i.leadFormConfig,d=i.thankYouLeadFormConfig,c=this.state.thankYouLeadFormConfigEnabled,m=e||[];let u,p=(c?d.leadType:r)===V.f.ANY?m:m.filter(e=>e[r]);if((u=c?F.a.THANK_YOU_LEAD_FORM:p.length||r===V.f.ANY?F.a.LEAD_FORM:F.a.LOAD_DATA_ERROR)===F.a.THANK_YOU_LEAD_FORM&&(p=Object($.p)(p,t,d.strategy)),o||d.showDealerMakeStockImage){const e=this.props,a={year:e.year,make:e.make,model:e.model};p=p.map(e=>{if(e.dealer){return Object(s.a)({},e,{dealer:Object(s.a)({},e.dealer,{vehicleInfo:a})})}return e})}const h=this.processSelectedLeadsFromResponse(p);if(u===F.a.LEAD_FORM&&l.hideWhenLeadTargetsEmpty&&C()(p)&&(u=F.a.HIDDEN),u===F.a.LEAD_FORM){const e=this.props.customConfig.processDataMethods.getAdditionalListTrackingData;O.a.fireCustomEvent(U.a.LIST,{leadTargets:[...p],trackingData:Object(s.a)({},e(p),{subactionName:Z.b.DISPLAY_LEAD_FORM,radius:n})},this.leadFormContainer.current)}this.setState({shouldUpdateLeadTargets:!1,showListTargetsLoadingIndicator:!1,showSubmitLoadingIndicator:!1,leadTargets:p,selectedLeadIds:h,formState:u})}),this.processSelectedLeadsFromResponse=(e=>{const a=y()(this.props.customConfig,"leadFormConfig.preSelectedCardNumbers",y()(this.props.customConfig,"thankYouLeadFormConfig.preSelectedCardNumbers",0)),t={};return e.forEach((e,s)=>{const n=Object($.l)(e);a>0?s<a&&(t[n]=!0):e.leadAttributes.selected&&(t[n]=!0)}),t}),this.adjustLeadSubmissionURL=(e=>{const a=y()(this.props,"customConfig.apiParams.leadSubmissionURL"),t=y()(e,"queryParams");if(!t)return a;const s=Object(K.f)(t);return a.includes("?")?`${a}&${s}`:`${a}?${s}`}),this.submitLeadForm=((e,a)=>{const t=this.props,n=t.config.submitLeadsType,i=t.customConfig,r=i.apiParams.leadSubmissionAPI,o=i.processDataMethods,l=o.getLeadSubmissionAPIHeaders,d=o.processCheckedCheckbox,c=o.postProcessMethods,m=t.pageName,u=t.venomVersion,p=e.comments,h=this.getSelectedLeadSubmissionInfo(p),f=this.getLeadSubmissionInfo(e,h,a),g=this.adjustLeadSubmissionURL(a),b={method:"POST",headers:Object(s.a)({"Content-Type":"application/json"},l("multi",m,u)),body:JSON.stringify(f),retries:0};return this.selectedLeadTargets=this.getSelectedLeadTargets(),this.personalInfo=e,this.setState({showSubmitLoadingIndicator:!0}),this.promiseCancelable=Object(D.a)(r.fetchJson(g,b)),this.promiseCancelable.promise.then(e=>(this.additionalData=a,this.leadIds=e.leadIds,this.submittedTrackingData=this.getSubmittedTrackingData(h,this.leadIds),O.a.fireCustomEvent(U.a.SUBMIT,{total:Object.keys(this.state.selectedLeadIds).length,isBlended:"n",type:n},this.leadFormContainer.current),this.personalInfo.isCheckboxChecked&&d({selectedLeadTargets:this.selectedLeadTargets,leadTargets:this.state.leadTargets,personalInfo:this.personalInfo,additionalData:this.additionalData}).then(()=>{this.setState({isCheckboxProcessed:!0})}).catch(()=>{this.setState({isCheckboxProcessError:!0})}),this.processLeadTargetsAfterSubmit().then(()=>Promise.all(c.map(e=>e.bind(this)(a)))))).catch(e=>{e.isCanceled||this.submitLeadFormError(e)})}),this.runInsiderAction=(async()=>{const e=this.props,a=e.zipCode,t=e.updateIdmData,n=e.createAnonymousIdmProfile,i=e.profile,r=e.modelLinkCode,o=(0,e.customConfig.processDataMethods.getInsiderSaveData)(Object(s.a)({zipCode:a,personalInfo:this.personalInfo,leadIds:this.leadIds,selectedLeadTargets:this.selectedLeadTargets},this.additionalData));return Object(R.a)(Object(s.a)({updateIdmData:t,createAnonymousIdmProfile:n,profile:i,modelLinkCode:r,personalInfo:this.personalInfo,leadIds:this.leadIds,leadTargets:this.selectedLeadTargets},o)).catch(()=>!0)}),this.showThankYouPage=(()=>{const e=this.props.customConfig.thankYouLeadFormConfig,a=this.state.thankYouLeadFormConfigEnabled;e.enabled&&!a?this.setState({shouldUpdateLeadTargets:!0,thankYouLeadFormConfigEnabled:!0}):this.setState({formState:F.a.THANK_YOU,showSubmitLoadingIndicator:!1,thankYouLeadFormConfigEnabled:!1})}),this.submitLeadFormError=(e=>{Object(L.a)("error",`Post lead error - ${e}`),this.setState({formState:F.a.SUBMIT_LEAD_ERROR,showSubmitLoadingIndicator:!1})}),this.resubmitLeadForm=(()=>this.setState({formState:F.a.LEAD_FORM,showSubmitLoadingIndicator:!1})),this.reloadLeadTargets=(()=>{this.setState({shouldUpdateLeadTargets:!0})}),this.processLeadTargetsAfterSubmit=(()=>{const e=this.props.customConfig.processDataMethods.processLeadTargetsAfterSubmit;return Promise.all(e.map(e=>e.bind(this)(this.leadIds)))}),this.toggleLeadSelection=((e,a)=>{const t=Object(s.a)({},this.state.selectedLeadIds);t[e]?delete t[e]:t[e]=!0,O.a.fireCustomEvent(U.a.SELECT_CARD,{checked:!!t[e],slot:a+1},this.leadFormContainer.current),this.setState({selectedLeadIds:t})}),this.updateStyle=(e=>{this.customThankYouData=Object(s.a)({},this.customThankYouData,{trim:y()(e,"trimName","")}),this.setState({styleId:e.id,submodel:e.submodels.name,submodelIdentifier:e.submodels.slug,shouldUpdateLeadTargets:!0})}),this.leadFormContainer=r.a.createRef(),this.selectedLeadTargets=[],this.leadIds=[],this.customThankYouData={},this.submittedTrackingData={},this.primaryStyleId=0}static getDerivedStateFromProps(e,a){return e.styleId===a.prevPropsStyleId||a.shouldUpdateLeadTargets?e.zipCode!==a.zipCode||a.shouldUpdateLeadTargets||u.c.EXTERNAL_DATA===e.config.strategy&&!E()(e.leadTargets,a.leadTargets)?{shouldUpdateLeadTargets:!0}:null:{styleId:e.styleId,prevPropsStyleId:e.styleId,shouldUpdateLeadTargets:!0,formState:F.a.LOADING}}componentDidMount(){const e=this.props.customConfig,a=e.leadType,t=e.isUserOpened,s=e.leadFormConfig;O.a.fireCustomEvent(U.a.DISPLAY,{leadType:a,isUserOpened:t,leadFormConfig:s},this.leadFormContainer.current),this.getLeadTargets()}componentDidUpdate(){this.getLeadTargets(!0)}componentWillUnmount(){this.promiseCancelable&&this.promiseCancelable.cancel()}render(){const e=this.state,a=e.leadTargets,t=e.formState,n=e.showListTargetsLoadingIndicator,i=e.showSubmitLoadingIndicator,o=e.selectedLeadIds,l=e.submodel,d=e.styleId,m=e.isCheckboxProcessed,u=e.isCheckboxProcessError,p=this.props,f=p.className,g=p.pageName,b=p.venomVersion,y=p.leadFormComponent,_=p.thankYouComponent,E=p.thankYouLeadFormComponent,v=p.config,C=p.validationConfig,T=p.leadFormData,N=p.make,j=p.model,I=p.year,O=p.trim,k=p.submodelIdentifier,P=p.dealerName,x=p.zipCode,L=p.stateCode,A=p.customConfig,D=A.leadFormConfig,w=A.thankYouLeadFormConfig,R=A.thankYouConfig,M=A.explainingTextParams,V=A.hideDelighted,U=A.processDataMethods.getAdditionalListTrackingData,$=p.closeDrawer,B=this.getCurrentCreativeId(),Y={loadDataError:this.reloadLeadTargets,submitLeadError:this.resubmitLeadForm,loadThankYouError:this.processLeadTargetsAfterSubmit},H={leadTargets:this.selectedLeadTargets,leads:this.selectedLeadTargets,leadIds:this.leadIds,trackingData:this.submittedTrackingData};return r.a.createElement("div",Object(h.a)({ref:this.leadFormContainer,className:c()("lead-form-container",f),"data-tracking-parent":B},V?{"data-hidedelighted":!0}:{},{"data-test":t===F.a.THANK_YOU?"lead-form-thank-you":"lead-form"}),t===F.a.LEAD_FORM&&r.a.createElement(J,{pageName:g,venomVersion:b,config:v,validationConfig:C,leadFormData:T,templateComponent:y,leadTargets:a,selectedLeadIds:o,onToggleLeadSelection:this.toggleLeadSelection,onUpdateStyle:this.updateStyle,showListTargetsLoadingIndicator:n,showSubmitLoadingIndicator:i,submitLeadForm:this.submitLeadForm,customConfig:Object(s.a)({},D,{explainingTextParams:M}),make:N,model:j,submodel:l,year:I,trim:O,dealerName:P,styleId:d,zipCode:x,stateCode:L,submittedLeadTargetsData:H,isCheckboxProcessed:m,isCheckboxProcessError:u}),t===F.a.THANK_YOU_LEAD_FORM&&r.a.createElement(E,{leadIds:H.leadIds,leadTargets:H.leadTargets,trackingData:H.trackingData,customThankYouData:this.customThankYouData,userInfo:this.personalInfo,customConfig:Object(s.a)({},w,{explainingTextParams:M}),make:N,model:j,submodel:l,year:I,suggestedLeadTargets:a,selectedLeadIds:o,showSubmitLoadingIndicator:i,onToggleLeadSelection:this.toggleLeadSelection,submitLeadForm:this.submitLeadForm,zipCode:x,stateCode:L,isCheckboxProcessed:m,isCheckboxProcessError:u}),t===F.a.THANK_YOU&&r.a.createElement(_,{leadIds:H.leadIds,leadTargets:H.leadTargets,trackingData:H.trackingData,customThankYouData:this.customThankYouData,userInfo:this.personalInfo,customConfig:Object(s.a)({},R,{explainingTextParams:M}),make:N,model:j,submodel:l,trim:O,submodelIdentifier:k,year:I,styleId:d,closeDrawer:$,getAdditionalListTrackingData:U,isCheckboxProcessed:m,isCheckboxProcessError:u}),(t===F.a.LOAD_DATA_ERROR||t===F.a.SUBMIT_LEAD_ERROR||t===F.a.LOAD_THANK_YOU_ERROR)&&r.a.createElement(S,{onRetry:Y[t]}))}}X.propTypes={leadTargets:l.a.arrayOf(l.a.shape({})),className:l.a.string,leadFormComponent:l.a.oneOfType([l.a.func,l.a.object]).isRequired,thankYouComponent:l.a.oneOfType([l.a.func,l.a.object]).isRequired,thankYouLeadFormComponent:l.a.oneOfType([l.a.func,l.a.object]),config:l.a.shape({strategy:l.a.string.isRequired,leadType:l.a.string.isRequired,submitLeadsType:l.a.string.isRequired,dataTrackingParent:l.a.shape({creativeId:l.a.string.isRequired}).isRequired}).isRequired,customConfig:l.a.shape(p.p).isRequired,validationConfig:l.a.shape({}),leadFormData:l.a.shape({}),visitorId:l.a.string,sessionId:l.a.string,venomVersion:l.a.string,pageName:l.a.string,vin:l.a.string,zipCode:l.a.oneOfType([l.a.string,l.a.number]).isRequired,stateCode:l.a.string,dma:l.a.string,latitude:l.a.number,longitude:l.a.number,radius:l.a.oneOfType([l.a.string,l.a.number]),year:l.a.oneOfType([l.a.string,l.a.number]),make:l.a.string,model:l.a.string,submodel:l.a.string,submodelIdentifier:l.a.string,dealerName:l.a.string,styleId:l.a.oneOfType([l.a.string,l.a.number]),trim:l.a.string,bodyType:l.a.string,pathname:l.a.string,profile:l.a.shape({}).isRequired,updateIdmData:l.a.func.isRequired,createAnonymousIdmProfile:l.a.func.isRequired,closeDrawer:l.a.func},X.defaultProps={leadTargets:[],thankYouLeadFormComponent:()=>null,className:"",visitorId:"",sessionId:"",venomVersion:"",pageName:"",radius:"50",vin:"",year:"",make:"",model:"",submodel:"",submodelIdentifier:"",dealerName:"",styleId:"",trim:"",bodyType:"",stateCode:"",dma:"",latitude:null,longitude:null,pathname:"",leadFormData:{},validationConfig:{},closeDrawer:null};const ee={stateCode:Object(N.a)("location.stateCode",j.c),dma:Object(N.a)("location.dma",j.c),latitude:Object(N.a)("location.latitude",j.c),longitude:Object(N.a)("location.longitude",j.c)},ae=Object(w.a)(X),te=Object(T.c)(e=>({visitorId:e.visitor.id,sessionId:e.visitor.session,venomVersion:e.venomVersion.version,pageName:e.pageContext.page.name,profile:y()(e,"profile")}))(Object(N.b)(ae,ee));var se=t("./site-modules/shared/components/lead-form/utils/merge.js"),ne=t("./site-modules/shared/constants/lead-form/lead-form-templates.js");var ie=t("./engagement-handlers/lead-form-engagement-handler/lead-form-engagement-handler.js"),re=t("./engagement-handlers/index.js");function oe(e){let a=e.vin,t=e.zipCode,i=e.radius,o=e.make,l=e.model,d=e.submodel,u=e.submodelIdentifier,h=e.styleId,f=e.trim,g=e.bodyType,b=e.year,y=e.dealerName,_=e.wrapperClassName,E=e.pathname,v=e.customConfig,C=e.config,T=e.leadTargets,N=e.setDrawerSize,j=e.closeDrawer;const I=function(e){let a=Object(se.a)({},Object(s.a)({},p.o),Object(s.a)({},e));const t=a,n=t.leadFormComponent,i=t.leadFormConfig.headerConfig,r=i.headerComponent,o=i.subHeaderComponent,l=t.thankYouLeadFormComponent,d=t.thankYouLeadFormConfig,c=d.enabled,m=d.headerConfig,u=m.headerComponent,h=m.subHeaderComponent,f=d.adsConfig.adComponent,g=t.thankYouComponent,b=t.thankYouConfig,y=b.headerConfig,_=y.headerComponent,E=y.subHeaderComponent,v=b.adsConfig.adComponent;return a=c?Object(se.a)(a,{thankYouLeadFormComponent:ne.g[l]||l,thankYouLeadFormConfig:{headerConfig:{headerComponent:ne.f[u]||u,subHeaderComponent:ne.h[h]||h},adsConfig:{adComponent:ne.e[f]||f}}}):Object(s.a)({},a,{thankYouLeadFormComponent:void 0,thankYouLeadFormConfig:p.o.thankYouLeadFormConfig}),Object(se.a)(a,{leadFormComponent:ne.d[n]||n,leadFormConfig:{headerConfig:{headerComponent:ne.b[r]||r,subHeaderComponent:ne.c[o]||o}},thankYouComponent:ne.i[g]||g,thankYouConfig:{headerConfig:{headerComponent:ne.f[_]||_,subHeaderComponent:ne.h[E]||E},adsConfig:{adComponent:ne.e[v]||v}}})}(v),O=I.leadFormComponent,k=I.thankYouComponent,P=I.thankYouLeadFormComponent,x=Object(n.a)(I,["leadFormComponent","thankYouComponent","thankYouLeadFormComponent"]);return r.a.createElement(m.a,{message:S},r.a.createElement(te,{config:C,leadTargets:T,leadFormComponent:O,thankYouComponent:k,thankYouLeadFormComponent:P,pathname:E,vin:a,zipCode:t,radius:i||void 0,make:o,model:l,submodel:d,submodelIdentifier:u,dealerName:y,styleId:h,trim:f,bodyType:g,year:b,customConfig:x,className:c()("unified-lead-form",_),setDrawerSize:N,closeDrawer:j}))}t.d(a,"UnifiedLeadForm",function(){return oe}),re.a.register(ie.a),oe.propTypes=Object(s.a)({},p.j,{customConfig:l.a.shape(p.p),config:l.a.shape({}),wrapperClassName:l.a.string,setDrawerSize:l.a.func,closeDrawer:l.a.func}),oe.defaultProps=Object(s.a)({},p.i,{customConfig:{},config:u.a.UNIFIED,wrapperClassName:null,setDrawerSize:null,closeDrawer:null})},"./site-modules/shared/components/lead-form/unified-lead-form/views/form-view-decorator.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return v});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=t("../node_modules/lodash/debounce.js"),r=t.n(i),o=t("../node_modules/lodash/get.js"),l=t.n(o),d=t("../node_modules/react/index.js"),c=t.n(d),m=t("../node_modules/prop-types/index.js"),u=t.n(m),p=t("../node_modules/classnames/index.js"),h=t.n(p),f=t("../node_modules/react-redux/es/index.js"),g=t("./site-modules/shared/components/lead-form/lead-form-prop-types/lead-form-prop-types.jsx"),b=t("./utils/intersection-observer.js"),y=t("./utils/event-toolbox.js"),_=t("./tracking/constant.js"),E=t("./site-modules/shared/components/lead-form/utils/utils.js");function v(e,a){return Object(f.c)(e=>({isMobile:l()(e,"mobile"),profile:l()(e,"profile.data.idm"),pageName:l()(e,"pageContext.legacy.pageName")||l()(e,"pageContext.page.name")}))(function(e){var a,t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px-md-1_25 pb-3_5 mb-3_5";return t=a=class extends d.Component{constructor(e){super(e),this.setObserver=r()(()=>{this.observer.observe(this.leadFormTemplateRef.current)},1e3),this.checkIntersection=(e=>{e.forEach(e=>{e.isIntersecting&&this.trackLeadFormView()})}),this.trackLeadFormView=(()=>{y.a.fireTrackAction({event_type:_.b.EVENT_TYPE_WIDGET_VIEW,event_data:{action_name:_.b.EVENT_TYPE_WIDGET_VIEW,action_cause:_.b.ACTION_CAUSE_SCROLL,creative_id:l()(this.props,"customConfig.trackedCreativeId")}})}),this.leadFormTemplateRef=c.a.createRef()}componentDidMount(){l()(this.props,"customConfig.trackedCreativeId")&&(this.observer=new b.a(this.checkIntersection),this.setObserver())}componentWillUnmount(){this.observer&&this.observer.disconnect()}render(){const a=this.props.customConfig,t=a.fragmentTop,r=a.headerConfig,o=a.withFormClasses,l=a.className,m=Object(n.a)(a,["fragmentTop","headerConfig","withFormClasses","className"]),u=Object(s.a)({},this.props,{customConfig:Object(s.a)({},m)}),p=r.headerComponent,f=r.header,g=r.subHeaderComponent,b=r.subHeader,y=Object(E.o)(this.props);return c.a.createElement(d.Fragment,null,t,c.a.createElement("div",{ref:this.leadFormTemplateRef,className:h()("base-template mx-auto",l,{[i]:o})},p&&c.a.createElement(p,{config:f,templateParams:y}),g&&c.a.createElement(g,{config:b,templateParams:y}),c.a.createElement(e,u)))}},a.propTypes=Object(s.a)({},g.h,{customConfig:g.p.leadFormConfig,profile:u.a.shape({}),pageName:u.a.string,isMobile:u.a.bool}),a.defaultProps=Object(s.a)({},g.g,{customConfig:g.o.leadForm,profile:{},pageName:null,isMobile:!1}),t}(e,a))}},"./site-modules/shared/components/lead-form/unified-lead-form/views/form-view/photoflipper/photoflipper-form-view.scss":function(e,a,t){},"./site-modules/shared/components/lead-form/unified-lead-form/views/form-view/top-embedded/top-embedded-form-view.scss":function(e,a,t){},"./site-modules/shared/components/lead-form/unified-lead-form/views/thank-you-view-decorator.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return y});var s=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),i=t("../node_modules/lodash/noop.js"),r=t.n(i),o=t("../node_modules/react/index.js"),l=t.n(o),d=t("../node_modules/prop-types/index.js"),c=t.n(d),m=t("../node_modules/classnames/index.js"),u=t.n(m),p=t("../node_modules/reactstrap/lib/Container.js"),h=t.n(p),f=t("./site-modules/shared/components/lead-form/lead-form-prop-types/lead-form-prop-types.jsx"),g=t("./site-modules/shared/components/lead-form/utils/utils.js"),b=t("./site-modules/shared/components/floodlight/floodlight-ad.jsx");function y(e){var a,t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px-md-1_25 pb-1_5";return t=a=class extends o.Component{constructor(e){super(e),this.thankYou=l.a.createRef()}componentDidMount(){const e=this.props,a=e.leadTargets,t=e.trackingData,s=e.customConfig,i=e.suggestedLeadTargets,r=e.getAdditionalListTrackingData;Object(g.b)({leadTargets:a,trackingData:Object(n.a)({},t,r(a)),suggestedLeadTargets:i,target:this.thankYou.current,thankYouLeadFormTrackingEnabled:!!s.enabled})}render(){const a=this.props,t=a.suggestedLeadTargets,r=a.customConfig,o=r.headerConfig,d=r.withFormClasses,c=r.adsConfig,m=r.className,p=Object(s.a)(r,["headerConfig","withFormClasses","adsConfig","className"]),f=c.adComponent,y=Object(s.a)(c,["adComponent"]),_=Object(n.a)({},this.props,{customConfig:Object(n.a)({},p)}),E=o.headerComponent,v=o.header,C=o.subHeaderComponent,T=o.subHeader,N=Object(g.o)(this.props),j=T.skipWhenSuggestedLeadTargetsEmpty&&t&&0===t.length;return l.a.createElement("div",{ref:this.thankYou,className:u()("base-template mx-auto",m,{[i]:d})},E&&l.a.createElement(E,{config:v,templateParams:N}),!j&&C&&l.a.createElement(C,{config:T,templateParams:N}),l.a.createElement(e,_),f&&l.a.createElement(h.a,null,l.a.createElement(f,{config:y})),l.a.createElement(b.a,null))}},a.propTypes=Object(n.a)({},f.l,{trackingData:c.a.shape({leadIdList:c.a.arrayOf(c.a.string)}).isRequired,customConfig:f.p.thankYouConfig,userInfo:c.a.shape({firstName:c.a.string.isRequired,lastName:c.a.string.isRequired,email:c.a.string.isRequired}).isRequired,isMobile:c.a.bool,closeDrawer:c.a.func,getAdditionalListTrackingData:c.a.func}),a.defaultProps=Object(n.a)({},f.k,{customConfig:f.o.thankYou,isMobile:!1,closeDrawer:null,getAdditionalListTrackingData:r.a}),t}},"./site-modules/shared/components/lead-form/utils/insider.js":function(e,a,t){"use strict";t.d(a,"a",function(){return j});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/lodash/merge.js"),i=t.n(n),r=t("../node_modules/lodash/get.js"),o=t.n(r),l=t("./site-modules/shared/components/profile/firebase-anonymous-auth.js"),d=t("./engagement-handlers/profile-engagement-handler/profile-engagement-handler.js"),c=t("./site-modules/shared/components/profile/firebase-auth.jsx"),m=t("./tracking/constant.js"),u=t("./site-modules/shared/components/profile/idm/idm-utils.jsx"),p=t("./site-modules/shared/components/profile/attributes/merged-attributes.js"),h=t("./site-modules/shared/utils/inventory-utils/is-used.js"),f=t("./constants/inventory-types.js"),g=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),b=t("./site-modules/shared/components/profile/attributes/vehicles.js"),y=t("./actions/vehicle.js"),_=t("./site-modules/shared/components/lead-form/utils/utils.js");const E="lf-anonymous-new-reg",v=[E,{subaction_name:m.b.SUCCESS_EMAIL_ONLY_SIGN_UP}],C=["Mobile","LandLine","Other"];function T(e){return{phoneNumbers:[{phoneType:C.includes(e.phoneType)?e.phoneType:C[2],areaCode:e.phone.substring(0,3),number:`${e.phone.substring(3,6)}-${e.phone.substring(6,10)}`}]}}function N(e,a,t,n,r){const l=e[0],c=Object(u.b)(),m=a,v=function(e,a){const t=e.inventory,s=Object(_.i)(e).styleInfo,n=s.make,i=s.model,r=s.year,o=t?t.type:f.a.NEW,l={makeModels:[{make:n,model:i,year:r,carAge:[`${Object(p.a)(o)}`]}]};return a&&(l.makeModels[0].modelLinkCode=a),l}(l,t),C={},N={},j={},I=[];e.forEach(e=>{const a=Object(_.i)(e),t=a.dealerInfo,n=a.styleInfo.trim,r=e.leadId,l=e.inventory?e.inventory.vin:r,u=function(e){let a=e.inventory;return a&&Object(h.a)(a.type)?g.e.usedInventory:g.e.newInventory}(e),p=e.vehicleParams,f=Object(y.f)(o()(e,"inventory.prices")),v=f.price,O=f.salePrice;I.push({locationId:parseInt(t.franchiseId,10),leadSentTs:c}),C[l]=function(e,a){const t=e.inventory?null:{nonVin:!0};return i()(Object(b.b)(e,a),t)}(e,p),N[r]=Object(s.a)({},function(e,a){const t=Object(_.i)(a).dealerInfo;return{type:e,franchiseId:t.franchiseId,rooftopId:`${t.rooftopId}`,vinReference:function(e){let a=e.leadId,t=e.inventory;return`#/vehicles/vins/${t?t.vin:a}`}(a)}}(u,e),{submittedTs:c}),j[r]=Object(s.a)({},function(e){return Object(s.a)({email:e.email},T(e))}(m)),Object(d.e)(l,{creative_id:E,action_cause:"button_click",trim:n,price:v,sale_price:O})});const O={intelligentMessaging:{leadSentLocations:I},lastLeadReference:`#/leads/${l.leadId}`,pii:{contactInfo:j},vehicles:{vins:C},leads:N,mergedAttributes:v};return(n||r)&&i()(O,{identifiers:{email:[m.email]},person:{firstName:m.firstName},pii:Object(s.a)({lastName:m.lastName},T(m))}),O}const j=async e=>{const a=e.updateIdmData,t=e.createAnonymousIdmProfile,n=e.profile,i=e.modelLinkCode,r=e.personalInfo,d=e.leadIds,m=e.leadTargets,u=e.financing,p=e.edmundsDeals;if(0===d.length)return;const h=function(e,a){return e.map((e,t)=>Object(s.a)({},e,{leadId:a[t]}))}(m,d),f=n.isAuthenticated,g=n.isAnonymousUser,b=o()(n,"data.idm.identifiers.email[0]"),y=g&&!b;let _=!1;f||(await Object(l.c)(...v),_=!0),b&&b!==r.email&&g&&(await Object(c.l)(),await Object(l.c)(...v),_=!0);const E=N(h,r,i,_,y),C=Object(s.a)({},E,{financing:u,edmundsDeals:p});!C||f&&!_?await a(C):await t(C)}},"./site-modules/shared/components/lead-form/utils/lead-form-creative-id.js":function(e,a,t){"use strict";function s(e){let a=e.isNewVin,t=e.pageNameLegacy;return`${a?"new":"used"}-${e.formName}-${t}`}t.d(a,"a",function(){return s})},"./site-modules/shared/components/lead-form/utils/merge.js":function(e,a,t){"use strict";t.d(a,"a",function(){return r});var s=t("../node_modules/lodash/mergeWith.js"),n=t.n(s);function i(e,a){if(a&&a.$$typeof)return a}function r(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return n()(...a,i)}},"./site-modules/shared/components/lead-form/utils/utils.js":function(e,a,t){"use strict";t.d(a,"k",function(){return C}),t.d(a,"d",function(){return T}),t.d(a,"l",function(){return N}),t.d(a,"t",function(){return j}),t.d(a,"f",function(){return I}),t.d(a,"n",function(){return O}),t.d(a,"j",function(){return k}),t.d(a,"o",function(){return P}),t.d(a,"a",function(){return S}),t.d(a,"r",function(){return L}),t.d(a,"p",function(){return A}),t.d(a,"s",function(){return w}),t.d(a,"m",function(){return R}),t.d(a,"q",function(){return M}),t.d(a,"g",function(){return V}),t.d(a,"h",function(){return F}),t.d(a,"c",function(){return $}),t.d(a,"b",function(){return B}),t.d(a,"i",function(){return Y}),t.d(a,"e",function(){return H});t("../node_modules/core-js/modules/es6.regexp.to-string.js");var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=(t("../node_modules/core-js/modules/es6.regexp.constructor.js"),t("../node_modules/core-js/modules/es6.regexp.replace.js"),t("../node_modules/lodash/isNumber.js")),i=t.n(n),r=t("../node_modules/lodash/get.js"),o=t.n(r),l=t("../node_modules/lodash/fp/getOr.js"),d=t.n(l),c=t("./site-modules/shared/utils/nice-name.js"),m=t("./site-modules/shared/utils/price-utils.js"),u=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),p=t("./utils/event-toolbox.js"),h=t("./site-modules/shared/constants/lead-form/lead-form-configs.js"),f=t("./utils/image-helpers.js"),g=t("./site-modules/shared/constants/images.js"),b=t("./site-modules/shared/utils/dealer-details-utils.js"),y=t("./engagement-handlers/inventory-engagement-handler/constants.js"),_=t("./site-modules/shared/constants/lead-form/lead-form-events.js"),E=t("./tracking/constant.js"),v=t("./constants/inventory-types.js");function C(e){return e.inventory?u.f.INVENTORY:e.dealer?u.f.DEALER:null}function T(e){return e.inventory?u.a.INVENTORY:e.dealer?u.a.DEALER:null}function N(e){return o()(e,"inventory.vin",o()(e,".dealer.id",o()(e,"dealer.uniqueKey",o()(e,"dealer.rooftopId"))))}function j(e){return o()(e,"inventory.type",o()(e,"dealer.newUsedType",v.a.NEW)).toUpperCase()}function I(e){const a=C(e),t=e[a].dealerInfo||e[a];return parseInt(o()(t,"franchiseId",o()(t,"id",o()(t,"uniqueKey",o()(t,"rooftopId"))),0),10)}function O(e){const a=e.find(e=>{return e.leadAttributes.primary});return parseInt(o()(a,"inventory.vehicleInfo.styleInfo.styleId",0),10)}function k(e,a){const t=C(e);if(t===u.f.INVENTORY)return{vin:e[t].vin};if(t===u.f.DEALER&&a)return{styleId:parseInt(a,10)};if(t===u.f.DEALER){return{styleId:parseInt(o()(e,"vehicle.styleId",0),10)}}return{}}function P(e){const a=e.leadTargets,t=e.make,s=e.model,n=e.year,i=e.submodel,r=e.userInfo,l=e.customConfig,d=1===a.length?o()(a[0],"inventory.dealerInfo.name"):"",c=a.reduce((e,a)=>{const t=o()(a,"inventory.prices.displayPrice",0);if(0===t)return e;const s=o()(a,"inventory.computedInfo.bestDealPrice",0),n=s?t-s:0,i=e.savings,r=e.minBestDealPrice,l=e.minDisplayPrice;return{savings:i<n?n:i,minBestDealPrice:s<r&&s>0||0===r?s:r,minDisplayPrice:t<l&&t>0||0===l?t:l}},{savings:0,minBestDealPrice:0,minDisplayPrice:0}),u=c.savings,p=c.minBestDealPrice,h=c.minDisplayPrice,f=o()(l,"explainingTextParams",[]);return[{name:"dealerName",value:d},{name:"make",value:t},{name:"model",value:s},{name:"submodel",value:i},{name:"year",value:`${n}`},{name:"lead_number",value:`${a.length}`},{name:"firstName",value:o()(r,"firstName")},{name:"lastName",value:o()(r,"lastName")},{name:"savingsValue",value:u?Object(m.a)(u):"0"},{name:"minBestDealPrice",value:p?Object(m.a)(p):"0"},{name:"minDisplayPrice",value:h?Object(m.a)(h):"0"}].concat(f.map(e=>{return{name:e.name,value:`${e.value||0}`}}))}function x(e,a,t){let s=a;for(;;){const a=t.exec(s);if(!a)break;const n=(e.value===a[1]?a[2]:a[3]).replace(/\$/g,"$$$$");s=s.replace(t,n)}return s}function S(e,a){return a&&e.length?e.reduce((e,a)=>{const t=new RegExp(`{${a.name}}`,"gm");let s=e.replace(t,a.value);return s=x(a,s,new RegExp(`\\<\\<${a.name}=(\\d+)\\?([\\s\\S]*?):([\\s\\S]*?)\\>\\>`)),s=x(a,s,new RegExp(`\\[${a.name}=(\\d+)\\?([\\s\\S]*?):([\\s\\S]*?)\\]`)),s=x(a,s,new RegExp(`\\{${a.name}=(\\d+)\\?([\\s\\S]*?):([\\s\\S]*?)\\}`))},a):a}function L(e,a){let t=o()(e,"photo.defaultPhoto.large.url");if(!t&&a){const a=e.styleInfo,s=a.year,n=a.make,i=a.model;t=Object(f.o)({make:{slug:Object(c.c)(n)},model:{slug:Object(c.c)(i)},year:s},256)}return t=t||Object(f.q)(g.i)}function A(e,a,t){let s=e.filter(e=>o()(e,"inventory.vin")!==a);if(t===h.c.QUICK_QUOTES){const e=s.filter(e=>e[u.f.INVENTORY]);if(e.length<4){const a=s.filter(e=>e[u.f.DEALER]);s=e.concat(a.slice(0,4-e.length))}else s=e.slice(0,4)}return s}const D=[["make","make.name"],["model","model.name"],["year","year"],["submodel","submodels.name"],["submodelIdentifier","submodels.slug"]],w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return a=>e.reduce((e,t)=>(e[t[0]]=o()(a,t[1]),e),{})},R=d()("","pathname");function M(e){const a=o()(e,"person.firstName"),t=o()(e,"pii.lastName"),s=o()(e,"identifiers.email[0]"),n=o()(e,"lastLeadReference",""),i=n.substring(n.lastIndexOf("/")+1),r=o()(e,"pii.phoneNumbers[0]")||o()(e,`pii.contactInfo.['${i}'].phoneNumbers[0]`,{}),l=r.areaCode,d=r.number;return{firstName:a,lastName:t,email:s,phoneNumber:l&&d&&`(${l}) ${d}`}}function V(e){let a=e.leads,t=e.creativeId,s=e.pathname,n=e.leadTargets,i=e.visitorId,r=e.sessionId,o=e.tags,l=e.featureFlags,d=e.zipCode,c=e.phone,m=e.email,u=e.firstName,p=e.lastName;return{leads:a,submissionInfo:{creativeId:t,bannerCode:Date.now(),referringUrl:`https://www.edmunds.com${s}`,totalLeadsDisplayed:n.length,sessionId:r,visitorId:i,featureFlags:l,tags:o},userInfo:{zipCode:d,areaCode:c.slice(0,3),phonePrefix:c.slice(3,6),phoneSuffix:c.slice(6,10),email:m,firstName:u,lastName:p}}}function F(e){const a=V(e);return Object(s.a)({},a,{submissionInfo:Object(s.a)({},a.submissionInfo,{skipEmail:!0})})}const U={paid:"p",free:"f",local:"l",nondeliverable:"n"};function $(e){const a=o()(e,y.b.PARENT_DEALERSHIP_NAME,"");let t="";if(Object(b.g)(a)){const a=o()(e,y.b.DEALER_DISTANCE),s=o()(e,y.b.DELIVERY_CODE,"").toLowerCase(),n=i()(a)?a.toFixed(0):0;t=`${function(e){return"paid"===e||"free"===e?"Edmunds.com shopper potentially interested in a transfer               \n\n":""}(s)}##${s?U[s]:U.nondeliverable}${n}##`}return t}function B(e){let a=e.leadTargets,t=e.trackingData,n=e.suggestedLeadTargets,i=e.target,r=e.thankYouLeadFormTrackingEnabled;p.a.fireCustomEvent(_.a.LIST,{leadTargets:a,trackingData:Object(s.a)({},t,{subactionName:E.b.SUBMIT})},i),p.a.fireCustomEvent(_.a.THANK_YOU,{leadTargets:a},i),r&&p.a.fireCustomEvent(_.a.LIST,{leadTargets:[...n]},i)}function Y(e){const a=o()(e,"inventory.dealerInfo")||o()(e,"dealer");return{styleInfo:o()(e,"inventory.vehicleInfo.styleInfo")||o()(e,"vehicle"),dealerInfo:Object(s.a)({},a,{franchiseId:(o()(a,"franchiseId","")||o()(a,"id","")).toString()})}}function H(e,a){if(!a)return"";const t=o()(e,"prices.displayPrice")||o()(e,"prices.totalMsrp")||o()(e,"prices.baseMsrp",""),s=o()(e,"prices.guaranteedPrice")||t,n=t-s,i=n>0?`Your Savings: -${Object(m.a)(n)}`:"",r=o()(e,"prices.docFee",0),l=r>0?s+r:s;return[`MSRP: ${Object(m.a)(t)}`,i,`Dealer Price: ${Object(m.a)(s)}`,`Dealer Documentation/Processing Charge or Fee: ${r>0?-Object(m.a)(r):"Unknown"}`,`Total Price: ${Object(m.a)(l)}`].join("; ")}},"./site-modules/shared/components/loading-spinner/loading-spinner.scss":function(e,a,t){},"./site-modules/shared/components/native-ad/native-ad-components/ad-label/ad-label.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return d});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/react/index.js"),i=t.n(n),r=t("../node_modules/prop-types/index.js"),o=t.n(r);t("./site-modules/shared/components/native-ad/native-ad-components/ad-label/ad-label.scss");const l={width:"20px",fontWeight:"500",fontSize:"10px",lineHeight:"0.625rem",display:"block",position:"absolute",right:"5px",top:"5px",padding:"0.125rem 0"};function d(e){let a=e.adLabel,t=e.classes,n=e.styles;const r=Object(s.a)({},l,n);return i.a.createElement("span",{className:`site-served-label text-center ${t}`,style:r},a)}d.defaultProps={adLabel:"Ad",classes:"",styles:null},d.propTypes={adLabel:o.a.string,classes:o.a.string,styles:o.a.shape({})}},"./site-modules/shared/components/native-ad/native-ad-components/ad-label/ad-label.scss":function(e,a,t){},"./site-modules/shared/components/native-ad/native-ad-components/disclaimer/disclaimer.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return h});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/react/index.js"),i=t.n(n),r=t("../node_modules/prop-types/index.js"),o=t.n(r),l=t("../node_modules/classnames/index.js"),d=t.n(l),c=t("../node_modules/reactstrap/lib/Button.js"),m=t.n(c),u=t("./site-modules/shared/components/content-fragment/content-fragment.jsx");t("./site-modules/shared/components/native-ad/native-ad-components/disclaimer/disclaimer.scss");const p={button:{fontWeight:"normal",fontSize:"0.5625rem",lineHeight:"0.75rem",letterSpacing:0,textAlign:"right",padding:"0 4px",textTransform:"capitalize"}};class h extends n.Component{constructor(){super(...arguments),this.state={isDisclaimerHidden:!0},this.toggleDisclaimerContent=(e=>{e.preventDefault(),this.setState(()=>({isDisclaimerHidden:!this.state.isDisclaimerHidden}))})}render(){const e=this.props,a=e.linkDisclaimer,t=e.disclaimerText,r=e.contentClasses,o=e.openTrackingId,l=e.closeTrackingId,c=e.translateY,h=e.absoluteBottomValue,f=e.buttonStyle;return i.a.createElement(n.Fragment,null,i.a.createElement(m.a,{className:"disclaimer-button disclaimer text-gray-dark",style:Object(s.a)({},p.button,f),color:"link",onClick:this.toggleDisclaimerContent,"data-tracking-id":o},a),i.a.createElement("div",{className:d()("disclaimer-content text-left px-1 py-1",r,{show:!this.state.isDisclaimerHidden}),style:{position:"absolute",left:0,right:0,top:0,bottom:h,transform:`translateY(${c}%)`}},i.a.createElement("div",{className:"disclaimer-close px-0_25 py-0_25",onClick:this.toggleDisclaimerContent,role:"presentation","data-tracking-id":l},i.a.createElement("span",{className:"icon-cancel-circle2 size-12"})),i.a.createElement(u.a,{classes:"disclaimer text-gray-dark"},t)))}}h.propTypes={linkDisclaimer:o.a.string,disclaimerText:o.a.string,contentClasses:o.a.string,openTrackingId:o.a.string,closeTrackingId:o.a.string,translateY:o.a.number,absoluteBottomValue:o.a.string,buttonStyle:o.a.shape({})},h.defaultProps={linkDisclaimer:"Disclaimer",disclaimerText:"",contentClasses:"",openTrackingId:"",closeTrackingId:"",translateY:101,absoluteBottomValue:"0",buttonStyle:{}}},"./site-modules/shared/components/native-ad/native-ad-components/disclaimer/disclaimer.scss":function(e,a,t){},"./site-modules/shared/components/native-ad/site-served-ad-tracking-wrapper/site-served-ad-tracking-wrapper.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return h});var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/react/index.js"),i=t.n(n),r=t("./site-modules/shared/components/feature-flag/feature-flag.jsx"),o=t("./engagement-handlers/helper.js"),l=t("./engagement-handlers/site-served-ads-engagement-handler/site-served-ads-engagement-handler.js"),d=t("./tracking/handler.js"),c=t("./site-modules/shared/components/native-ad/utils/utils.js"),m=t("./site-modules/shared/constants/ads.js"),u=t("./site-modules/shared/components/impression-tracker/impression-tracker.jsx"),p=t("./site-modules/shared/components/native-ad/utils/ad-monitor-tracking.jsx");function h(e){class a extends n.Component{constructor(e){super(e),this.adClickTrackingListener=(()=>{const e=this.props,a=e.position,t=e.creativeConfig,s=e.creativeConfig,n=s.id,i=s.creativeConfigData,r=i.lineItemId,l=i.siteServedCreativeId;Object(c.n)(t),d.a.fireEvent(m.c,{},{creative_id:Object(o.c)(this.card.current),line_item_id:r,site_served_creative_id:l,creative_config_id:n,action_cause:"link_click",click_correlator_ts:this.clickCorrelatorTs,position:a})}),this.adLoadTrackingListener=((e,a)=>{const t=this.props,s=t.position,n=t.slotRenderEndListener,i=t.creativeConfig.creativeConfigData.lineItemId,r=e.slot.getTargetingMap();this.clickCorrelatorTs=r.clickcorrelatorts,Object(l.a)(a,this.card.current,this.clickCorrelatorTs,s,i),n&&"function"==typeof n&&n(e)}),this.clickCorrelatorTs=0,this.card=i.a.createRef()}render(){const a=this.props.creativeConfig;if(Object(c.j)(a))return null;const t=a.traffickingData.adzerkImpressionUrl,n=i.a.createElement("div",{style:{position:"absolute",width:"1px",height:"1px"}},t&&i.a.createElement(u.a,{src:t}),i.a.createElement(p.a,{creativeConfig:a}));return i.a.createElement(r.a,{name:"siteServedAds"},i.a.createElement(e,Object(s.a)({},this.props,{adClickTrackingListener:this.adClickTrackingListener,adLoadTrackingListener:this.adLoadTrackingListener,adRef:this.card,adTrackers:n})))}}return a.displayName=`SiteServedAdTrackingWrapper(${e.name})`,a}},"./site-modules/shared/components/native-ad/site-served-ad-wrapper/site-served-ad-wrapper.jsx":function(e,a,t){"use strict";t.d(a,"b",function(){return v}),t.d(a,"a",function(){return C}),t.d(a,"c",function(){return j});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),i=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=t("../node_modules/lodash/omit.js"),o=t.n(r),l=t("../node_modules/lodash/isEmpty.js"),d=t.n(l),c=t("../node_modules/lodash/get.js"),m=t.n(c),u=t("../node_modules/react/index.js"),p=t.n(u),h=t("../node_modules/react-redux/es/index.js"),f=t("./data/luckdragon/redux/react-binding.jsx"),g=t("./data/models/page.js"),b=t("./data/models/visitor.js"),y=t("./data/models/native-ads-creative-config.js"),_=t("./site-modules/shared/constants/ads.js"),E=t("./site-modules/shared/components/native-ad/utils/utils.js");const v=e=>{const a=m()(e,"[0]",{});return o()(Object(s.a)({},a,a.configRef),["configRef"])},C=e=>{const a=e.mobile,t=e.adType,s=e.vehicle,n=e.currentVehicle,i=e.creativeConfigPath,r=e.showOnlyDFP,o=e.siteServedAdsEnabled,l=n||s,d=m()(l,"model.niceName");return o&&!r&&d?`${i||Object(E.c)(a,l)}["${t.AD_NAME}"]`:null},T={creativeConfig:Object(f.a)(e=>{let a=e.mobile,t=e.adType,s=e.vehicle,n=e.currentVehicle,i=e.creativeConfigPath,r=e.showOnlyDFP,o=e.siteServedAdsEnabled;return C({mobile:a,adType:t,vehicle:s,currentVehicle:n,creativeConfigPath:i,showOnlyDFP:r,siteServedAdsEnabled:o})},y.e,v),ads:Object(f.a)("ads",g.a),visitorLocation:Object(f.a)("location",b.c)},N=e=>({vehicle:e.pageContext.vehicle,siteServedAdsEnabled:e.featureFlags.siteServedAds,currentBreakpoint:e.pageContext.breakpointDeprecated2,vehicleContextChange:m()(e.pageContext.page,"options.vehicleContextChange",!1)}),j=e=>Object(h.c)(N)(Object(f.b)(function(e){class a extends u.Component{shouldComponentUpdate(e){const a=e.currentVehicle,t=e.vehicle,s=e.creativeConfig;return!(!a&&!t||!s)||!d()(t)&&!m()(t,"make.niceName")}render(){const a=this.props,t=a.creativeConfig,s=void 0===t?null:t,r=a.vehicle,o=a.currentVehicle,l=a.siteServedAdsEnabled,c=a.visitorLocation,u=a.showOnlyDFP,h=a.showOnlySiteServed,f=void 0!==h&&h,g=this.props,b=g.breakpoints,y=g.currentBreakpoint,v=Object(i.a)(g,["breakpoints","currentBreakpoint"]);if(!d()(b)&&!y)return null;if(!d()(b)&&y&&!b[y])return null;if(!u&&l&&null===s)return null;const C=Object(E.j)(s)||m()(s,"excluded",!1)||!Object(_.e)(c),T=!0!==f&&(C||!l);return p.a.createElement(e,Object(n.a)({},v,{vehicle:o||r,withDFPFallback:T}))}}return a.displayName=`WithSiteServedAdWrapper(${e.name})`,a}(e),T))},"./site-modules/shared/components/native-ad/srp-ad/srp-ad-retention.scss":function(e,a,t){},"./site-modules/shared/components/native-ad/srp-ad/srp-ad.jsx":function(e,a,t){"use strict";var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("../node_modules/react-redux/es/index.js"),c=t("./data/luckdragon/redux/react-binding.jsx"),m=t("./data/models/page.js"),u=t("./site-modules/shared/components/ad-unit/ad-unit-prop-types.jsx"),p=t("./site-modules/shared/components/native-ad/utils/constants.js"),h=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),f=t("../node_modules/classnames/index.js"),g=t.n(f),b=t("../node_modules/reactstrap/lib/Col.js"),y=t.n(b),_=t("../node_modules/reactstrap/lib/Row.js"),E=t.n(_),v=t("../node_modules/lodash/get.js"),C=t.n(v),T=t("../node_modules/react-router/esm/react-router.js"),N=t("./tracking/constant.js"),j=t("./site-modules/shared/utils/inventory/tracking.js"),I=t("./site-modules/shared/components/client-side-render/client-side-render.jsx"),O=t("./data/models/inventory.js"),k=t("./site-modules/shared/components/profile/card-compare-select/card-compare-select.jsx"),P=t("./site-modules/shared/components/image/image.jsx"),x=t("./site-modules/shared/components/link/link.jsx"),S=t("./utils/image-helpers.js"),L=t("./site-modules/shared/components/core-img/core-img.jsx"),A=t("./site-modules/shared/components/inventory/search-results-inventory-card/cpo-label.jsx");t("./site-modules/shared/components/inventory/search-results-inventory-card/search-results-inventory-card-photo.scss");function D(e){let a=e.alt,t=e.imageId,s=e.source,n=e.imageClassName,i=e.onError;return r.a.createElement("figure",{className:"image-wrapper m-0"},r.a.createElement(P.a,{alt:a,imageId:t,source:s,onError:i,errorImage:L.b,className:g()({"image img-fluid":!n,[n]:n})}))}function w(e){let a=e.config;const t=C()(a,"component",null),s=C()(a,"actionComponent",null),n=C()(a,"componentData",{}),i=C()(a,"actionComponentData",{}),o=C()(a,"onError",null),l=C()(a,"isNoPhoto",!1),d=C()(a,"link",""),c=C()(a,"altText",""),m=C()(a,"imageId",""),u=C()(a,"imageSource",S.d.MEDIA),p=C()(a,"imageClassName",""),h=C()(a,"isCpo",!1),f=C()(a,"make","");return r.a.createElement("div",{className:"search-results-inventory-card-photo pos-r h-100"},h&&r.a.createElement(A.a,{isCpo:h,make:f}),d?r.a.createElement(x.a,{"aria-label":c,to:d,className:"d-block",rel:"nofollow"},r.a.createElement(D,{alt:c,imageId:m,source:u,imageClassName:p,onError:o})):r.a.createElement(D,{alt:c,imageId:m,source:u,onError:o}),!!s&&r.a.createElement("div",{className:"photo-shadow text-right top w-100"},r.a.createElement(s,i)),r.a.createElement("div",{className:"photo-shadow bottom w-100"},r.a.createElement(t,n)),l&&r.a.createElement("div",{className:"no-photo text-gray-darker font-weight-bold w-100 text-center"},"No Photo Available"))}D.propTypes={alt:l.a.string,imageId:l.a.string,source:l.a.string,imageClassName:l.a.string,onError:l.a.func},D.defaultProps={alt:"",imageId:"",source:"",imageClassName:"",onError:null},w.propTypes={config:l.a.shape({imageId:l.a.string,imageSource:l.a.string,altText:l.a.string,link:l.a.string,onError:l.a.func,isCpo:l.a.bool,make:l.a.string})},w.defaultProps={config:{}};var R=t("../node_modules/reactstrap/lib/Button.js"),M=t.n(R),V=t("./site-modules/shared/utils/collapse-utils.jsx");function F(e){let a=e.isCollapsed,t=e.buttonClassName,s=e.onClick,n=e.hideText,i=e.showText;return r.a.createElement("div",{className:g()("d-flex justify-content-end",t)},r.a.createElement(M.a,{color:"link",className:"toggle-info font-weight-normal disclaimer border-0 p-0 text-capitalize text-gray",onClick:s,"data-tracking-id":"view_more_info"},a?n:i))}function U(e){let a=e.isCollapsed,t=e.contentClassName,s=e.children;return r.a.createElement(V.a,{isOpen:a,className:"m-0"},r.a.createElement("div",{className:g()("p-0_5",t)},s))}F.propTypes={isCollapsed:l.a.bool,buttonClassName:l.a.string,onClick:l.a.func,hideText:l.a.string,showText:l.a.string},F.defaultProps={isCollapsed:!1,buttonClassName:"",onClick:null,hideText:"less info",showText:"more info"},U.propTypes={isCollapsed:l.a.bool,contentClassName:l.a.string,children:l.a.node},U.defaultProps={isCollapsed:!1,contentClassName:"",children:null};t("./site-modules/shared/components/inventory/search-results-inventory-card/search-results-inventory-card.scss");const $=["BUTTON","A","[role='dialog']"],B=["BUTTON","[role='dialog']"],Y="inventory-card no-gutters list-unstyled bg-white mb-0_75",H="search-results-inventory-card";class q extends i.Component{constructor(){super(...arguments),this.state={isMoreInfoCollapsed:!1,noImg:!1},this.onError=(()=>{Object(j.c)(N.b.SHOW_SILHOUETTE_ERROR,C()(this.props.vinData,"vin")),this.setState(()=>({noImg:!0}))}),this.redirect=(e=>{const a=this.props,t=a.history,s=a.cardClickableLink;t.push(e||s)}),this.handleCardClickUPF1550=(e=>{const a=e.target,t=B.some(e=>!!a.closest(e)),s=a.href,n=!!a.closest(`.${H}`);!t&&n&&(s&&e.preventDefault(),this.redirect(s))}),this.handleCardClick=(e=>{const a=e.target;$.some(e=>!!a.closest(e))||this.redirect()}),this.toggleInventoryInfo=(()=>{this.setState(e=>({isMoreInfoCollapsed:!e.isMoreInfoCollapsed}))})}componentDidMount(){C()(this.props.photoConfig,"isNoPhoto")&&Object(j.c)(N.b.SHOW_SILHOUETTE_MISSING,C()(this.props.vinData,"vin"))}render(){const e=this.props,a=e.children,t=e.classes,i=e.photoConfig,o=e.moreInfoConfig,l=e.cardClickableLink,d=e.dealerInfo,c=e.isUPF1550Enabled,m=e.vinData,u=e.compareSelect,p=this.state,h=p.isMoreInfoCollapsed,f=p.noImg,b=C()(o,"isVisible",!1),_=C()(o,"component",null),v=C()(o,"componentData",{}),T=C()(o,"hideText","less info"),N=C()(o,"showText","more info"),j=C()(i,"isClientSideRenderPhoto",!1),O=C()(t,"rootClassNames",""),P=C()(t,"photoClassNames",""),x=C()(t,"infoClassNames",""),S=C()(t,"collapseClassNames",""),L=C()(t,"collapseButtonClassNames",""),A=C()(d,"franchiseId",""),D=C()(d,"rooftopId",""),R=C()(i,"isNoPhoto",!1)||f,M={},V={};l&&!c&&(M.onClick=this.handleCardClick,M.role="button"),l&&c&&(V.onClick=this.handleCardClickUPF1550,V.role="button");const $=`${H} no-gutters list-unstyled bg-white mb-0_75 mb-lg-1`;return r.a.createElement(E.a,{tag:"li",className:g()($,O),"data-tracking-id":"srp_view_vin_details","data-dealer-franchise-id":A,"data-dealer-rooftop-id":D,"data-tracking-value":"vehicle_card_click"},r.a.createElement(y.a,Object(n.a)({xs:12,md:5,className:g()(P,{"no-photo":f})},V),j?r.a.createElement(I.a,null,r.a.createElement(w,{config:Object(s.a)({},i,{isNoPhoto:R,onError:this.onError})})):r.a.createElement(w,{config:Object(s.a)({},i,{isNoPhoto:R,onError:this.onError})})),r.a.createElement(y.a,Object(n.a)({xs:12,md:7,className:g()("px-0_5 px-md-1 pt-1 pt-md-0_5 d-flex flex-column justify-content-between",x)},M,V),a,b&&r.a.createElement(F,{onClick:this.toggleInventoryInfo,buttonClassName:L,hideText:T,showText:N,isCollapsed:h})),b&&r.a.createElement(U,{isCollapsed:h,contentClassName:S},r.a.createElement(_,v)),u&&r.a.createElement("div",{className:"srp-card-compare-select pos-r w-100","data-tracking-id":""},r.a.createElement(k.a,{vinData:m,compareSelect:u,photoConfig:i,labelText:"Compare Deal",containerMarginClassName:"mt-md-0_25",customLabelClassName:"pt-0_5 pt-md-0"})))}}q.propTypes={children:l.a.node.isRequired,history:l.a.shape({}),classes:l.a.shape({}),photoConfig:l.a.shape({}),moreInfoConfig:l.a.shape({component:l.a.func,componentData:l.a.shape({isBestDealPriceEnabled:l.a.bool,vinData:l.a.shape({}),visitorCity:l.a.string,visitorStateCode:l.a.string}),isVisible:l.a.bool}),cardClickableLink:l.a.string,dealerInfo:O.b.DealerInfo,sentientParticipantQueryParams:l.a.string,isUPF1550Enabled:l.a.bool,vinData:O.b.InventoryVin,compareSelect:l.a.shape({}),paymentType:l.a.string,isUsed:l.a.bool,isDigitalRetailVin:l.a.bool},q.defaultProps={history:{},classes:{},photoConfig:{},moreInfoConfig:{},cardClickableLink:"",dealerInfo:{},sentientParticipantQueryParams:"",isUPF1550Enabled:!1,vinData:{},compareSelect:null,paymentType:"",isUsed:!1,isDigitalRetailVin:!1};Object(T.g)(q);var z=t("./data/models/native-ads-creative-config.js"),G=t("./site-modules/shared/components/native-ad/native-ad-components/ad-label/ad-label.jsx"),W=t("./site-modules/shared/components/native-ad/utils/utils.js"),K=t("./site-modules/shared/components/native-ad/utils/dfp-tracking.jsx"),Q=t("./site-modules/shared/components/content-fragment/content-fragment.jsx"),J=t("./site-modules/shared/components/aspect-ratio-container/aspect-ratio-container.jsx"),Z=t("./site-modules/shared/components/native-ad/site-served-ad-tracking-wrapper/site-served-ad-tracking-wrapper.jsx"),X=t("./site-modules/shared/components/native-ad/utils/offer-incentives-ad-utils.js"),ee=t("./site-modules/shared/components/experiment/experiment.jsx"),ae=t("./site-modules/shared/components/experiment/recipe.jsx"),te=t("./utils/experiment/experiment-util.js"),se=t("./site-modules/shared/components/native-ad/utils/dfp-site-served-companion-tracker.jsx");t("./site-modules/shared/components/native-ad/srp-site-served-ad/srp-site-served-ad.scss");const ne="VIEW ALL OFFERS",ie="Special offers available";class re extends i.Component{constructor(){super(...arguments),this.getHeadlineDefault=((e,a)=>{return{ctrl:ie,chal1:`See Offers Near ${e}`,chal2:`Deals Near ${e}`}[a].trim()}),this.adLoadTrackingListener=(e=>{const a=this.props,t=a.adLoadTrackingListener,s=a.creativeConfig,n=s.offersNumber,i=s.ipZipCode,r=s.zipCode,o=s.creativeConfigData.headline,l=a.ads5816Recipe;t(e,Object(X.c)(o,o,n,r,i,this.getHeadlineDefault("",l),14,10))})}render(){const e=this.props,a=e.adRef,t=e.adClickTrackingListener,s=e.adTrackers,n=e.creativeConfig,o=e.mobile,l=e.vehicle,d=e.currentVehicle,c=e.dependedOnCurrentVehicle,m=e.customTargeting,u=e.position,p=e.ads5816Recipe;if(Object(W.j)(n))return null;const h=n.siteServedAdsUpdater,f=n.zipCode,b=n.ipZipCode,y=n.offersNumber,_=n.creativeConfigData,E=_.headline,v=_.body,C=_.label,T=_.label2,N=_.logo,j=_.photo,I=_.photoDisclaimer,O=_.lineItemId,k=_.siteServedCreativeId,P=_.linkDisplayUrl,x=_.cta,S=_.target,L=n.traffickingData.clickTracker,A=Object(W.a)(L[Object(W.b)(o)],f),D=S||"_blank",w=Object(X.a)(E,y,f,b,this.getHeadlineDefault(f,p),14,10);let R="";!E&&y&&(R=v||"Edmunds data shows offers may be available near you");const M=o?{maxHeight:"30px",position:"absolute",top:"0.25rem",left:"0.5rem"}:{maxHeight:"30px"},V=r.a.createElement("div",{className:g()({"oem-logo-top-left":o,"mb-0_5":!o}),style:M},r.a.createElement("img",{className:"oem-logo",src:N,alt:"",style:{maxHeight:"30px"}}));return r.a.createElement("div",{className:"srp-ssa rounded h-100 w-100",ref:a},r.a.createElement("section",{className:"card pos-r text-decoration-none d-flex flex-column flex-md-row"},r.a.createElement("a",{href:A,target:D,className:"main-anchor z-index-1",rel:"noopener noreferrer",onClick:t,style:{position:"absolute",textIndent:"-100%"}},x||ne),O&&r.a.createElement(ee.a,{name:"ads-5740",showDefault:!0},r.a.createElement(ae.a,{name:"ctrl",isDefault:!0},r.a.createElement(K.a,{lineItemId:O,siteServedCreativeId:k,mobile:o,nativeStyle:"site-srp",currentVehicle:d,dependedOnCurrentVehicle:c,customTargeting:m,position:u,slotRenderEndListener:this.adLoadTrackingListener,siteServedAdsUpdater:h})),r.a.createElement(ae.a,{name:"chal"},r.a.createElement(se.a,{nativeStyle:"site-srp",creativeConfig:n,slotRenderEndListener:this.adLoadTrackingListener,position:u,mobile:o,vehicle:l,currentVehicle:d,dependedOnCurrentVehicle:c,customTargeting:m}))),r.a.createElement(G.a,null),o&&V,r.a.createElement("div",{className:"img-container pos-r text-center align-self-center col-md-4"},r.a.createElement(J.a,{aspectRatio:"16:9",className:"jelly-bean mx-auto"},r.a.createElement("img",{src:j,alt:C,title:C})),r.a.createElement("div",{className:"hidden-sm-up disclaimer persistent-disclaimer text-gray text-right text-md-left align-self-md-end"},I)),r.a.createElement("div",{className:"info-container text-center pos-r d-flex flex-column col-md-8 p-0 px-0_75 px-md-1"},r.a.createElement("div",{className:"d-flex flex-column flex-md-row justify-content-between h-100"},r.a.createElement("div",{className:"info-title text-gray-darker text-md-left size-16 font-weight-bold mt-0_5 mb-1"},r.a.createElement("div",null,!o&&V,!o&&r.a.createElement(i.Fragment,null,r.a.createElement(Q.a,{classes:"ad-title2 text-uppercase",componentToUse:"div"},T&&T)),r.a.createElement(Q.a,{classes:g()("ad-title"),componentToUse:"div"},C),r.a.createElement("div",{className:g()("description text-gray-dark mb-0_75",{"hidden-sm-down":!R,small:!o,xsmall:o})},R))),r.a.createElement("div",{className:"info-offers text-md-center d-flex flex-column justify-content-center mb-0_5 mb-md-1 mt-md-0_5"},r.a.createElement("div",null,r.a.createElement("div",{className:"headline size-16 text-primary font-weight-bold"},r.a.createElement(Q.a,null,w),!E&&!y&&r.a.createElement(ee.a,{name:"ads-5816",showDefault:!0},r.a.createElement(ae.a,{name:"ctrl",isDefault:!0}),r.a.createElement(ae.a,{name:"chal1"}),r.a.createElement(ae.a,{name:"chal2"}),r.a.createElement(ae.a,{name:"chal3"}))),r.a.createElement("div",{className:"cta btn mt-0_5 px-0_5 btn-primary-b mx-0 py-0_5 w-100"},x||ne,r.a.createElement("span",{className:"icon-open_in_new ml-0_25 "}))))),r.a.createElement(i.Fragment,null,r.a.createElement("div",{className:"hidden-sm-down disclaimer persistent-disclaimer text-gray text-right text-md-left align-self-md-end"},I),r.a.createElement("div",{className:"pb-0_75 py-md-0_75 d-flex text-gray-darker align-items-md-center px-0 w-100"},r.a.createElement("div",{className:"small text-md-left w-50 hidden-sm-down"},"Visit ",P," for details"),r.a.createElement("div",{className:g()("disclaimer-label small text-center",{"text-primary-darker w-100":o,"w-50":!o}),role:"presentation"},P)))),s))}}re.propTypes=Object(s.a)({},u.j,{creativeConfig:z.k,dependedOnCurrentVehicle:l.a.bool,customTargeting:u.d.customTargeting,ads5816Recipe:l.a.string}),re.defaultProps=Object(s.a)({},u.i,{creativeConfig:z.j,dependedOnCurrentVehicle:!1,customTargeting:u.c.customTargeting,ads5816Recipe:"ctrl"});const oe=Object(Z.a)(Object(d.c)(e=>({ads5816Recipe:te.a.getForcedOrAssignedRecipeName({state:e,campaignName:"ads-5816",defaultVal:"ctrl"})}))(re));var le=t("./site-modules/shared/components/native-ad/native-ad-components/disclaimer/disclaimer.jsx");const de={usurpSsa:{boxSizing:"border-box",minHeight:"316px"},oemLogoTopLeft:{maxHeight:"30px",position:"absolute",top:"0.25rem",left:"0.5rem"},oemLogo:{maxHeight:"30px"},jellyBean:{width:"70%",maxWidth:"350px"},img:{position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",width:"100%"},ctaContainer:{marginTop:"auto",marginBottom:"auto"},cta:{lineHeight:"22px",marginBottom:"8px",marginTop:"8px"},iconOpenInNew:{fontSize:"0.7rem",lineHeight:"1",width:"1em",height:"1em",marginLeft:"4px",display:"inline-block"},infoTitle:{lineHeight:"1.5rem",letterSpacing:"0.012rem"},persistentDisclaimer:{maxHeight:"32px",lineHeight:"1rem",overflow:"hidden"},description:{fontWeight:"normal",letterSpacing:"normal",fontSize:"0.6875rem",lineHeight:"1rem"},headline:{lineHeight:"1.25rem"}},ce="VIEW ALL OFFERS",me="Special offers available";class ue extends i.Component{constructor(){super(...arguments),this.getHeadlineDefault=((e,a)=>{return{ctrl:me,chal1:`See Offers Near ${e}`,chal2:`Deals Near ${e}`}[a].trim()}),this.adLoadTrackingListener=(e=>{const a=this.props,t=a.adLoadTrackingListener,s=a.creativeConfig,n=s.offersNumber,i=s.ipZipCode,r=s.zipCode,o=s.creativeConfigData.headline,l=a.ads5816Recipe;t(e,Object(X.c)(o,o,n,r,i,this.getHeadlineDefault("",l),14,10))})}render(){const e=this.props,a=e.adRef,t=e.adClickTrackingListener,n=e.adTrackers,i=e.creativeConfig,o=e.mobile,l=e.vehicle,d=e.currentVehicle,c=e.dependedOnCurrentVehicle,m=e.customTargeting,u=e.position,p=e.ads5816Recipe,h=e.ads6041Enabled;if(Object(W.j)(i))return null;const f=i.siteServedAdsUpdater,b=i.zipCode,y=i.ipZipCode,_=i.offersNumber,E=i.creativeConfigData,v=E.headline,T=E.body,N=E.label,j=E.logo,I=E.photo,O=E.photoDisclaimer,k=E.lineItemId,P=E.siteServedCreativeId,x=E.linkDisplayUrl,S=E.cta,L=E.target,A=i.traffickingData.clickTracker,D=Object(W.a)(A[Object(W.b)(o)],b),w=L||"_blank",R=Object(X.a)(v,_,b,y,this.getHeadlineDefault(b,p),14,10),M="nissan"===C()(d,"make.niceName");let V="";!v&&_&&(V=T||(h&&M?"Nissan data shows offers may be available near you. Eligibility and other restrictions apply":"Edmunds data shows offers may be available near you"));const F=r.a.createElement("div",{className:g()("description text-gray-dark",{"hidden-sm-down":!V,"mt-0_25":h}),style:de.description},V),U=V&&r.a.createElement(le.a,{linkDisclaimer:"Disclaimer",disclaimerText:V,buttonStyle:{position:"absolute",bottom:"6px",right:"4px"}}),$=r.a.createElement("div",{className:"headline size-16 text-primary font-weight-bold",style:de.headline},r.a.createElement(Q.a,null,R),!v&&!_&&r.a.createElement(ee.a,{name:"ads-5816",showDefault:!0},r.a.createElement(ae.a,{name:"ctrl",isDefault:!0}),r.a.createElement(ae.a,{name:"chal1"}),r.a.createElement(ae.a,{name:"chal2"}),r.a.createElement(ae.a,{name:"chal3"}))),B=r.a.createElement("div",{className:"cta btn btn-primary-b mx-0 py-0_5 mr-0_5",style:de.cta},S||ce,r.a.createElement("span",{className:"icon-open_in_new",style:de.iconOpenInNew})),Y=r.a.createElement("div",{className:"small text-primary-darker",role:"presentation"},x);return r.a.createElement("div",{className:"usurp-ssa h-100 w-100",ref:a,style:de.usurpSsa},r.a.createElement("section",{className:"pos-r h-100",style:h?null:{textAlign:"center"}},r.a.createElement("a",{href:D,target:w,className:"main-anchor h-100 d-flex flex-column text-decoration-none",rel:"noopener noreferrer",onClick:t},k&&r.a.createElement(ee.a,{name:"ads-5740",showDefault:!0},r.a.createElement(ae.a,{name:"ctrl",isDefault:!0},r.a.createElement(K.a,{lineItemId:k,siteServedCreativeId:P,mobile:o,nativeStyle:"site-srp",currentVehicle:d,dependedOnCurrentVehicle:c,customTargeting:m,position:u,slotRenderEndListener:this.adLoadTrackingListener,siteServedAdsUpdater:f})),r.a.createElement(ae.a,{name:"chal"},r.a.createElement(se.a,{nativeStyle:"site-srp",creativeConfig:i,slotRenderEndListener:this.adLoadTrackingListener,position:u,mobile:o,vehicle:l,currentVehicle:d,dependedOnCurrentVehicle:c,customTargeting:m}))),r.a.createElement(J.a,{aspectRatio:"16:9",className:"mx-auto",styles:h?Object(s.a)({},de.jellyBean,{width:"80%",height:"230px"}):de.jellyBean},r.a.createElement("img",{src:I,alt:N,title:N,loading:"lazy",style:de.img})),r.a.createElement("div",{className:"oem-logo-top-left",style:de.oemLogoTopLeft},r.a.createElement("img",{className:"oem-logo",src:j,alt:"",loading:"lazy",style:de.oemLogo})),r.a.createElement(G.a,null),r.a.createElement("div",{className:"disclaimer persistent-disclaimer text-gray text-right pr-1",style:de.persistentDisclaimer},O),r.a.createElement("div",{className:g()("info-title text-gray-darker size-16 font-weight-bold pb-1 px-0_75",{"pt-0_5":!h,"pt-1 pl-1_25 pl-md-1 pl-lg-0_5 pl-xl-1_25":h}),style:h?Object(s.a)({},de.infoTitle,{fontSize:"1.25rem"}):de.infoTitle},r.a.createElement(ee.a,{name:"ads-6041",showDefault:!0},r.a.createElement(ae.a,{name:"ctrl",isDefault:!0},r.a.createElement(Q.a,{classes:"ad-title"},N),F),r.a.createElement(ae.a,{name:"chal1"},r.a.createElement(Q.a,{classes:"ad-title mb-0_5"},N),$),r.a.createElement(ae.a,{name:"chal2"},r.a.createElement(Q.a,{classes:"ad-title"},N),F),r.a.createElement(ae.a,{name:"chal3"},r.a.createElement("div",{className:"ad-title"},r.a.createElement(Q.a,{classes:"ad-title mb-0_5"},R),!v&&!_&&r.a.createElement(ee.a,{name:"ads-5816",showDefault:!0},r.a.createElement(ae.a,{name:"ctrl",isDefault:!0}),r.a.createElement(ae.a,{name:"chal1"}),r.a.createElement(ae.a,{name:"chal2"}),r.a.createElement(ae.a,{name:"chal3"}))),r.a.createElement(Q.a,{classes:"headline size-16 text-primary-darker font-weight-bold",inlineStyle:de.headline},N)))),r.a.createElement("div",{style:h?{marginTop:"auto",marginBottom:"24px"}:de.ctaContainer,className:g()("px-0_75",{"pl-1_25 pl-md-1 pl-lg-0_5 pl-xl-1_25":h})},r.a.createElement(ee.a,{name:"ads-6041",showDefault:!0},r.a.createElement(ae.a,{name:"ctrl",isDefault:!0},$,r.a.createElement("div",{className:"cta btn btn-primary-b mx-0 py-0_5 w-100",style:de.cta},S||ce,r.a.createElement("span",{className:"icon-open_in_new",style:de.iconOpenInNew})),r.a.createElement("div",{className:"small mb-0_5 text-primary-darker",role:"presentation"},x)),r.a.createElement(ae.a,{name:"chal1"},r.a.createElement("div",{className:"d-flex align-items-center"},B,Y),U),r.a.createElement(ae.a,{name:"chal2"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"pos-r"},B,r.a.createElement("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",bottom:"-16px"}},Y)),$)),r.a.createElement(ae.a,{name:"chal3"},r.a.createElement("div",{className:"d-flex align-items-center"},B,Y))))),r.a.createElement(ee.a,{name:"ads-6041",showDefault:!0},r.a.createElement(ae.a,{name:"ctrl",isDefault:!0}),r.a.createElement(ae.a,{name:"chal1"},U),r.a.createElement(ae.a,{name:"chal2"}),r.a.createElement(ae.a,{name:"chal3"},U)),n))}}ue.propTypes=Object(s.a)({},u.j,{creativeConfig:z.k,customTargeting:u.d.customTargeting,dependedOnCurrentVehicle:l.a.bool,ads5816Recipe:l.a.string,ads6041Enabled:l.a.bool}),ue.defaultProps=Object(s.a)({},u.i,{creativeConfig:z.j,dependedOnCurrentVehicle:!1,customTargeting:u.c.customTargeting,ads5816Recipe:"ctrl",ads6041Enabled:!1});const pe=Object(Z.a)(Object(d.c)(e=>({ads5816Recipe:te.a.getForcedOrAssignedRecipeName({state:e,campaignName:"ads-5816",defaultVal:"ctrl"}),ads6041Enabled:"ctrl"!==te.a.getForcedOrAssignedRecipeName({state:e,campaignName:"ads-6041",defaultVal:"ctrl"})}))(ue)),he="srp-retention rounded";function fe(e){const a=e.creativeConfig,t=e.position,s=e.wrapperTag,i=e.usurpMode,o=Object(h.a)(e,["creativeConfig","position","wrapperTag","usurpMode"]),l=g()(Y,{[he]:!i},{"d-none":Object(W.j)(a)},{"mb-lg-1":!i},{"mb-md-1_5 col-12 col-md-6 px-0_5":i}),d=`${he} usurp-inventory-card rounded w-100`,c=i?pe:oe;return r.a.createElement(E.a,{tag:s,className:l,"data-tracking-parent":"site-srp","data-viewability":`site-srp-${t}`},r.a.createElement(y.a,{className:g()({[d]:i})},r.a.createElement(c,Object(n.a)({position:t},o,{creativeConfig:a}))))}fe.propTypes={mobile:l.a.bool.isRequired,creativeConfig:z.k,currentVehicle:u.d.currentVehicle,dependedOnCurrentVehicle:l.a.bool,customTargeting:u.d.customTargeting,position:l.a.string,wrapperTag:l.a.string,offersNumber:l.a.number,usurpMode:l.a.bool},fe.defaultProps={creativeConfig:z.j,currentVehicle:u.c.currentVehicle,dependedOnCurrentVehicle:!1,customTargeting:u.c.customTargeting,position:"0",wrapperTag:"li",offersNumber:0,usurpMode:!1};var ge=t("./site-modules/shared/components/native-ad/site-served-ad-wrapper/site-served-ad-wrapper.jsx");t("./site-modules/shared/components/native-ad/srp-ad/srp-ad-retention.scss");function be(e){return r.a.createElement(fe,e)}be.propTypes=Object(s.a)({},u.b,{wrapperTag:l.a.string,usurpMode:l.a.bool,pfMode:l.a.bool,creativeConfigs:l.a.arrayOf(z.k)}),be.defaultProps=Object(s.a)({},u.a,{wrapperTag:"li",usurpMode:!1,pfMode:!1,creativeConfigs:z.j});const ye=Object(ge.c)(be);function _e(e){return r.a.createElement(ye,Object(n.a)({},e,{adType:p.h}))}t.d(a,"a",function(){return ve}),_e.propTypes=Object(s.a)({},u.b,{usurpMode:l.a.bool}),_e.defaultProps=Object(s.a)({},u.a,{position:"1",usurpMode:!1});const Ee={vehicle:Object(c.a)("vehicle",m.a)},ve=Object(d.c)(e=>({mobile:e.mobile}))(Object(c.b)(_e,Ee))},"./site-modules/shared/components/native-ad/srp-site-served-ad/srp-site-served-ad.scss":function(e,a,t){},"./site-modules/shared/components/native-ad/utils/ad-monitor-tracking.jsx":function(e,a,t){"use strict";(function(e){t.d(a,"a",function(){return l});var s=t("../node_modules/react/index.js"),n=t("../node_modules/prop-types/index.js"),i=t.n(n),r=t("../node_modules/react-redux/es/index.js");class o extends s.Component{constructor(){super(...arguments),this.callTrackAdMonitor=(()=>{const a=this.props,t=a.creativeConfig.traffickingData.adMonitoringUrl,s=a.trackAdMonitorEnabled;if(!t||!s)return;e.fetch(t,{headers:{"Content-Type":"application/json"},method:"PUT",body:""})})}componentDidMount(){this.callTrackAdMonitor()}componentDidUpdate(e){this.props.creativeConfig.traffickingData.adMonitoringUrl!==e.creativeConfig.traffickingData.adMonitoringUrl&&this.callTrackAdMonitor()}render(){return null}}o.propTypes={creativeConfig:i.a.shape({traffickingData:i.a.shape({})}),trackAdMonitorEnabled:i.a.bool},o.defaultProps={creativeConfig:{},trackAdMonitorEnabled:!1};const l=Object(r.c)(e=>({trackAdMonitorEnabled:e.featureFlags.trackAdMonitor}))(o)}).call(this,t("../node_modules/webpack/buildin/global.js"))},"./site-modules/shared/components/native-ad/utils/dfp-site-served-companion-tracker.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return p});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/lodash/get.js"),i=t.n(n),r=t("../node_modules/react/index.js"),o=t.n(r),l=t("../node_modules/prop-types/index.js"),d=t.n(l),c=t("./data/models/vehicle.js"),m=t("./site-modules/shared/components/native-ad/utils/site-served-companion-tracker.jsx"),u=t("./site-modules/shared/components/native-ad/utils/dfp-tracking.jsx");function p(e){const a=e.nativeStyle,t=e.mobile,n=e.position,l=e.vehicle,d=e.currentVehicle,c=e.customTargeting,p=e.slotRenderEndListener,h=e.dependedOnCurrentVehicle,f=e.noRefresh,g=e.refreshable,b=e.creativeConfig,y=b.siteServedAdsUpdater,_=b.zipCode,E=b.dma,v=b.creativeConfigData,C=v.lineItemId,T=v.siteServedCreativeId,N=b.traffickingData.impressionTrackers,j=i()(d,"model.niceName",i()(l,"model.niceName","")),I=Object(s.a)({mdl:`${j}_sstest`},c);return o.a.createElement(r.Fragment,null,o.a.createElement(m.a,{lineItemId:C,siteServedCreativeId:T,mobile:t,nativeStyle:a,position:n,viewabilityTrackerSrc:i()(N,"firstParty"),impressionIframeSrc:i()(N,"thirdParty"),vehicle:d||l,zipCode:_,dma:E}),o.a.createElement(u.a,{lineItemId:C,siteServedCreativeId:T,mobile:t,nativeStyle:a,position:n,slotRenderEndListener:p,siteServedAdsUpdater:y,currentVehicle:d,dependedOnCurrentVehicle:h,customTargeting:I,noRefresh:f,refreshable:g}))}p.propTypes={nativeStyle:d.a.string.isRequired,creativeConfig:d.a.shape({}).isRequired,slotRenderEndListener:d.a.func.isRequired,position:d.a.string,mobile:d.a.bool,vehicle:c.b.Vehicle,currentVehicle:c.b.Vehicle,customTargeting:d.a.shape({}),dependedOnCurrentVehicle:d.a.bool,noRefresh:d.a.bool,refreshable:d.a.bool},p.defaultProps={position:"0",mobile:!1,vehicle:null,currentVehicle:null,customTargeting:{},dependedOnCurrentVehicle:!1,noRefresh:!1,refreshable:!1}},"./site-modules/shared/components/native-ad/utils/dfp-tracking.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return p});var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),i=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=t("../node_modules/react/index.js"),o=t.n(r),l=t("../node_modules/prop-types/index.js"),d=t.n(l),c=t("./site-modules/shared/components/ad-unit/ad-unit.jsx"),m=t("./site-modules/shared/components/ad-unit/ad-unit-prop-types.jsx"),u=t("./site-modules/shared/components/render-when-viewable/render-when-viewable.jsx");t("./site-modules/shared/components/native-ad/utils/dfp-tracking.scss");function p(e){const a=e.lineItemId,t=e.siteServedCreativeId,r=e.mobile,l=e.nativeStyle,d=e.sect8,m=e.noRefresh,p=e.refreshable,h=e.refreshZones,f=e.customTargeting,g=e.slotRenderEndListener,b=e.siteServedAdsUpdater,y=Object(i.a)(e,["lineItemId","siteServedCreativeId","mobile","nativeStyle","sect8","noRefresh","refreshable","refreshZones","customTargeting","slotRenderEndListener","siteServedAdsUpdater"]),_=Object(n.a)({cpaid:a,cpacid:t,sect8:d},f),E=r?{adName:"mcompanion",xs:!0,sm:!0}:{adName:"companion",md:!0,lg:!0,xl:!0};return o.a.createElement(u.a,null,o.a.createElement("div",{className:"dfp-tracking"},o.a.createElement(c.AdUnit,Object(s.a)({position:"0",customTargeting:_,refreshable:p,isVisible:!1,showLabel:!1,renderWhenViewable:!1,nativeStyle:l,refreshZones:h,noRefresh:m,refreshDisabled:!0,slotRenderEndListener:g,siteServedAdsUpdater:b},E,y))))}p.propTypes={lineItemId:d.a.string.isRequired,siteServedCreativeId:d.a.string,mobile:d.a.bool,nativeStyle:d.a.string,sect8:d.a.string,noRefresh:d.a.bool,refreshable:d.a.bool,refreshZones:d.a.arrayOf(d.a.string),position:d.a.string,customTargeting:m.d.customTargeting,slotRenderEndListener:d.a.func,siteServedAdsUpdater:d.a.number},p.defaultProps={siteServedCreativeId:"",mobile:!1,nativeStyle:"",sect8:"",noRefresh:!1,refreshable:!1,refreshZones:[],position:"",customTargeting:m.c.customTargeting,slotRenderEndListener:null,siteServedAdsUpdater:0}},"./site-modules/shared/components/native-ad/utils/dfp-tracking.scss":function(e,a,t){},"./site-modules/shared/components/native-ad/utils/get-ad-targeting.js":function(e,a,t){"use strict";t.d(a,"b",function(){return p}),t.d(a,"a",function(){return h}),t.d(a,"c",function(){return g});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/lodash/sample.js"),i=t.n(n),r=t("../node_modules/lodash/get.js"),o=t.n(r),l=t("./site-modules/shared/utils/nice-name.js"),d=t("./site-modules/shared/constants/inventory/srp-page-types.js"),c=t("./actions/vehicle.js"),m=t("./site-modules/shared/utils/inventory/search-filter.js"),u=t("./site-modules/shared/constants/allowed-inventory-request-params.js");const p=e=>{const a=e||{},t=a.make,s=void 0===t?{}:t,n=a.model,i=void 0===n?{}:n;return s.niceName&&i.niceName?d.a:s.niceName?d.b:d.d},h=e=>e===d.b?d.c:{},f=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const n=e||{};if((arguments.length>3?arguments[3]:void 0)===d.b){const e=((e,a)=>{if(a.length>0){const e=a[0],t=o()(e,"vehicleInfo.styleInfo.model","");return{niceName:Object(l.c)(t)}}const t=i()(e);return{niceName:o()(t,"value","")}})(a,t);return Object(s.a)({},n,{model:e})}return null};function g(e,a){const t=o()(e,"inventories.results",[]),s=o()(e,"attributes.vehicle",{}),n=Object(c.c)(Object(m.j)(a,t),s),i=o()(e,"facets",[]),r=o()(Object(m.d)(i,u.MODEL),"values",[]),l=p(n);return{vehiclePageData:n,vehicleAdData:f(n,r,t,l)}}},"./site-modules/shared/components/native-ad/utils/offer-incentives-ad-utils.js":function(e,a,t){"use strict";t.d(a,"b",function(){return l}),t.d(a,"a",function(){return d}),t.d(a,"c",function(){return c});var s=t("../node_modules/lodash/get.js"),n=t.n(s),i=t("./utils/plural.js"),r=t("./site-modules/shared/components/native-ad/utils/utils.js"),o=t("./site-modules/shared/utils/incentives.js");function l(e){const a=Object(o.b)(n()(e,"financing",[])).displayIncentives.filter(e=>"LOW_APR"===e.type),t=Object(o.b)(n()(e,"bonus",[])).displayIncentives.filter(e=>"CUSTOMER_CASH"===e.contentType);return a.concat(t)}function d(e,a,t,s,n,o,l){if(e)return Object(r.a)(e,t);if(!a)return n;const d=o&&a>o?l:a;return s!==t?`${d} ${Object(i.b)("Offer",d)} Nearby`:`${d} ${Object(i.b)("Offer",d)} Near ${t}`}function c(e,a,t,s,n,r,o,l){if(a)return e;if(!t)return r;const d=o&&t>o?l:t;return n!==s?`${d}-${Object(i.b)("offer",d)}-nearby`:`${d}-${Object(i.b)("offer",d)}`}},"./site-modules/shared/components/native-ad/utils/site-served-companion-tracker.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return p});var s=t("../node_modules/lodash/isEmpty.js"),n=t.n(s),i=t("../node_modules/lodash/get.js"),r=t.n(i),o=t("../node_modules/react/index.js"),l=t.n(o),d=t("../node_modules/prop-types/index.js"),c=t.n(d),m=t("./site-modules/shared/components/native-ad/utils/utils.js"),u=t("./site-modules/shared/components/render-when-viewable/render-when-viewable.jsx");class p extends o.Component{constructor(){super(...arguments),this.state={viewabilityTracked:!1},this.dispatchViewabilityTracker=(()=>{if(!this.state.viewabilityTracked&&null!==this.props.viewabilityTrackerSrc){const e=this.props,a=e.nativeStyle,t=e.position;this.setState({viewabilityTracked:!0},()=>{let e=Object(m.l)(this.props.viewabilityTrackerSrc,"%%PATTERN:nativestyle%%",a);e=Object(m.l)(e,"%%PATTERN:pos%%",t);const s=document.createElement("script");s.src=e,s.async=!0;const n=document.getElementById(`${a}-${t}-viewability`);n&&n.appendChild(s)})}})}componentDidMount(){this.dispatchViewabilityTracker()}render(){const e=this.props,a=e.mobile,t=e.nativeStyle,s=e.position,i=e.lineItemId,o=e.siteServedCreativeId,d=e.impressionIframeSrc,c=e.vehicle,m=e.zipCode,p=a?"mobile":"wired",h=`${t}-${s}-${p}`,f=`${t}-${s}-viewability`,g=`${t}-${s}-${p}-${o}-${i}`;let b=`?dma=${e.dma}&zip=${m}`;if(!n()(c)){b+=`&year=${r()(c,"modelYear.year","")}&make=${r()(c,"make.adTargetId",r()(c,"make.niceName",""))}&model=${r()(c,"model.adTargetId",r()(c,"model.niceName",""))}&sub=${r()(c,"subModel.adTargetId","")}&pub=${r()(c,"publicationState","")}`}return l.a.createElement(u.a,null,l.a.createElement("div",{"data-companion":"dfp-tracking-disabled site-served-viewability-enabled","data-ad-type":h,"data-line-item":i,"data-creative-id":o,id:f,style:{display:"none"}},d&&l.a.createElement("iframe",{title:g,src:d+b,width:0,height:0,border:0})))}}p.propTypes={position:c.a.string,lineItemId:c.a.string,siteServedCreativeId:c.a.string,mobile:c.a.bool,nativeStyle:c.a.string,viewabilityTrackerSrc:c.a.string,impressionIframeSrc:c.a.string,vehicle:c.a.shape({}),zipCode:c.a.string,dma:c.a.string},p.defaultProps={position:"0",lineItemId:"",siteServedCreativeId:"",mobile:!1,nativeStyle:"",viewabilityTrackerSrc:null,impressionIframeSrc:null,vehicle:{},zipCode:"",dma:""}},"./site-modules/shared/components/price-checker-edmunds-advice/price-checker-edmunds-advice.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return f});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/classnames/index.js"),l=t.n(o),d=t("./site-modules/shared/utils/price-utils.js"),c=t("./site-modules/shared/components/deal/deal-constants.js"),m=t("./site-modules/shared/utils/inventory-utils/is-texas.js");t("./site-modules/shared/components/price-checker-edmunds-advice/price-checker-edmunds-advice.scss");const u=[c.r,c.q,c.p,c.s,c.a];function p(e,a,t){return e>a&&a?n.a.createElement("span",null,"is only ",n.a.createElement("b",null,Object(d.a)(e-a)," above")):e<a&&a?n.a.createElement("span",null,"is ",n.a.createElement("b",null,Object(d.a)(a-e)," below")):a||t!==c.r?a||t!==c.q?a||t!==c.p?"is the same as":n.a.createElement("span",null,"is ",n.a.createElement("b",null,"around")):n.a.createElement("span",null,"is ",n.a.createElement("b",null,"below")):n.a.createElement("span",null,"is ",n.a.createElement("b",null,"well below"))}const h=(e,a)=>e===a?"Dealer":"";function f(e){let a=e.bestDealPrice,t=e.inputValue,i=e.dealType,r=e.dealerPrice,o=e.showAdvice,f=e.isUsed,g=e.stateCode,b=e.wrapperClassname;const y=i.charAt(0).toUpperCase()+i.slice(1);if(!y||!u.includes(y)||!r&&!t&&!o)return null;const _=Object(m.a)(g),E=_?"":n.a.createElement(s.Fragment,null," because the price ",p(t,a,y)," market"),v=f?n.a.createElement(s.Fragment,null,"Edmunds considers this used ",_&&y!==c.p?"car":"vehicle"," a"," ",n.a.createElement("span",{className:l()(i)},n.a.createElement("b",null,y," Price")),y===c.p?" because the price is within the market average when compared to similar vehicles in your region":E,".",y===c.p?"":` ${c.l.used[y]} of the used inventory currently listed on Edmunds is a ${i} price.`," ","We\u2019ve analyzed thousands of similar transactions and listings to rate these deals."):n.a.createElement(s.Fragment,null,"Edmunds considers this a"," ",n.a.createElement("span",{className:l()(i)},n.a.createElement("b",null,y," Price"))," ","because the ",h(t,r)," Price",!!a&&` (${Object(d.a)(t)})`," ",p(t,a,y)," ",n.a.createElement("b",null,"the Edmunds Suggested Price"),!!a&&` of ${Object(d.a)(a)}`,". ",c.l.new[y]," of the new inventory currently listed on Edmunds is a ",i," price. We\u2019ve analyzed thousands of similar transactions and listings to rate these deals.");return n.a.createElement("div",{className:l()(i,b,"text-gray-darker pl-0_75 mx-auto mt-1_25 mt-md-1_5")},y===c.s?n.a.createElement(s.Fragment,null,"Edmunds considers this ",f?"used vehicle":""," a"," ",n.a.createElement("span",{className:"high"},n.a.createElement("b",null,"High Price"))," ","because the price is"," ",f?n.a.createElement("b",null,"above the average list price "):n.a.createElement("b",null,"well above the Edmunds Suggested Price")," ",f?"for similar vehicles in your region":"",". We\u2019ve analyzed thousands of similar transactions and listings to rate these deals."):v)}f.propTypes={bestDealPrice:r.a.number,inputValue:r.a.number,dealType:r.a.string,dealerPrice:r.a.number,showAdvice:r.a.bool,isUsed:r.a.bool,stateCode:r.a.string,wrapperClassname:r.a.string},f.defaultProps={bestDealPrice:null,inputValue:null,dealType:"",dealerPrice:null,showAdvice:!1,isUsed:!1,stateCode:"",wrapperClassname:"price-checker-advice"}},"./site-modules/shared/components/price-checker-edmunds-advice/price-checker-edmunds-advice.scss":function(e,a,t){},"./site-modules/shared/components/price-checker/price-checker-header/price-checker-header.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return c});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/classnames/index.js"),l=t.n(o),d=t("./utils/image-helpers.js");t("./site-modules/shared/components/price-checker/price-checker-header/price-checker-header.scss");function c(e){let a=e.imageHeight,t=e.textClassName,s=e.lazyLoadImage;return n.a.createElement("div",{className:"price-checker-header"},n.a.createElement("img",{className:"logo pr-0_75",height:a,alt:"Edmunds logo",src:Object(d.q)("/edmunds-logo-and-text-generic.png"),loading:s?"lazy":void 0}),n.a.createElement("span",{className:l()("align-middle pl-0_5",t)},"PRICE CHECKER",n.a.createElement("sup",null,"\u2122")))}c.propTypes={imageHeight:r.a.number,textClassName:r.a.string,lazyLoadImage:r.a.bool},c.defaultProps={imageHeight:20,textClassName:"header-5-inline",lazyLoadImage:!1}},"./site-modules/shared/components/price-checker/price-checker-header/price-checker-header.scss":function(e,a,t){},"./site-modules/shared/components/price-checker/price-checker-promo-chart/pricing-chart.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return c});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/classnames/index.js"),l=t.n(o),d=t("./site-modules/shared/constants/price-checker.js");const c=e=>{let a=e.isMobile,t=e.dataPoints,i=e.columnWidth,r=e.columnPadding,o=e.yRate,c=e.yStartingPoint,m=e.strokeLength,u=e.customLabels,p=e.customPriceLabels,h=e.selectedPriceIndex,f=e.gradientConfig,g=e.animationBegin,b=e.hasAnimation,y=e.arrowSize,_=e.idPrefix,E=e.isSample,v=e.hideNoIndexArrow,C=e.customChartHeight,T=e.dealerPriceIndex,N=e.dealerPrice,j=e.showPolyline,I=e.isPromo,O=e.customLabelClassName;const k=a?"mobile":"desktop",P=i[k],x=P*t.length+r*(t.length-1)+(v?0:8),S=P+r,L=c+(4*m[k]+16+16),A=null!==h,D=A&&f&&f.find(e=>{let a=e.startPos,t=e.endPos;return h>=a&&h<t}),w=y/2,R=h*S+P/2,M=4*i[k],V=I?M:x/2,F=R<V?5:-5,U=R<V?-5:5,$=S*t.length;return n.a.createElement("div",{className:"pricing-chart text-center"},n.a.createElement("svg",{width:"100%",viewBox:`0 0 ${x} ${C||L}`,style:{maxWidth:x},xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Pricing chart",id:`${_}pricing-chart-svg`},n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:`${_}graph-gradient`,x1:"100%",y1:"0%",x2:0,y2:0,gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{offset:"0%",style:{stopColor:"rgba(255, 130, 24, 0.4)"}}),n.a.createElement("stop",{offset:"37%",style:{stopColor:"rgba(0, 194, 118, 0.4)"}}),n.a.createElement("stop",{offset:"68%",style:{stopColor:"rgba(0, 152, 194, 0.4)"}}),n.a.createElement("stop",{offset:"100%",style:{stopColor:"rgba(0, 126, 229, 0.4)"}})),n.a.createElement("filter",{id:`${_}arrow-shadow`},n.a.createElement("feDropShadow",{dx:0,dy:0,stdDeviation:1,floodColor:"black",floodOpacity:.5}))),n.a.createElement("line",{x1:"-1%",y1:c,x2:"101%",y2:c,stroke:"#e6e6e6"}),n.a.createElement("g",{fill:`url(#${_}graph-gradient)`},t.map((e,a)=>{const t=a*S,i=e*o,r=d.b.DATA_POINTS.WITHOUT_DATA[a]*o,l=d.b.DATA_POINTS.WITH_DATA[a]*o;let u=null;const h=p.find(e=>{return e.index===a});if(h){const e=h.end?t+P-1:t,a=h.label?c+4*m[k]:c+m[k];u=n.a.createElement("g",null,n.a.createElement("line",{x1:e,y1:c,x2:e,y2:a,stroke:"#cccccc"}),!!h.label&&n.a.createElement("text",{fill:"#555555",textAnchor:"middle",dominantBaseline:"middle",x:e,y:a+16,className:"heading-6"},h.label))}const f=`a2,2 0 0 0 -2,-2 h -${P-4} a2,2 0 0 0 -2,2`;if(T===a&&j&&N){const e=t+P/2;u=n.a.createElement(s.Fragment,null,u,n.a.createElement("g",null,n.a.createElement("polyline",{points:`${e},${c} ${e-6},${c+12} ${e+6},${c+12} ${e},${c}`,fill:"#007ee5",stroke:"#007ee5"})))}return n.a.createElement("g",{key:t},n.a.createElement("path",{width:P,height:i,x:t,y:i,d:`M ${t},${c} h ${P} v -${b?0:i} ${f} Z`},b&&n.a.createElement("animate",{className:"price-offer-graph-animation",attributeName:"d",values:`M ${t},${c} h ${P} v -0 ${f} Z; M ${t},${c} h ${P} v -${r} ${f} Z; M ${t},${c} h ${P} v -${l} ${f} Z; M ${t},${c} h ${P} v -${l} ${f} Z`,keyTimes:"0; 0.45; 0.75; 1",repeatCount:1,fill:"freeze",dur:"3000ms",begin:g})),u)})),!!D&&n.a.createElement("g",null,n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:`${_}gradient`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},D.colors.map((e,a)=>{let t=e.offset,s=e.stopColor,i=e.stopOpacity;return n.a.createElement("stop",{key:`color-${a}`,offset:t,stopColor:s,stopOpacity:i})}))),n.a.createElement("polygon",{points:`${D.startPos*S},${c} ${D.startPos*S},0 ${D.endPos*S},0 ${D.endPos*S},${c}`,fill:`url(#${_}gradient)`})),A?n.a.createElement("g",null,R!==V?n.a.createElement("path",{fill:"none",stroke:"#999999",d:`M ${R} ${c} L ${R} 20 Q ${R} 15 ${R+F} 15 L ${V+U} 15 Q ${V} 15 ${V} 10 L ${V} 0`}):n.a.createElement("polyline",{points:`${R},${c} ${R},15 ${V},15 ${V},0`,fill:"none",stroke:"#999999"}),n.a.createElement("polygon",{points:`${R},${c} ${R+w},${c-y} ${R-w},${c-y}`,fill:"#ffffff",stroke:"#999999",strokeWidth:"0.5",filter:`url(#${_}arrow-shadow)`})):!v&&n.a.createElement("g",null,n.a.createElement("polygon",{points:`${$},${c} ${$+w},${c-y} ${$-w},${c-y}`,fill:"#ffffff",stroke:"#999999",strokeWidth:"0.5",filter:`url(#${_}arrow-shadow)`})),u.map(e=>{let a=e.label,t=e.position;return n.a.createElement("text",{key:a,fill:"#555555",textAnchor:"middle",dominantBaseline:"middle",x:`${t}%`,y:c+2.5*m[k],className:l()("medium text-lowercase",O)},a)}),E&&n.a.createElement("text",{fill:"#555555",textAnchor:"middle",dominantBaseline:"middle",x:"45%",y:"55%",className:"sample-text font-weight-bold"},"Sample")))};c.propTypes={isMobile:r.a.bool,dataPoints:r.a.arrayOf(r.a.number),columnWidth:r.a.shape({mobile:r.a.number,desktop:r.a.number}),columnPadding:r.a.number,strokeLength:r.a.shape({mobile:r.a.number,desktop:r.a.number}),yRate:r.a.number,yStartingPoint:r.a.number,arrowSize:r.a.number,customLabels:r.a.arrayOf(r.a.shape({label:r.a.string,position:r.a.number})),customPriceLabels:r.a.arrayOf(r.a.shape({label:r.a.string,index:r.a.number,end:r.a.bool})),gradientConfig:r.a.arrayOf(r.a.shape({startPos:r.a.number,endPos:r.a.number,colors:r.a.arrayOf(r.a.shape({offset:r.a.string,stopColor:r.a.string,stopOpacity:r.a.string}))})),selectedPriceIndex:r.a.number,animationBegin:r.a.oneOfType([r.a.string,r.a.number]),hasAnimation:r.a.bool,idPrefix:r.a.string,isSample:r.a.bool,hideNoIndexArrow:r.a.bool,customChartHeight:r.a.number,dealerPriceIndex:r.a.number,dealerPrice:r.a.number,showPolyline:r.a.bool,isPromo:r.a.bool,customLabelClassName:r.a.string},c.defaultProps={isMobile:!1,dataPoints:[1,2,4,6,7,9,12,14,11,12,14,11,12,8,7,6,6,5,10],columnWidth:{mobile:16,desktop:27},columnPadding:3,strokeLength:{desktop:17,mobile:17},yRate:5,yStartingPoint:150,arrowSize:12,customLabels:[],customPriceLabels:[],gradientConfig:null,selectedPriceIndex:null,animationBegin:"indefinite",hasAnimation:!1,idPrefix:"",isSample:!1,hideNoIndexArrow:!0,customChartHeight:null,dealerPriceIndex:null,dealerPrice:null,showPolyline:!1,isPromo:!1,customLabelClassName:""}},"./site-modules/shared/components/profile/card-compare-select/card-compare-select.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return T});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/lodash/get.js"),l=t.n(o),d=t("../node_modules/lodash/isEqual.js"),c=t.n(d),m=t("../node_modules/classnames/index.js"),u=t.n(m),p=t("./site-modules/shared/components/checkbox/checkbox.jsx"),h=t("./utils/image-helpers.js"),f=t("./utils/string-utils.js"),g=t("./site-modules/shared/constants/images.js"),b=t("./site-modules/shared/components/deal/deal-constants.js"),y=t("./site-modules/shared/components/profile/price-drop-alerts/alerts-utils.jsx"),_=t("./site-modules/shared/utils/price-utils.js"),E=t("./site-modules/shared/components/scroll-link/scroll-link.jsx"),v=t("./site-modules/shared/components/compare-vehicle-tray/compare-vehicle-tray.jsx");t("./site-modules/shared/components/profile/card-compare-select/card-compare-select.scss");const C=Object(h.q)(g.j);class T extends s.Component{constructor(){super(...arguments),this.state={isChecked:!1},this.handleOnChange=(e=>{const a=this.props,t=a.vinData,s=a.compareSelect,n=a.photoConfig,i=a.isSubmittedLead,r=t.vehicleInfo,o=t.vin,d=r.styleInfo,c=d.styleId,m=d.make,u=d.model,p=d.year,g=Object(y.f)(t,i).transparentPrice,E=Object(_.c)(g,b.o);let v=`${p} ${m} ${u}`,T=Object(f.e)(l()(r,"photo.defaultPhoto.large.url",""));if(n){const e=l()(n,"imageId",""),a=l()(n,"imageSource",h.d.MEDIA);v=l()(n,"altText",""),T=Object(h.k)(e,void 0,a)}const N={url:T||C,alt:v};s.onSelect(e,{id:o,vin:o,image:N,styleId:c,price:E})})}static getDerivedStateFromProps(e,a){const t=e.vinData,s=!!e.compareSelect.selectedCars.find(e=>e.vin===t.vin);return a.isChecked!==s?{isChecked:s}:null}shouldComponentUpdate(e,a){const t=this.props.compareSelect.selectedCars,s=e.compareSelect.selectedCars,n=this.state.isChecked;return!c()(t,s)||n!==a.isChecked}render(){const e=this.props,a=e.vinData,t=e.labelText,s=e.containerMarginClassName,i=e.customLabelClassName,r=e.isBottomSkipLink,o=e.compareSelect.selectedCars,l=this.state.isChecked,d=`compare-checkbox-${a.vin}`;return n.a.createElement("div",{className:"compare-select"},n.a.createElement(p.a,{id:d,labelText:t,containerClassName:u()("compare-checkbox d-inline-block text-gray-darker size-14 px-0_75 py-0_5",s),labelClassName:"compare-label",customLabelClassName:u()("rounded",i),textLabelClassName:"pl-1_5",onChange:this.handleOnChange,checked:l,autoComplete:"off","data-hidedelightedoninteraction":"true","data-tracking-id":"compare_cars_select","data-tracking-value":t},!!o.length&&n.a.createElement(E.a,{className:u()("skip-link p-0 ml-0_5 btn btn-link text-transform-none sr-only sr-only-focusable",{bottom:r}),to:v.a,noScroll:!0},"Skip to compare selected")))}}T.propTypes={vinData:r.a.shape({}).isRequired,compareSelect:r.a.shape({onSelect:r.a.func.isRequired,selectedCars:r.a.arrayOf(r.a.shape({id:r.a.string,image:r.a.shape({url:r.a.string,altText:r.a.string,description:r.a.string})})).isRequired}).isRequired,photoConfig:r.a.shape({}),labelText:r.a.string,containerMarginClassName:r.a.string,customLabelClassName:r.a.string,isSubmittedLead:r.a.bool,isBottomSkipLink:r.a.bool},T.defaultProps={photoConfig:null,labelText:"Compare",containerMarginClassName:"",customLabelClassName:"",isSubmittedLead:!1,isBottomSkipLink:!1}},"./site-modules/shared/components/profile/card-compare-select/card-compare-select.scss":function(e,a,t){},"./site-modules/shared/components/profile/insider-empty-state/insider-empty-state.scss":function(e,a,t){},"./site-modules/shared/components/profile/price-drop-alerts-list/price-drop-alerts-list.scss":function(e,a,t){},"./site-modules/shared/components/profile/price-drop-alerts-popover/price-drop-alerts-popover.scss":function(e,a,t){},"./site-modules/shared/components/profile/price-drop-alerts/price-drop-alerts.scss":function(e,a,t){},"./site-modules/shared/components/profile/sign-up/join-insider-sign-up.scss":function(e,a,t){},"./site-modules/shared/components/profile/smart-sign/constants.js":function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return i}),t.d(a,"c",function(){return r}),t.d(a,"d",function(){return o});var s=t("./site-modules/shared/components/profile/profile-screen.js");const n={SIGN_IN:"sign-in",SIGN_UP:"sign-up",EMAIL_LINK:"email-link",SOCIAL_ONLY:"social-only"},i={[s.a.SIGN_UP_MODAL]:n.SIGN_UP,[s.a.SIGN_IN_MODAL]:n.SIGN_IN},r={code:"custom/smart-sign-social-only"},o="SMART_SIGN_VALID_EMAIL_EVENT"},"./site-modules/shared/components/rating-stars/rating-stars.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return u});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/classnames/index.js"),l=t.n(o),d=t("../node_modules/lodash/round.js"),c=t.n(d);t("./site-modules/shared/components/rating-stars/rating-stars.scss");const m=5;function u(e){let a=e.rating,t=e.className,s=e.starClass,i=e.hideForScreenReader;const r=c()(a,2);return n.a.createElement("span",{className:l()("rating-stars",t)},!i&&n.a.createElement("span",{className:"sr-only"},`${r} out of ${m} stars`),function(e){const a=[];for(let t=0;t<m;t+=1){const s=e-t;s>=1?a.push("icon-star-full"):s>0&&s<1?a.push("icon-star-empty2"):a.push("icon-star-empty")}return a}(r).map((e,a)=>n.a.createElement("span",{key:a,className:l()("rating-star",e,s)})))}u.propTypes={hideForScreenReader:r.a.bool,rating:r.a.number,className:r.a.string,starClass:r.a.string},u.defaultProps={hideForScreenReader:!1,rating:0,className:"",starClass:""}},"./site-modules/shared/components/rating-stars/rating-stars.scss":function(e,a,t){},"./site-modules/shared/components/scroll-link/scroll-element.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return d});var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o);function d(e){let a=e.children,t=Object(n.a)(e,["children"]);return r.a.createElement("div",Object(s.a)({tabIndex:-1,name:t.id},t),a)}d.propTypes={id:l.a.string.isRequired}},"./site-modules/shared/components/scroll-link/scroll-link.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return h});var s=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),r=t("../node_modules/lodash/omit.js"),o=t.n(r),l=t("../node_modules/react/index.js"),d=t.n(l),c=t("../node_modules/prop-types/index.js"),m=t.n(c),u=t("../node_modules/react-scroll/lib/modules/index.js");const p={duration:t("./site-modules/shared/constants/sub-navigation.js").b,offset:0,smooth:!0,isDynamic:!0};class h extends l.Component{constructor(){super(...arguments),this.handleClick=(e=>{e.preventDefault(),this.scrollToHref()})}scrollToHref(){const e=this.props,a=e.scrollConfig,t=e.to,s=e.noScroll,n=document.getElementById(t);n&&(s||u.scroller.scrollTo(t,Object(i.a)({},p,a)),n.focus())}render(){const e=this.props,a=e.children,t=e.to,i=Object(n.a)(e,["children","to"]),r=o()(i,["scrollConfig","noScroll"]);return d.a.createElement("a",Object(s.a)({href:`#${t}`},r,{onClick:this.handleClick}),a)}}h.propTypes={to:m.a.string.isRequired,scrollConfig:m.a.shape({duration:m.a.number,offset:m.a.number,smooth:m.a.bool,isDynamic:m.a.bool}),noScroll:m.a.bool},h.defaultProps={scrollConfig:null,noScroll:!1}},"./site-modules/shared/components/select/select.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return N}),t.d(a,"c",function(){return j}),t.d(a,"b",function(){return I});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("../node_modules/@babel/runtime/helpers/esm/extends.js"),i=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=(t("../node_modules/core-js/modules/es6.regexp.to-string.js"),t("../node_modules/lodash/flatten.js")),o=t.n(r),l=t("../node_modules/lodash/get.js"),d=t.n(l),c=t("../node_modules/lodash/map.js"),m=t.n(c),u=t("../node_modules/react/index.js"),p=t.n(u),h=t("../node_modules/prop-types/index.js"),f=t.n(h),g=t("../node_modules/reactstrap/lib/Label.js"),b=t.n(g),y=t("../node_modules/reactstrap/lib/Jumbotron.js"),_=t.n(y),E=t("./utils/seed-randomizers.js"),v=t("../node_modules/classnames/index.js"),C=t.n(v),T=t("./site-modules/shared/components/spinner/spinner.jsx");t("./site-modules/shared/components/select/select.scss");class N extends u.Component{constructor(){super(...arguments),this.onChange=(e=>{const a=this.props,t=a.options,s=a.valueKey,n=a.toggle,i=a.defaultValue,r=a.isFirstOptionDisabled,o=a.onChange,l=e&&e.target,d=l&&t&&t.find(e=>(e[s]||0===e[s])&&e[s].toString()===l.value.toString());d?o(d,e):n&&!r&&o(i,e)}),this.onChangeByCategory=(e=>{const a=this.props,t=a.optionsGrouped,s=a.valueKey,n=e.target,i=n.selectedIndex,r=n.options,l=d()(r,`[${i}].value`,""),c=o()(Object.values(t)).find(e=>e[s].toString()===l);this.props.onChange(c)}),this.getOptionList=((e,a)=>{let t=a.optionClassName,s=a.valueKey,n=a.labelKey;return e.map((e,a)=>p.a.createElement("option",{key:a,className:t,value:e[s],disabled:e.disabled},e[n]))}),this.getOptionByCategory=(e=>{const a=this.props,t=a.optionClassName,s=a.valueKey,n=a.labelKey;return m()(e,(e,a)=>e.length?p.a.createElement("optgroup",{label:a,className:t,key:a},this.getOptionList(e,{optionClassName:t,valueKey:s,labelKey:n})):null)}),this.getPreSavedOption=(()=>{const e=this.props,a=e.optionClassName,t=e.preSavedValue;return p.a.createElement("option",{className:a,value:t,disabled:!1},t)})}get value(){return this.props.value||this.props.defaultValue}render(){const e=this.props,a=e.name,t=e.toggle,s=e.isFirstOptionDisabled,r=e.options,o=e.optionsGrouped,l=e.valueKey,d=e.labelKey,c=e.value,m=e.preSavedValue,h=e.defaultValue,f=e.disabled,g=e.labelText,y=e.isLabelHidden,v=e.labelClassName,N=e.className,j=e.toggleClassName,I=e.optionClassName,O=e.inputClassName,k=e.hasOptionTruncate,P=(e.customArrowClasses,e.id),x=e.ariaDescribedBy,S=e.ariaInvalid,L=e.enableSpinner,A=Object(i.a)(e,["name","toggle","isFirstOptionDisabled","options","optionsGrouped","valueKey","labelKey","value","preSavedValue","defaultValue","disabled","labelText","isLabelHidden","labelClassName","className","toggleClassName","optionClassName","inputClassName","hasOptionTruncate","customArrowClasses","id","ariaDescribedBy","ariaInvalid","enableSpinner"]),D=P||`sel-${Object(E.c)()}`,w=!(!r||!r.length),R=!(!o||!Object.keys(o).length),M=L&&!w;let V=u.Fragment,F={};return M&&(V=_.a,F={tag:"div",className:"pos-r"}),p.a.createElement(u.Fragment,null,g&&!y&&p.a.createElement(b.a,{for:D,className:v},g),p.a.createElement(V,F,M&&p.a.createElement("div",{className:"select-spinner d-flex align-items-center"},p.a.createElement("span",{className:"input-content"},t),p.a.createElement(T.a,{color:"primary-darker",className:"d-inline-block ml-0_5",size:14})),p.a.createElement("select",Object(n.a)({},A,{id:D,name:a},g&&y?{"aria-label":g}:{},{className:C()(O||N,"text-left"),disabled:f||!(R||w)&&!m,value:c||m||h,onChange:R?this.onChangeByCategory:this.onChange,onFocus:this.props.onFocus},S&&x?{"aria-describedby":x,"aria-invalid":!0}:{}),t&&p.a.createElement("option",{className:j,disabled:s,value:h},t),!(R||w)&&m&&this.getPreSavedOption()||R&&this.getOptionByCategory(o)||w&&this.getOptionList(r,{valueKey:l,labelKey:d,optionClassName:I}),!k&&p.a.createElement("optgroup",{label:""}))))}}const j={id:f.a.string,name:f.a.string.isRequired,toggle:f.a.oneOfType([f.a.string,f.a.number]),isFirstOptionDisabled:f.a.bool,options:f.a.array,optionsGrouped:f.a.shape({}),valueKey:f.a.string,labelKey:f.a.string,value:f.a.oneOfType([f.a.string,f.a.number]),preSavedValue:f.a.oneOfType([f.a.string,f.a.number]),defaultValue:f.a.any,disabled:f.a.bool,onChange:f.a.func.isRequired,onFocus:f.a.func,labelText:f.a.oneOfType([f.a.string,f.a.node]),isLabelHidden:f.a.bool,labelClassName:f.a.string,className:f.a.string,toggleClassName:f.a.string,optionClassName:f.a.string,inputClassName:f.a.string,hasOptionTruncate:f.a.bool,"data-tracking-id":f.a.string,"data-tracking-value":f.a.string,"data-no-refresh":f.a.bool,ariaDescribedBy:f.a.string,ariaInvalid:f.a.bool,enableSpinner:f.a.bool},I={id:null,toggle:null,isFirstOptionDisabled:!0,options:[],optionsGrouped:{},valueKey:"value",labelKey:"label",value:"",preSavedValue:"",defaultValue:"",disabled:!1,onFocus:()=>{},isLabelHidden:!1,labelText:"",labelClassName:"",className:"",toggleClassName:"",optionClassName:"",inputClassName:"",hasOptionTruncate:!0,"data-tracking-id":null,"data-tracking-value":null,"data-no-refresh":!1,ariaDescribedBy:"",ariaInvalid:!1,enableSpinner:!1};N.propTypes=Object(s.a)({},j),N.defaultProps=Object(s.a)({},I)},"./site-modules/shared/components/select/select.scss":function(e,a,t){},"./site-modules/shared/components/spinner/spinner.scss":function(e,a,t){},"./site-modules/shared/components/sticky-banner/sticky-banner.scss":function(e,a,t){},"./site-modules/shared/components/upper-funnel/vehicle-image/vehicle-image.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return g});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("../node_modules/classnames/index.js"),l=t.n(o),d=t("../node_modules/lodash/get.js"),c=t.n(d),m=t("./utils/image-helpers.js"),u=t("./site-modules/shared/components/link/link.jsx"),p=t("./data/models/type-rankings.js"),h=t("./site-modules/shared/components/core-img/core-img.jsx"),f=t("./site-modules/shared/components/render-when-viewable/render-when-viewable.jsx");t("./site-modules/shared/components/upper-funnel/vehicle-image/vehicle-image.scss");function g(e){let a=e.imageClassName,t=e.imageWrapperClasses,s=e.modelYear,i=e.submodelSlug,r=e.coreLink,o=e.widthToFit,d=e.heightToFit,p=e.renderWhenViewable;const g=s.year,b=c()(s,"model.slug")||c()(s,"modelSlug"),y=c()(s,"model.name")||c()(s,"modelName"),_=c()(s,"model.make.name")||c()(s,"makeName"),E={make:{slug:c()(s,"model.make.slug")||c()(s,"makeSlug")},model:{slug:b},submodels:{slug:i},year:g},v=Object(m.n)(E,o,d),C=`${g} ${_} ${y}`,T=n.a.createElement(h.a,{className:l()("card-photo text-center mx-0 mx-md-auto",t),imageClassName:a,image:v,alt:C,title:C,source:"media",clickable:!1,enableOnError:!0,onErrorImage:h.b}),N=p?n.a.createElement(f.a,{verticalOffset:"50%",placeholder:n.a.createElement(h.d,{className:"text-center"})},T):T;return r?n.a.createElement(u.a,{to:r,rel:"nofollow",className:"vehicle-image-link d-flex d-md-block align-items-center","data-tracking-id":"veh_card_core_page_nav","data-tracking-value":"model_image","aria-label":C},N):N}g.propTypes={modelYear:p.b.ModelYear.isRequired,imageClassName:r.a.string,imageWrapperClasses:r.a.string,submodelSlug:r.a.string,coreLink:r.a.string,widthToFit:r.a.number,heightToFit:r.a.number,renderWhenViewable:r.a.bool},g.defaultProps={imageClassName:"",imageWrapperClasses:"",submodelSlug:null,coreLink:"",widthToFit:300,heightToFit:200,renderWhenViewable:!1}},"./site-modules/shared/components/upper-funnel/vehicle-image/vehicle-image.scss":function(e,a,t){},"./site-modules/shared/components/vdp-pricing-chart/vdp-pricing-chart.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return f});var s=t("../node_modules/lodash/get.js"),n=t.n(s),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("./data/models/inventory.js"),c=t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table-price-chart.jsx"),m=t("./site-modules/shared/components/car-buying/vehicle-loan-incentives/vehicle-loan-incentives.jsx"),u=t("./site-modules/shared/components/price-checker-edmunds-advice/price-checker-edmunds-advice.jsx"),p=t("./site-modules/shared/utils/price-checker.js");t("./site-modules/shared/components/vdp-pricing-chart/vdp-pricing-chart.scss");class h extends i.Component{constructor(e){super(e),this.getDealerPrice=(()=>{const e=this.props,a=e.vehicle;return e.isUsed?n()(a,"prices.displayPrice",0):n()(a,"computedDisplayInfo.transparentPricingCompliance.guaranteedPrice",0)}),this.handleSliderMoveHoverRaise=(e=>{const a=n()(e,"dealType",""),t=n()(e,"inputValue","");this.setState({inputValue:t,selectedDealType:a,showAdvice:!0})});const a=this.props.vehicle,t=this.getDealerPrice(),s=n()(a,"computedDisplayInfo.priceValidation.dealType","").toLowerCase();this.state={selectedDealType:"above_market"===s?"high":s,inputValue:t,showAdvice:!1}}render(){const e=this.props,a=e.vehicle,t=e.dealItems,s=e.isPurchase,i=e.isMobile,o=e.skipWidgetViewTracking,l=e.isUsed,d=e.withMonthlyPayments,m=e.creativeId,h=this.state,f=h.selectedDealType,g=h.inputValue,b=h.showAdvice,y=n()(a,"prices.displayPrice",0),_=l?n()(a,"computedDisplayInfo.priceValidation.listPriceEstimate",0):n()(a,"computedDisplayInfo.transparentPricingCompliance.bestDealPrice",0),E=this.getDealerPrice(),v=n()(a,"dealerInfo.address.stateCode","");return r.a.createElement("div",{className:"vdp-pricing-chart"},r.a.createElement(c.a,{onSliderMove:this.handleSliderMoveHoverRaise,dealItems:t,tmvData:Object(p.g)({dealItems:t,isPurchase:s}),selectedDealType:f,isMobile:i,displayPrice:y,isPurchase:s,isUsed:l,skipWidgetViewTracking:o,withMonthlyPayments:d,creativeId:m,dealerPrice:E,noDealCheckAnimation:!0,isVDPPriceChart:!0}),r.a.createElement(u.a,{inputValue:Number(g),bestDealPrice:_,dealType:f,dealerPrice:E,showAdvice:b,isUsed:l,stateCode:v}))}}h.propTypes={vehicle:l.a.oneOfType([d.b.InventoryVin,l.a.shape({prices:l.a.shape({displayPrice:l.a.number})})]).isRequired,dealItems:l.a.shape({[l.a.string]:l.a.arrayOf(l.a.shape({}))}),creativeId:l.a.string,isPurchase:l.a.bool,isMobile:l.a.bool,withMonthlyPayments:l.a.bool,skipWidgetViewTracking:l.a.bool,isUsed:l.a.bool},h.defaultProps={dealItems:{},isPurchase:!1,isMobile:!1,withMonthlyPayments:!1,skipWidgetViewTracking:!1,isUsed:!1,creativeId:null};const f=Object(m.a)(h)},"./site-modules/shared/components/vdp-pricing-chart/vdp-pricing-chart.scss":function(e,a,t){},"./site-modules/shared/components/wisdom-of-the-crowd/dealer-price-details/dealer-price-details.scss":function(e,a,t){},"./site-modules/shared/constants/car-buying/car-buying-events.js":function(e,a,t){"use strict";t.d(a,"a",function(){return s});const s={CONVERSION:"car_buying.conversion",PAGE_LOAD:"car_buying.page_load",LIST:"car_buying.list",SAVE_VEHICLE:"car_buying.save_vehicle",CARCODE_LOADED:"car_buying.carcode_loaded",ZIP_CHANGE:"car_buying.zip_change",APPRAISAL_MANUALLY_CHANGE:"car_buying.appraizal_manually_change",CHANGE_DELIVERY_DATE_TIME:"car_buying.change_delivery_date_time",CHECK_DELIVERY_OPTION:"car_buying.check_delivery_option",DEALER_OFFERS_HOME_DELIVERY_ACTION:"car_buying.dealer_offers_home_delivery",REQUEST_HOME_DELIVERY_ACTION:"car_buying.request_home_delivery",OPEN_CARCODE_CHAT:"car_buying.open_carcode_chat",TOGGLE_DETAILS:"car_buying.toggle_details",SLIDER_MOVE:"car_buying.slider_move",LEAD_FORM_STEP_CHANGE:"car_buying.lead_form_step_change",VIN_CHANGE:"car_buying.vin_change",SMS_OPEN_TARGET:"car_buying.sms_open_target",DEAL_CHECK_CORE_ENTRY:"car_buying.deal_check_core_entry",PRICE_FOCUSED_DEAL_CHECK_VEHICLE_CARD:"car_buying.price_focused_deal_check_vehicle_card",PRE_QUALIFY_FORM_ENTRY:"car_buying.pre_qualify_form_entry",DEAL_CHECK_CALCULATOR_TOGGLE:"car_buying.deal_check_calculator_toggle",DEAL_CHECK_SMS_CHECKBOX:"deal_check_sms_checkbox",TED_ENTRY:"car_buying.ted_entry"}},"./site-modules/shared/constants/car-buying/pre-qualify-step-constants.js":function(e,a,t){"use strict";t.d(a,"d",function(){return n}),t.d(a,"k",function(){return i}),t.d(a,"i",function(){return r}),t.d(a,"a",function(){return l}),t.d(a,"j",function(){return d}),t.d(a,"f",function(){return c}),t.d(a,"c",function(){return u}),t.d(a,"g",function(){return p}),t.d(a,"e",function(){return h}),t.d(a,"b",function(){return f}),t.d(a,"h",function(){return g});var s=t("./site-modules/shared/components/form-validation/validation.js");const n={CREDIT_SCORE_CHECK:"Edmunds:carBuying:creditResponse"},i={userFirstName:{test:s.a.validateFirstName,errorText:e=>e?"A first name can only contan alphabetic characters and spaces.":"Please enter a first name."},userLastName:{test:s.a.validateName,errorText:e=>e?"A last name can only contan alphabetic characters, spaces and hyphen.":"Please enter a last name."},userZipCode:{test:s.a.validateZip,errorText:e=>e?"Please enter a 5-digit zip code.":"Please enter a zip code."},userAddress:{test:s.a.validateAddress,errorText:e=>e?"An address can only contain the following special characters: '#', '-', '.', '/'.":"Please enter an address."},userAdditionalAddress:{test:s.a.validateAddress,errorText:e=>e?"An address can only contain the following special characters: '#', '-', '.', '/'.":"Please enter an address.",isOptional:!0},userCity:{test:s.a.validateCity,errorText:e=>e?"A city can only contain the following special characters: '-'.":"Please enter a city."},userEmail:{test:s.a.validateEmail,errorText:e=>e?"Please enter an email address in format: yourname@example.com":"Please enter an email address."},userPhoneNumber:{test:s.a.validatePhoneNumber,errorText:e=>e?"Please enter a 10-digit phone number.":"Please enter a phone number."}},r={firstName:{id:"firstName",name:"userFirstName",label:"First name"},lastName:{id:"lastName",name:"userLastName",label:"Last name"},address:{id:"address",name:"userAddress",label:"Address"},additionalAddress:{id:"additionalAddress",name:"userAdditionalAddress",label:"Address 2"},city:{id:"city",name:"userCity",label:"City"},state:{id:"state",name:"userState",label:"State"},zipCode:{id:"zipCode",name:"userZipCode",label:"ZIP code",type:"tel"},email:{id:"email",name:"userEmail",label:"Email address",type:"email"},phoneNumber:{id:"phoneNumber",name:"userPhoneNumber",label:"Phone",type:"tel"}},o="Pre-qualifications are not lending decisions. They do not affect your credit score.",l="By clicking Submit, I authorize and direct Edmunds to (i) send my name and contact information to Open Dealer Exchange, LLC for purposes of its obtaining my credit information from a credit bureau to determine the payment options for which I may qualify, and (ii) send those payment options to the dealer offering this vehicle.",d='This information will not be shared with any dealer other than those you select. <a class="text-gray-darker text-underline" href="https://www.edmunds.com/about/privacy.html" target="_blank">Our collection and use of your personal information</a>',c='This information will not be shared with any dealer other than those you select. <a class="text-gray-darker text-underline" href="https://www.edmunds.com/about/privacy.html" target="_blank">Our collection and use of your personal information</a>',m='This information will not be shared with any dealer other than the one offering this vehicle. <a class="text-gray-darker text-underline" href="https://www.edmunds.com/about/privacy.html" target="_blank">Our collection and use of your personal information</a>',u=[{text:o},{text:l},{text:m,isHtmlContent:!0}],p=[{text:o},{text:"By clicking Submit, I authorize and direct Edmunds to (i) send my name and contact information to Open Dealer Exchange, LLC for purposes of its obtaining my credit information from a credit bureau to determine the payment options for which I may qualify, and (ii) send that personal and credit information to the dealer offering this vehicle."},{text:m,isHtmlContent:!0}],h={title:"See your pre-qualified payment with no effect on your credit score and send your deal terms to the dealer.",message:"It takes less than 60 seconds, is simple and secure. Fill in your information to see if you pre-qualify.",titleClassName:"mb-0_5 display-3 font-weight-bold let-space-0",messageClassName:"h5 font-weight-normal text-gray-darker"},f="DIGITAL_RETAIL_LEAD",g="PREQUALIFY"},"./site-modules/shared/constants/car-buying/steps.js":function(e,a,t){"use strict";t.d(a,"e",function(){return s}),t.d(a,"c",function(){return n}),t.d(a,"d",function(){return i}),t.d(a,"a",function(){return r}),t.d(a,"b",function(){return o});const s="payment",n=["credit","congratulations"],i="next-steps",r="congratulations",o="deal-check"},"./site-modules/shared/constants/cpo-constants.js":function(e,a,t){"use strict";t.d(a,"d",function(){return s}),t.d(a,"c",function(){return n}),t.d(a,"a",function(){return i}),t.d(a,"b",function(){return r});const s="-secondary",n="secondary-program",i='content["/makes-certified-program&skipDli=true"]',r="cpo.cpoEnhancedMakes"},"./site-modules/shared/constants/inventory/srp-page-types.js":function(e,a,t){"use strict";t.d(a,"d",function(){return s}),t.d(a,"b",function(){return n}),t.d(a,"a",function(){return i}),t.d(a,"e",function(){return r}),t.d(a,"c",function(){return o});const s="open-srp",n="make-srp",i="make-model-srp",r="used-srp",o={sect8:"makesrp"}},"./site-modules/shared/constants/key-values.js":function(e,a,t){"use strict";t.d(a,"a",function(){return s});const s="Enter"},"./site-modules/shared/constants/lead-form/lead-form-configs.js":function(e,a,t){"use strict";t.d(a,"d",function(){return s}),t.d(a,"b",function(){return n}),t.d(a,"c",function(){return r}),t.d(a,"a",function(){return h});const s="/lead/v1/submission/multi",n="/lead-business/v1/lead-targets",i="Buy",r={SINGLE:"single",PURCHASE:"purchase",QUICK_QUOTES:"quickQuotes",QUICK_QUOTES_JLR:"quickQuotesJLR",QUICK_QUOTES_JLR_CPO:"quickQuotesJLR_CPO",EXTERNAL_DATA:"external_data",MULTI:"multi",USED_MULTI:"usedMulti",NEW_LEASE_LOAN_DIGITAL_RETAIL:"newLeaseLoanDigitalRetail",NEW_LOAN_DIGITAL_RETAIL:"newLoanDigitalRetail",MODELYEAR_DLINV:"MODELYEAR_DLINV",STYLE_DLINV_CPL:"STYLE_DLINV_CPL",TRIM_DLINV_CPL:"TRIM_DLINV_CPL"},o="unified",l="quick_quotes",d="quick_quotes_cpl",c="configurator",m="transparent_pricing",u="embedded_mmy",p="digital_retail",h={UNIFIED:{strategy:r.SINGLE,leadType:i,submitLeadsType:"",formType:o,dataTrackingParent:{creativeId:"unified"}},UNIFIED_PURCHASE:{strategy:r.PURCHASE,leadType:i,submitLeadsType:"",formType:o,dataTrackingParent:{creativeId:"unified"}},QUICK_QUOTES:{strategy:r.QUICK_QUOTES,leadType:i,submitLeadsType:"",formType:l,dataTrackingParent:{creativeId:"quick-quotes"}},QUICK_QUOTES_CPL:{strategy:r.STYLE_DLINV_CPL,leadType:i,submitLeadsType:"",formType:d,dataTrackingParent:{creativeId:"quick-quotes-cpl"}},QUICK_QUOTES_TRIM_CPL:{strategy:r.TRIM_DLINV_CPL,leadType:i,submitLeadsType:"",formType:d,dataTrackingParent:{creativeId:"quick-quotes-cpl"}},QUICK_QUOTES_JLR:{strategy:r.QUICK_QUOTES_JLR,leadType:i,submitLeadsType:"",formType:l,dataTrackingParent:{creativeId:"dl_jlr_qq_base_lead_form"}},QUICK_QUOTES_JLR_CPO:{strategy:r.QUICK_QUOTES_JLR_CPO,leadType:i,submitLeadsType:"",formType:l,dataTrackingParent:{creativeId:"dl_jlr_qq_base_lead_form"}},CONFIGURATOR:{strategy:r.STYLE_DLINV_CPL,leadType:i,submitLeadsType:"",formType:c,dataTrackingParent:{creativeId:"configurator"}},TRANSPARENT_PRICING:{strategy:r.QUICK_QUOTES,leadType:i,submitLeadsType:"",formType:m,dataTrackingParent:{creativeId:"transparent"}},EMBEDDED_MMY:{strategy:r.MODELYEAR_DLINV,leadType:i,submitLeadsType:"",formType:u,dataTrackingParent:{creativeId:"embedded_mmy"}},DIGITAL_RETAIL_OFFER_TYPE:{strategy:r.SINGLE,leadType:i,submitLeadsType:"",formType:p,dataTrackingParent:{creativeId:"unified"}}}},"./site-modules/shared/constants/lead-form/lead-form-events.js":function(e,a,t){"use strict";t.d(a,"a",function(){return s});const s={DISPLAY:"leadform.display",LIST:"leadform.list",INPUT:"leadform.input",SELECT_STYLE:"leadform.select-style",SELECT_CARD:"leadform.select-card",ATTEMPT_SUBMIT:"leadform.attempt-submit",SUBMIT:"leadform.submit",THANK_YOU:"leadform.thank-you"}},"./site-modules/shared/constants/lead-form/lead-form-names.js":function(e,a,t){"use strict";var s=t("../node_modules/lodash/get.js"),n=t.n(s),i=t("../node_modules/react/index.js"),r=t.n(i),o=t("../node_modules/prop-types/index.js"),l=t.n(o),d=t("./site-modules/shared/components/lead-form/utils/merge.js"),c=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),m=t("./site-modules/shared/components/lead-form/unified-lead-form/constants/creative-ids.js"),u=t("./site-modules/shared/components/lead-form/unified-lead-form/unified-lead-form-async.jsx"),p=t("./site-modules/shared/components/lead-form/utils/utils.js"),h=t("./site-modules/shared/components/lead-form/lead-form-wrapper/lead-form-wrapper-methods.js"),f=t("./site-modules/shared/components/lead-form/utils/lead-form-creative-id.js");function g(e){let a=e.params,t=e.options;const s=a.vin,i=a.make,o=a.model,l=a.year,g=a.submodel,b=a.submodelIdentifier,y=a.zipCode,_=a.radius,E=a.pageNameLegacy,v=a.isNewVin,C=a.formName,T={leadType:c.f.INVENTORY,creativeId:Object(f.a)({isNewVin:v,pageNameLegacy:E,formName:C||m.b.SINGLE_BASE_VDP_FORM}),featureFlags:"isSkipPricePromise",leadFormConfig:{disableInventoryCard:!0,showInventoryMakeStockImage:!0,submitButtonText:"Get Dealer Offer",headerConfig:{subHeaderComponent:c.g.BASE,subHeader:{text:"Get Dealer Offer",explainingText:"Enter your contact information to get this dealer\u2019s offer before you head to the dealership!"}},options:{layoutOptions:{userInfoColSize:{xs:12,md:8}}}},processDataMethods:{postProcessMethods:[h.d],getLeadSubmissionInfo:p.h},thankYouConfig:{headerConfig:{subHeaderComponent:c.g.BASE,subHeader:{text:"You\u2019re All Set",explainingText:"Thanks for submitting your request for the {year} {make} {model}. Your information has been sent and the dealer should follow up shortly",insiderLinkOut:!0}}}},N=n()(t,"customConfig",{}),j={vin:s,make:i,model:o,year:l,submodel:g,submodelIdentifier:b,zipCode:y,radius:_,pathname:Object(p.m)(t),customConfig:Object(d.a)({},T,N)};return r.a.createElement(u.a,j)}g.propTypes={params:l.a.shape({}).isRequired,options:l.a.shape({}).isRequired};var b=t("./site-modules/shared/constants/lead-form/lead-form-configs.js");function y(e){let a=e.params,t=e.options;const s=a.vin,n=a.make,i=a.model,o=a.year,l=a.submodel,d=a.submodelIdentifier,g=a.zipCode,y=a.radius,_=a.styleId,E=a.pageNameLegacy,v=a.isNewVin,C={vin:s,make:n,model:i,year:o,submodel:l,submodelIdentifier:d,styleId:_,zipCode:g,radius:y,customConfig:{leadType:c.f.ANY,creativeId:Object(f.a)({isNewVin:v,pageNameLegacy:E,formName:m.b.MULTI_BASE_SRP_FORM}),apiParams:{leadTargetsSize:2},processDataMethods:{postProcessMethods:[h.d],getLeadSubmissionInfo:p.h},leadFormConfig:{cardSecondText:"Compare offer to these similar vehicles:",showInventoryMakeStockImage:!0,showDealerMakeStockImage:!1,userInfoPosition:t.isMobile?1:void 0,submitButtonText:"Get Dealers' Best Prices",headerConfig:{subHeaderComponent:c.g.BASE,subHeader:{text:"[savingsValue=0?Save with Edmunds:Save up to {savingsValue} with Edmunds]",explainingText:"**Did you know?** Most dealers can't post their lowest prices online. Use this form and you'll get their best price via email.  \n\n{minBestDealPrice=0?:Edmunds suggests you pay about {minBestDealPrice}, see if these dealers can beat it!}"}},showTeaserText:!1},thankYouConfig:{headerConfig:{subHeaderComponent:c.g.BASE,subHeader:{text:"You\u2019re All Set",explainingText:"Thanks for submitting your request for the {year} {make} {submodel}. Your information has been sent and the dealer should follow up shortly"}}}},pathname:Object(p.m)(t),config:b.a.UNIFIED_PURCHASE};return r.a.createElement(u.a,C)}y.propTypes={params:l.a.shape({}).isRequired,options:l.a.shape({}).isRequired};var _=t("./site-modules/shared/components/lead-form/unified-lead-form-pages/embedded-lead-form.jsx"),E=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),v=t("./data/api/api-client.js"),C=t("./site-modules/shared/utils/string.js"),T=t("./site-modules/shared/components/lead-form/unified-lead-form-pages/digital-retail-lead-form-utils.js"),N=t("./site-modules/shared/components/profile/attributes/deals.js"),j=t("./site-modules/shared/utils/car-buying/submit-lead-receipt-helper.js");function I(e){let a=e.params,t=e.options;const s=a.vin,i=a.make,o=a.model,l=a.year,g=a.submodel,y=a.submodelIdentifier,_=a.zipCode,I=a.radius,O=a.isThankYouLeadFormAvailable,k=a.pageNameLegacy,P=a.isNewVin,x=a.formName,S=a.isDRLeadFormSubmitAvailable,L=a.visitorId,A=a.deals,D=a.queryParams,w=a.isUsedMultiSelect,R=void 0!==w&&w,M={leadType:c.f.INVENTORY,creativeId:Object(f.a)({isNewVin:P,pageNameLegacy:k,formName:x||m.b.SINGLE_BASE_VDP_FORM}),leadFormConfig:{disableInventoryCard:!0,headerConfig:{header:{text:"Check Availability"},subHeaderComponent:c.g.BASE,subHeader:{explainingText:"Please provide your contact info so the dealership can confirm the availability of this vehicle."}},tcpaParentDealershipName:n()(t,"tcpaParentDealershipName"),options:{layoutOptions:{userInfoColSize:{xs:12,md:8}}}},thankYouConfig:{headerConfig:{subHeaderComponent:c.g.BASE,subHeader:{text:"You\u2019re All Set",explainingText:"Your request has been sent and the dealer should follow up shortly.",insiderLinkOut:!0}}}},V=Object(d.a)({},M,{thankYouConfig:{headerConfig:{subHeader:{explainingText:"Your information has been sent and the selected dealers should follow up shortly"}}},thankYouLeadFormComponent:c.i.BASE,thankYouLeadFormConfig:{enabled:!0,strategy:b.c.USED_MULTI,leadType:c.f.ANY,showInventoryMakeStockImage:!0,showDealerMakeStockImage:!0,showVehicleMileage:!0,showUnknownColor:!0,showNationwideDeliveryBadge:!0,submitButtonText:"CHECK AVAILABILITY",preSelectedCardNumbers:2,headerConfig:{header:{text:"Congrats!",explainingText:"Thanks for submitting your request for the {year} {make} {model}. Your information has been sent and the dealer should follow up shortly"},subHeaderComponent:c.g.BASE,subHeader:{text:"Wait, we have more...",explainingText:"Ask these dealers to confirm the availability of the below similar vehicles",insiderLinkOut:!1}}}});let F=n()(t,"customConfig",{});F=Object(E.a)({},F,{processDataMethods:Object(E.a)({},F.processDataMethods,{postProcessMethods:[...n()(F,"processDataMethods.postProcessMethods",[]),P?h.d:h.f],getLeadSubmissionInfo:p.h})});const U=O?V:M,$=S?Object(d.a)({},M,{apiParams:{leadSubmissionAPI:v.a,leadSubmissionURL:`/api/v1/receipt/?${Object(C.f)(D)}`},processDataMethods:{getInsiderSaveData:Object(N.a)(A),getLeadSubmissionInfo:Object(j.g)(A),getLeadSubmissionAPIHeaders:Object(T.b)(L)}}):M,B=e=>({vin:s,make:i,model:o,year:l,submodel:g,submodelIdentifier:y,zipCode:_,radius:I,pathname:Object(p.m)(t),customConfig:e}),Y=B(R?Object(d.a)(U,F):Object(d.a)($,F));return r.a.createElement(u.a,Y)}I.propTypes={params:l.a.shape({}).isRequired,options:l.a.shape({}).isRequired};var O=t("./site-modules/shared/components/lead-form/unified-lead-form-pages/digital-retail-offer-type-lead-form.jsx"),k=t("./site-modules/shared/components/lead-form/unified-lead-form-pages/multi-digital-retail-offer-type-lead-form.jsx");t.d(a,"b",function(){return P}),t.d(a,"a",function(){return x});const P={NCI:"NCI",EMBEDDED:"EMBEDDED",NCI_SRP:"NCI_SRP",UCI:"UCI",QUICK_QUOTES:"QUICK_QUOTES",CONFIGURATOR:"CONFIGURATOR",TRANSPARENT_PRICING:"TRANSPARENT_PRICING",DIGITAL_RETAIL_OFFER_TYPE:"DIGITAL_RETAIL_OFFER_TYPE",MULTI_DIGITAL_RETAIL_OFFER_TYPE:"MULTI_DIGITAL_RETAIL_OFFER_TYPE"},x={[P.NCI]:g,[P.EMBEDDED]:_.a,[P.NCI_SRP]:y,[P.UCI]:I,[P.DIGITAL_RETAIL_OFFER_TYPE]:O.a,[P.MULTI_DIGITAL_RETAIL_OFFER_TYPE]:k.a}},"./site-modules/shared/constants/lead-form/lead-form-params.js":function(e,a,t){"use strict";t.d(a,"f",function(){return s}),t.d(a,"a",function(){return n}),t.d(a,"e",function(){return i}),t.d(a,"c",function(){return r}),t.d(a,"g",function(){return o}),t.d(a,"d",function(){return l}),t.d(a,"i",function(){return d}),t.d(a,"j",function(){return c}),t.d(a,"h",function(){return m}),t.d(a,"k",function(){return u}),t.d(a,"b",function(){return p});const s={INVENTORY:"inventory",DEALER:"dealer",ANY:"any"},n={INVENTORY:"inventory",DEALER:"dealer",DEALER_SIMPLE:"dealer_simple",DEALER_PRICE:"dealer_price",DEALER_LIST:"dealer_list",DEALER_VIN:"dealer_vin",DEFAULT:"default",DIGITAL_RETAIL_OFFER_TYPE_TABLE:"digital_retail_offer_type_table",DEALER_VIN_CHECK_AVAILABILITY:"dealer_vin_check_availability",VDP_PRICING_CHART:"vdp_pricing_chart"},i={usedInventory:"UsedInventory",newInventory:"NewInventory"},r={BASE:"base",EMBEDDED:"embedded",VDP_EMBEDDED:"vdpEmbedded",PRICE_CHECKER:"priceChecker",PHOTOFLIPPER_VDP:"photoflipperVdp"},o={BASE:"base"},l={BASE:"base",MAD_LIBS:"madLibs",DIGITAL_RETAIL_OFFER_TYPE:"digitalRetailOfferType",MULTI_DIGITAL_RETAIL_OFFER_TYPE:"multiDigitalRetailOfferType",TOP_EMBEDDED_TEXT:"topEmbeddedText",TOP_EMBEDDED:"topEmbedded",PHOTOFLIPPER:"photoflipper"},d={BASE:"base"},c={BASE:"base",TRANSPARENT_PRICING_PREPROD:"transparentPricingPreprod",TRANSPARENT_PRICING_PRICE_CHECKER:"transparentPricingPriceChecker",MULTI_DIGITAL_RETAIL_OFFER_TYPE:"multiDigitalRetailOfferType",DEAL_CHECK_AVAILABILITY:"dealCheckAvailability",SRP_PRICE_CHECKER:"srpPriceChecker",DEAL_CHECK_PRICE_CHECKER:"dealCheckPriceChecker"},m={BASE:"base"},u={BEFORE_CARDS:"beforeCards",AFTER_CARDS:"afterCards"},p={PARTIAL_COLLAPSE:"partial"}},"./site-modules/shared/constants/lead-form/lead-form-states.js":function(e,a,t){"use strict";t.d(a,"a",function(){return s});const s={LOADING:"loading",HIDDEN:"hidden",LEAD_FORM:"leadForm",THANK_YOU_LEAD_FORM:"thankYouLeadForm",THANK_YOU:"thankYou",LOAD_DATA_ERROR:"loadDataError",SUBMIT_LEAD_ERROR:"submitLeadError",LOAD_THANK_YOU_ERROR:"loadThankYouError"}},"./site-modules/shared/constants/lead-form/lead-form-templates.js":function(e,a,t){"use strict";var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=(t("../node_modules/core-js/modules/es6.regexp.split.js"),t("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js")),i=t("../node_modules/lodash/get.js"),r=t.n(i),o=t("../node_modules/react/index.js"),l=t.n(o),d=t("../node_modules/classnames/index.js"),c=t.n(d),m=t("../node_modules/reactstrap/lib/Row.js"),u=t.n(m),p=t("../node_modules/reactstrap/lib/Col.js"),h=t.n(p),f=t("../node_modules/prop-types/index.js"),g=t.n(f),b=t("./site-modules/shared/constants/lead-form/lead-form-params.js"),y=t("./site-modules/shared/components/lead-form/utils/utils.js"),_=t("./site-modules/shared/components/lead-form/lead-form-prop-types/lead-form-prop-types.jsx"),E=t("./site-modules/shared/components/lead-form/unified-lead-form/views/form-view-decorator.jsx"),v=t("./site-modules/shared/components/lead-form/unified-lead-form/components/user-info/user-info.jsx"),C=t("./site-modules/shared/components/lead-form/unified-lead-form/components/cards/card-list.jsx"),T=t("./site-modules/shared/components/lead-form/unified-lead-form/components/cards/card.jsx"),N=t("./site-modules/shared/components/link/link.jsx");const j={xs:12,md:6},I="text-gray-darker font-weight-medium mb-0_75";class O extends o.Component{constructor(){super(...arguments),this.showCheckBox=(()=>{const e=this.props,a=e.customConfig.checkbox,t=e.pageName,s=e.leadTargets,n=!!a.isVisible({leadTargets:s,pageName:t});return!this.checkboxDisplayed&&n&&(this.checkboxDisplayed=!0,a.fireIsVisibleTracking(n)),n}),this.renderCardFirstText=(e=>{const a=this.props.customConfig.cardFirstText;return l.a.createElement(h.a,{xs:12,md:6,className:c()(I,"mt-0_75",e)},a)}),this.renderCard=((e,a,t)=>{const s=this.props,n=s.onToggleLeadSelection,i=s.selectedLeadIds,r=s.customConfig,d=r.cardSecondText,m=r.priceStrikethrough,u=r.showInventoryMakeStockImage,p=r.showDealerMakeStockImage,h=r.showBestDealPrice,f=r.userInfoPosition,g=r.cardView,b=r.inventoryText,_=r.reverseCardView,E=r.listCardView,v=r.explainingTextParams,C=r.showTeaserText,N=Object(y.l)(e),j=a+1===f;return l.a.createElement(o.Fragment,{key:N},1===a&&d&&l.a.createElement("div",{className:I},d),l.a.createElement(T.a,{classes:c()("rounded mb-0_5",{"d-flex pl-1 pr-md-1":_,"pl-1 pr-2":!_,"border-0":E,"py-1":!E}),slot:a,leadTarget:e,onChangeLeadSelection:n,selectedLeadIds:i,multi:t,priceStrikethrough:m,showInventoryMakeStockImage:u,showDealerMakeStockImage:p,showBestDealPrice:h,cardView:g,inventoryText:b,reverseCardView:_,explainingTextParams:v,showTeaserText:C}),j&&this.renderUserInfo())}),this.renderCards=(()=>{const e=this.props,a=e.leadTargets,t=e.showListTargetsLoadingIndicator,s=e.selectedLeadIds,n=e.fieldRef,i=e.validationErrors,o=e.customConfig.options,d={selectedLeadIds:s,fieldRef:n,validationErrors:i,showListTargetsLoadingIndicator:t},c=r()(o,"layoutOptions.cardListColSize")||j;return l.a.createElement(h.a,c,l.a.createElement(C.a,d,a.map((e,t)=>this.renderCard(e,t,a.length>1))))}),this.renderUserInfoCol=(()=>{const e=this.props.customConfig.options,a=r()(e,"layoutOptions.userInfoColSize")||j;return l.a.createElement(h.a,a,this.renderUserInfo())}),this.renderUserInfo=(()=>{const e=this.props,a=e.leadTargets,t=e.showSubmitLoadingIndicator,s=e.fieldRef,i=e.validationErrors,o=e.validate,d=e.profile,c=e.customConfig,m=c.enableComments,u=c.applyPhoneMask,p=c.submitButtonText,h=c.toggleableSubmitInfo,f=c.checkbox,g=c.tcpaParentDealershipName,y=c.initialCollapseState,_=p.split("|"),E=Object(n.a)(_,2),C=E[0],T=E[1];return l.a.createElement(v.a,{fieldRef:s,validate:o,validationErrors:i,submitButtonText:r()(a,"length",1)>1&&T||C,enableComments:m,applyPhoneMask:u,showSubmitLoadingIndicator:t,toggleableSubmitInfo:h,profile:d,showCheckbox:this.showCheckBox,checkbox:f,nextButtonTrackingId:"next_user_info_click",initialCollapseState:y||b.b.PARTIAL_COLLAPSE,tcpaParentDealershipName:g})})}render(){const e=this.props.customConfig,a=e.cardFirstText,t=e.userInfoPosition,s=e.disableInventoryCard,n=e.toggleableSubmitInfo,i=e.srpLink,r=!s&&a;return l.a.createElement(o.Fragment,null,r&&l.a.createElement(u.a,null,t===b.k.BEFORE_CARDS&&l.a.createElement(h.a,{xs:12,md:6}),this.renderCardFirstText("hidden-sm-down"),t===b.k.AFTER_CARDS&&l.a.createElement(h.a,{xs:12,md:6})),l.a.createElement(u.a,{className:c()({"mt-md-2":!r},{"mt-0":r})},t===b.k.BEFORE_CARDS&&this.renderUserInfoCol(),r&&this.renderCardFirstText("hidden-md-up"),!s&&this.renderCards(),t===b.k.AFTER_CARDS&&this.renderUserInfoCol()),i&&n&&l.a.createElement(u.a,null,l.a.createElement(h.a,{xs:12},l.a.createElement(N.a,{to:i.to,className:"btn btn-outline-primary-b size-14 btn-sm mt-1","data-tracking-id":"view_search_result",rel:"nofollow"},i.text))),i&&!n&&l.a.createElement(u.a,null,l.a.createElement(h.a,{xs:12,className:"text-right"},l.a.createElement(N.a,{to:i.to,className:"text-primary mt-1","data-tracking-id":"view_search_result",rel:"nofollow"},i.text," ",l.a.createElement("i",{className:"ml-0_25 icon icon-arrow-right4 small"})))))}}O.propTypes=Object(s.a)({},_.h,{customConfig:_.p.leadFormConfig,profile:g.a.shape({}),pageName:g.a.string,isMobile:g.a.bool}),O.defaultProps=Object(s.a)({},_.g,{customConfig:Object(s.a)({},_.o.leadFormConfig),profile:{},pageName:null,isMobile:!1});const k=Object(E.a)(O);var P=t("./site-modules/shared/components/lead-form/unified-lead-form/views/thank-you-view-decorator.jsx");const x=Object(P.a)(function(){return l.a.createElement("div",null)});var S=t("./site-modules/shared/components/lazy-load/lazy-load.jsx");const L=Object(S.a)({loader:()=>t.e("base-thank-you-lead-form-view").then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/views/thank-you-lead-form-view/base-thank-you-lead-form-view.jsx")),componentName:"BaseThankYouLeadFormView"}),A=Object(S.a)({loader:()=>t.e("mad-libs-form-view").then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/views/form-view/mad-libs/mad-libs-form-view.jsx")),componentName:"MadLibsFormView"}),D=Object(S.a)({loader:()=>Promise.all([t.e(11),t.e(20),t.e(28),t.e(33),t.e(74),t.e(67),t.e(72),t.e("digital-retail-offer-type")]).then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/views/form-view/digital-retail-offer-type/digital-retail-offer-type.jsx")),componentName:"DigitalRetailOfferType"}),w=Object(S.a)({loader:()=>Promise.all([t.e(20),t.e(33),t.e(74),t.e("multi-digital-retail-offer-type")]).then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/views/form-view/multi-digital-retail-offer-type/multi-digital-retail-offer-type.jsx")),componentName:"MultiDigitalRetailOfferType"}),R=Object(S.a)({loader:()=>Promise.all([t.e(28),t.e("multi-digital-retail-offer-type-thank-you-view")]).then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/views/thank-you-view/multi-digital-retail-offer-type/multi-digital-retail-offer-type-thank-you-view.jsx")),componentName:"MultiDigitalRetailOfferTypeThankYouView"}),M=Object(S.a)({loader:()=>t.e("deal-check-availability").then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/views/thank-you-view/deal-check-availability/deal-check-availability.jsx")),componentName:"DealCheckAvailability"}),V=Object(S.a)({loader:()=>t.e("transparent-pricing-preprod-thank-you-view").then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/views/thank-you-view/transparent-pricing-preprod/transparent-pricing-preprod-thank-you-view.jsx")),componentName:"TransparentPricingPreprodThankYouView"}),F=Object(S.a)({loader:()=>Promise.all([t.e(43),t.e("transparent-pricing-price-checker-thank-you-view")]).then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/views/thank-you-view/transparent-pricing-price-checker/transparent-pricing-price-checker-thank-you-view.jsx")),componentName:"TransparentPricingPriceCheckerThankYouView"}),U=Object(S.a)({loader:()=>Promise.all([t.e(43),t.e("srp-price-checker-thank-you-view")]).then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/views/thank-you-view/srp-price-checker/srp-price-checker-thank-you-view.jsx")),componentName:"SrpPriceCheckerThankYouView"}),$=Object(S.a)({loader:()=>Promise.all([t.e(43),t.e("deal-check-price-checker-thank-you-view")]).then(t.bind(null,"./site-modules/shared/components/lead-form/unified-lead-form/views/thank-you-view/deal-check-price-checker/deal-check-price-checker-thank-you-view.jsx")),componentName:"DealCheckPriceCheckerThankYouView"});var B=t("../node_modules/reactstrap/lib/FormGroup.js"),Y=t.n(B),H=t("./site-modules/shared/components/form-field/form-field.jsx"),q=t("../node_modules/reactstrap/lib/Button.js"),z=t.n(q),G=t("./site-modules/shared/components/form-field-mask/form-field-mask.jsx"),W=t("./site-modules/shared/constants/lead-form/validation.js"),K=t("./site-modules/shared/components/content-collapse/content-collapse.jsx"),Q=t("./tracking/constant.js"),J=t("./utils/event-toolbox.js"),Z=t("./site-modules/shared/components/select/select.jsx"),X=t("./site-modules/shared/components/lead-form/unified-lead-form/constants/creative-ids.js"),ee=t("./tracking/maps/lead-form/index.js"),ae=t("./site-modules/shared/components/inventory/contact-dealer-tip/contact-dealer-tip.jsx"),te=t("./site-modules/shared/components/lead-form/unified-lead-form/components/privacy-note/privacy-note.jsx"),se=t("./site-modules/shared/utils/inventory-utils/get-urgency-message.js");t("./site-modules/shared/components/lead-form/unified-lead-form/views/form-view/top-embedded/top-embedded-form-view.scss");const ne="w-100 mb-0",ie="medium mb-0",re="xsmall text-danger",oe=[{label:"I'm interested in this vehicle",value:"I'm interested in this vehicle"},{label:"I'd like to know your best price",value:"I'd like to know your best price"},{label:"I'd like to test drive this vehicle",value:"I'd like to test drive this vehicle"},{label:"Ask a question",value:"Ask a question"}],le={namePlaceholder:"First Name*",nameLabel:"",lastNamePlaceholder:"Last Name*",lastNameLabel:"",emailPlaceholder:"Email Address*",emailLabel:"",phoneNumPlaceholder:"Phone Number*",phoneNumLabel:""},de={namePlaceholder:"",nameLabel:"First name*",lastNamePlaceholder:"",lastNameLabel:"Last name*",emailPlaceholder:"",emailLabel:"Email address*",phoneNumPlaceholder:"",phoneNumLabel:"Phone number*"};class ce extends o.Component{constructor(){super(...arguments),this.state={messageSubject:oe[0]},this.setMessageSubject=(e=>{this.setState({messageSubject:e})}),this.fireTrackingOnCommentsBlur=(()=>{const e={event_type:"action_completed",event_data:{action_name:Q.b.ACTION_LEAD_SUBMISSION,subaction_name:Q.b.COMMENT_INPUT_SUCCESS,action_category:"user",action_cause:Q.b.ACTION_CAUSE_USER_INPUT,creative_id:`${X.a.USED_SINGLE_VDP_EMBEDDED_PRICING}${ee.b.leadForm}`}};J.a.fireTrackAction(e)})}render(){const e=this.props,a=e.fieldRef,t=e.validationErrors,s=e.validate,n=e.customConfig,i=n.submitButtonText,o=n.isTopEmbeddedCommentsAvailable,d=n.isTopEmbeddedMessageSubjectAvailable,m=n.daysToSell,p=n.tcpaParentDealershipName,f=n.isMobile,g=n.hideContactDealerTip,b=e.profile,_=e.showSubmitLoadingIndicator,E=!("firstName"in t),v=!("lastName"in t),C=!("email"in t),T=!("phone"in t),N=Object(y.q)(b),j=N.firstName,I=N.lastName,O=N.email,k=N.phoneNumber,P=this.state.messageSubject,x=f?de:le,S=!g&&l.a.createElement(ae.a,{daysToSell:m,defaultMsg:se.a.ASK_FOR_PRICE,classNamesWrapper:"mb-1",classNamesMsg:""});return l.a.createElement(u.a,{className:"price-summary-no-text-lead-form text-info mt-1"},l.a.createElement(h.a,{xs:12},S,l.a.createElement("div",{className:"user-info rounded"},l.a.createElement(u.a,{className:"justify-content-between align-items-start"},l.a.createElement(h.a,{xs:6,md:12,lg:6},l.a.createElement(Y.a,{className:"mb-0_5"},l.a.createElement("div",null,l.a.createElement(H.a,{id:"lead-form-pricing-fname",name:"firstName",placeholder:x.namePlaceholder,label:x.nameLabel,ref:a,"aria-required":!0,"aria-invalid":!E,"aria-describedby":"error-top-embedded-firstName","aria-label":"First name",isValid:E,labelClassName:ie,maxLength:60,onBlur:s,defaultValue:j,className:"mb-0",inputClassName:"text-info"}),l.a.createElement("span",{id:"error-top-embedded-firstName",className:re},t.firstName)))),l.a.createElement(h.a,{xs:6,md:12,lg:6},l.a.createElement(Y.a,{className:"mb-0_5"},l.a.createElement("div",null,l.a.createElement(H.a,{id:"lead-form-pricing-lname",name:"lastName",placeholder:x.lastNamePlaceholder,label:x.lastNameLabel,ref:a,"aria-required":!0,"aria-invalid":!v,"aria-describedby":"error-top-embedded-lastName","aria-label":"Last name",isValid:v,labelClassName:ie,maxLength:60,onBlur:s,defaultValue:I,className:"mb-0",inputClassName:"text-info"}),l.a.createElement("span",{id:"error-top-embedded-lastName",className:re},t.lastName))))),l.a.createElement(u.a,{className:"justify-content-between align-items-start"},l.a.createElement(h.a,{xs:12,lg:6},l.a.createElement(Y.a,{className:"w-100 mb-0_5"},l.a.createElement("div",{className:"user-info-email w-100"},l.a.createElement(H.a,{id:"lead-form-pricing-email",name:"email",placeholder:x.emailPlaceholder,label:x.emailLabel,ref:a,"aria-required":!0,"aria-invalid":!C,"aria-describedby":"error-top-embedded-email","aria-label":"Email address",isValid:C,type:"email",className:ne,labelClassName:ie,onBlur:s,defaultValue:O,inputClassName:"text-info"}),l.a.createElement("span",{id:"error-top-embedded-email",className:re},t.email)))),l.a.createElement(h.a,{xs:12,lg:6},l.a.createElement(Y.a,{className:"w-100 mb-1"},l.a.createElement("div",{className:"w-100"},l.a.createElement(G.a,{id:"lead-form-pricing-phone",name:"phone",placeholder:x.phoneNumPlaceholder,label:x.phoneNumLabel,ref:a,"aria-required":!0,"aria-invalid":!T,"aria-describedby":"error-top-embedded-phone","aria-label":"Phone number",isValid:T,type:"tel",mask:W.a,className:ne,labelClassName:ie,onBlur:s,defaultValue:k,inputClassName:"w-100 phone-input text-info"}),l.a.createElement("span",{id:"error-top-embedded-phone",className:re},t.phone))))),d&&l.a.createElement("div",{className:"w-100 mb-1"},l.a.createElement(Z.a,{id:"message-subject",name:"messageSubject",value:r()(P,"value"),options:oe,onChange:this.setMessageSubject,ref:a,className:"w-100 mb-0 form-control text-info","data-tracking-id":"lead_form_subject_select"})),o&&l.a.createElement(K.a,{textClosed:"Add Comments",textOpen:"Add Comments",justify:"justify-content-start",btnContainerClasses:"m-0 p-0",btnClasses:"p-0 mb-1 medium text-primary-darker",btnTextClasses:"font-weight-normal",minHeight:"0px",isEclipseFade:!1,btnTrackingId:"lead_form_comments",trackingId:null},l.a.createElement(Y.a,null,l.a.createElement(H.a,{id:"lead-form-pricing-comment",name:"comments",placeholder:"Add comment (optional)",tag:"textarea",ref:a,className:ne,maxLength:1e3,onBlur:this.fireTrackingOnCommentsBlur,inputClassName:"text-info"}))),l.a.createElement("div",null,l.a.createElement(z.a,{type:"submit",color:"success",className:c()("submit-button btn-lg px-1 py-0_5",{"spinner-active":_}),disabled:_},l.a.createElement("i",{className:"spinner icon-spinner8 mr-0_25"}),l.a.createElement("span",null,i)),l.a.createElement("div",{className:"mt-1"},l.a.createElement(te.a,{tcpaParentDealershipName:p,classNames:"mb-1_5"}))))))}}ce.propTypes=Object(s.a)({},_.h,{customConfig:_.p.leadFormConfig,profile:g.a.shape({})}),ce.defaultProps=Object(s.a)({},_.g,{customConfig:Object(s.a)({},_.o.leadFormConfig),profile:{}});const me=Object(E.a)(ce);t("./site-modules/shared/components/lead-form/unified-lead-form/views/form-view/photoflipper/photoflipper-form-view.scss");const ue="w-100 mb-0",pe="medium mb-0",he="xsmall text-danger",fe={namePlaceholder:"First Name*",nameLabel:"",lastNamePlaceholder:"Last Name*",lastNameLabel:"",emailPlaceholder:"Email Address*",emailLabel:"",phoneNumPlaceholder:"Phone Number*",phoneNumLabel:""};function ge(e){let a=e.fieldRef,t=e.validationErrors,s=e.validate,n=e.customConfig,i=n.submitButtonText,r=n.daysToSell,o=n.tcpaParentDealershipName,d=e.profile,m=e.showSubmitLoadingIndicator;const p=!("firstName"in t),f=!("lastName"in t),g=!("email"in t),b=!("phone"in t),_=Object(y.q)(d),E=_.firstName,v=_.lastName,C=_.email,T=_.phoneNumber,N=fe;return l.a.createElement(u.a,{className:"photoflipper-form-view text-info mt-0_25"},l.a.createElement(h.a,{xs:12},l.a.createElement(ae.a,{daysToSell:r,defaultMsg:"Ask for dealer\u2019s best price via email",classNamesWrapper:"mb-1_5",classNamesMsg:""}),l.a.createElement("div",{className:"user-info rounded"},l.a.createElement(u.a,{className:"justify-content-between align-items-start"},l.a.createElement(h.a,{xs:6,md:12,lg:6},l.a.createElement(Y.a,{className:"mb-1"},l.a.createElement("div",null,l.a.createElement(H.a,{id:"lead-form-pricing-fname",name:"firstName",placeholder:N.namePlaceholder,label:N.nameLabel,ref:a,"aria-required":!0,"aria-invalid":!p,"aria-describedby":"error-pf-lead-form-firstName","aria-label":"First name",isValid:p,labelClassName:pe,maxLength:60,onBlur:s,defaultValue:E,className:"mb-0",inputClassName:"text-info"}),l.a.createElement("span",{id:"error-pf-lead-form-firstName",className:he},t.firstName)))),l.a.createElement(h.a,{xs:6,md:12,lg:6},l.a.createElement(Y.a,{className:"mb-1"},l.a.createElement("div",null,l.a.createElement(H.a,{id:"lead-form-pricing-lname",name:"lastName",placeholder:N.lastNamePlaceholder,label:N.lastNameLabel,ref:a,"aria-required":!0,"aria-invalid":!f,"aria-describedby":"error-pf-lead-form-lastName","aria-label":"Last name",isValid:f,labelClassName:pe,maxLength:60,onBlur:s,defaultValue:v,className:"mb-0",inputClassName:"text-info"}),l.a.createElement("span",{id:"error-pf-lead-form-lastName",className:he},t.lastName))))),l.a.createElement(u.a,{className:"justify-content-between align-items-start"},l.a.createElement(h.a,{xs:12,lg:6},l.a.createElement(Y.a,{className:"w-100 mb-1"},l.a.createElement("div",{className:"user-info-email w-100"},l.a.createElement(H.a,{id:"lead-form-pricing-email",name:"email",placeholder:N.emailPlaceholder,label:N.emailLabel,ref:a,"aria-required":!0,"aria-invalid":!g,"aria-describedby":"error-pf-lead-form-email","aria-label":"Email address",isValid:g,type:"email",className:ue,labelClassName:pe,onBlur:s,defaultValue:C,inputClassName:"text-info"}),l.a.createElement("span",{id:"error-pf-lead-form-email",className:he},t.email)))),l.a.createElement(h.a,{xs:12,lg:6},l.a.createElement(Y.a,{className:"w-100 mb-1_5"},l.a.createElement("div",{className:"w-100"},l.a.createElement(G.a,{id:"lead-form-pricing-phone",name:"phone",placeholder:N.phoneNumPlaceholder,label:N.phoneNumLabel,ref:a,"aria-required":!0,"aria-invalid":!b,"aria-describedby":"error-pf-lead-form-phone","aria-label":"Phone number",isValid:b,type:"tel",mask:W.a,className:ue,labelClassName:pe,onBlur:s,defaultValue:T,inputClassName:"w-100 phone-input text-info"}),l.a.createElement("span",{id:"error-pf-lead-form-phone",className:he},t.phone))))),l.a.createElement("div",null,l.a.createElement(z.a,{type:"submit",color:"success",className:c()("submit-button btn-lg px-1 py-0_5 w-100",{"spinner-active":m}),disabled:m},l.a.createElement("i",{className:"spinner icon-spinner8 mr-0_25"}),l.a.createElement("span",null,i)),l.a.createElement("div",{className:"mt-1"},l.a.createElement(te.a,{tcpaParentDealershipName:o,classNames:"mb-0"}))))))}ge.propTypes=Object(s.a)({},_.h,{customConfig:_.p.leadFormConfig,profile:g.a.shape({})}),ge.defaultProps=Object(s.a)({},_.g,{customConfig:Object(s.a)({},_.o.leadFormConfig),profile:{}});const be=Object(E.a)(ge);var ye=t("./site-modules/shared/components/lead-form/lead-form-markdown-view/lead-form-markdown-view.jsx");function _e(e){let a=e.config,t=a.text,s=a.explainingText,n=a.className,i=e.templateParams;return l.a.createElement("div",{className:"base-form-header text-gray-darker mt-1_5"},t&&l.a.createElement("div",{className:c()("heading-3 mb-0_75",n)},Object(y.a)(i,t)),s&&l.a.createElement("div",{className:"mt-0_5"},l.a.createElement(ye.a,{markdown:s,templateParams:i})))}_e.propTypes={config:g.a.shape({text:g.a.string,explainingText:g.a.string,className:g.a.string}),templateParams:g.a.arrayOf(g.a.shape({name:g.a.string,value:g.a.string}))},_e.defaultProps={config:{},templateParams:[]};var Ee=t("./site-modules/shared/components/lead-form/unified-lead-form/components/header/thanks-header/base-thanks-header.jsx"),ve=t("../node_modules/react-redux/es/index.js"),Ce=t("./site-modules/shared/components/edmunds-logo/edmunds-logo.jsx");function Te(e){let a=e.config,t=a.showLogo,s=a.srpLink,n=a.text,i=a.explainingText,o=a.className,d=e.templateParams,m=e.isMobile;return l.a.createElement("div",{className:"embedded-form-header mb-1_5 mt-md-1_5"},l.a.createElement("div",{className:c()("header-text mb-0_75 d-flex",o,{"flex-column":m,"heading-3 text-primary":!o})},t&&l.a.createElement(Ce.a,{inline:!0,className:"mr-md-0_5 mb-1 mb-md-0 align-self-md-baseline"}),Object(y.a)(d,n),!!r()(s,"to")&&!m&&l.a.createElement(N.a,{to:s.to,className:"btn btn-outline-primary-b size-14 btn-sm ml-auto","data-tracking-id":"view_search_result",rel:"nofollow"},s.text)),i&&l.a.createElement("div",{className:"mt-0_5 text-gray-darker"},l.a.createElement(ye.a,{markdown:i,templateParams:d})))}Te.propTypes={config:_.d.header,templateParams:g.a.arrayOf(g.a.shape({name:g.a.string,value:g.a.string})),isMobile:g.a.bool},Te.defaultProps={config:{},templateParams:[],isMobile:!1};const Ne=Object(ve.c)(e=>{return{isMobile:e.mobile}})(Te);function je(e){let a=e.config,t=a.text,s=a.explainingText,n=a.className,i=e.templateParams;return l.a.createElement("div",{className:"base-form-header text-gray-darker"},t&&l.a.createElement("div",{className:c()(n||"heading-5 mb-0_75")},Object(y.a)(i,t)),s&&l.a.createElement("div",{className:"mt-0_5 text-gray-darker"},l.a.createElement(ye.a,{markdown:s,templateParams:i})))}je.propTypes={config:g.a.shape({text:g.a.string,explainingText:g.a.string,className:g.a.string}),templateParams:g.a.arrayOf(g.a.shape({name:g.a.string,value:g.a.string}))},je.defaultProps={config:{},templateParams:[]};var Ie=t("./site-modules/shared/components/price-checker/price-checker-header/price-checker-header.jsx"),Oe=t("./site-modules/shared/components/lead-form/unified-lead-form/components/header/price-checker-thank-you-header/price-checker-thank-you-header.jsx");t("./site-modules/shared/components/lead-form/unified-lead-form/components/header/photoflipper-vdp-thank-you-header/photoflipper-vdp-thank-you-header.scss");function ke(e){let a=e.config,t=a.showLogo,s=a.text,n=e.templateParams;return l.a.createElement("div",{className:"photoflipper-vdp-thank-you-header mb-1_5"},l.a.createElement("div",{className:"header-text mb-0_75 d-flex flex-row align-items-center"},t&&l.a.createElement(Ce.a,{className:"mr-1",inline:!0,inlineLogoHeight:34}),l.a.createElement("span",{className:"size-24 text-primary font-weight-bold"},Object(y.a)(n,s))))}function Pe(e){let a=e.config,t=a.showLogo,s=a.srpLink,n=a.text,i=a.explainingText,r=a.showSeparator,d=a.className,m=e.templateParams;const u=Object(y.a)(m,d),p="true"===Object(y.a)(m,r);return l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},t&&l.a.createElement(Ce.a,{path:""}),s&&l.a.createElement(N.a,{to:s.to,className:"btn btn-outline-primary-b size-14 btn-sm","data-tracking-id":"view_search_result",rel:"nofollow"},s.text)),l.a.createElement("h2",{className:c()("heading-2 text-gray-darker mt-0_5 mb-1_25",u)},Object(y.a)(m,n)),i&&l.a.createElement("div",{className:"text-gray-darker"},l.a.createElement(ye.a,{markdown:i,templateParams:m})),p&&l.a.createElement("hr",null))}ke.propTypes={config:_.d.header,templateParams:g.a.arrayOf(g.a.shape({name:g.a.string,value:g.a.string}))},ke.defaultProps={config:{},templateParams:[]},Pe.propTypes={config:_.d.header,templateParams:g.a.arrayOf(g.a.shape({name:g.a.string,value:g.a.string}))},Pe.defaultProps={config:{},templateParams:[]};var xe=t("./site-modules/shared/components/native-ad/srp-ad/srp-ad.jsx"),Se=t("./utils/ads.js"),Le=t("./site-modules/shared/components/native-ad/utils/constants.js");class Ae extends o.Component{constructor(e){super(e),this.hideEmptyAdContainer=(e=>{this.setState({hasAdRendered:Object(Se.a)(e)})}),this.state={hasAdRendered:!0}}render(){const e=this.props.config.adsPositions,a=r()(e,Le.h.AD_NAME);return l.a.createElement(o.Fragment,null,this.state.hasAdRendered&&l.a.createElement("hr",null),l.a.createElement(u.a,null,l.a.createElement(h.a,{xs:12,lg:9},l.a.createElement(xe.a,{position:a,slotRenderEndListener:this.hideEmptyAdContainer}))))}}Ae.propTypes={config:g.a.shape({adsPosition:g.a.shape({[Le.h.AD_NAME]:g.a.string})})},Ae.defaultProps={config:g.a.shape({})};var De=t("./site-modules/shared/utils/string.js"),we=t("./site-modules/shared/components/color-swatch/color-swatch.jsx");t("./site-modules/shared/components/inventory-colors/inventory-colors.scss");function Re(e){let a=e.exterior,t=e.interior,s=e.exteriorLabel,n=e.interiorLabel,i=e.labelClassName,r=e.className,o=e.defaultStyle,d=e.showUnknownColor;const m=Number.isInteger(a.r),u=Number.isInteger(t.r);if(!d&&!m&&!u)return null;const p=a.name||(m?"":"Unknown"),h=t.name||(u?"":"Unknown"),f=`Exterior color${p?`: ${p}`:""}`,g=`Interior color${h?`: ${h}`:""}`;return l.a.createElement("div",{className:c()("inventory-colors",r,{default:o})},(m||d)&&l.a.createElement("div",{className:"inventory-color d-inline-block"},s&&l.a.createElement("span",{className:i},s),l.a.createElement(we.a,{color:a,displayColorName:!1,title:f})),(m&&u||d)&&l.a.createElement("span",{className:"mr-0_25"}),(u||d)&&l.a.createElement("div",{className:"inventory-color d-inline-block"},n&&l.a.createElement("span",{className:i},n),l.a.createElement(we.a,{color:t,displayColorName:!1,title:g})))}Re.propTypes={exterior:g.a.shape({r:g.a.number,b:g.a.number,g:g.a.number,name:g.a.string}),interior:g.a.shape({r:g.a.number,b:g.a.number,g:g.a.number,name:g.a.string}),exteriorLabel:g.a.string,interiorLabel:g.a.string,labelClassName:g.a.string,className:g.a.string,defaultStyle:g.a.bool,showUnknownColor:g.a.bool},Re.defaultProps={exterior:{},interior:{},exteriorLabel:"",interiorLabel:"",labelClassName:"",className:"",defaultStyle:!1,showUnknownColor:!1};var Me=t("./site-modules/shared/components/inventory-price/inventory-price.jsx"),Ve=t("./site-modules/shared/components/lead-form/unified-lead-form/components/dealer/dealer-info.jsx"),Fe=t("./site-modules/shared/components/core-img/core-img.jsx"),Ue=t("./site-modules/shared/components/delivery/constants.js"),$e=t("./site-modules/shared/components/delivery/helper.js");function Be(e){let a=e.isNational,t=e.deliveryCode,s=e.zipCode,n=e.classes,i=e.stateCode,r=e.footnoteSymbol;if(!Ue.b.includes(t)||!s)return null;const o=function(e,a,t,s){return s?`${Ue.d[`${e}_NTL`]}`:Object($e.b)(t)?Ue.a:`${Ue.d[e]} ${a}`}(t,s,i,a);return l.a.createElement("div",{className:c()("d-inline-block bg-gray-extra-light small text-gray-darker",n)},l.a.createElement("span",{className:"icon-transit mr-0_25",title:"Shipping"})," ",o,!!r&&l.a.createElement("sup",null,r))}Be.propTypes={deliveryCode:g.a.string,zipCode:g.a.string,stateCode:g.a.string,classes:g.a.string,footnoteSymbol:g.a.string,isNational:g.a.bool},Be.defaultProps={deliveryCode:"",zipCode:"",stateCode:"",classes:"",footnoteSymbol:"",isNational:!1};var Ye=t("./site-modules/shared/utils/show-trim-name.js"),He=t("./site-modules/shared/utils/get-cab-type.js");function qe(e){let a=e.leadTarget,t=e.priceStrikethrough,s=e.showInventoryMakeStockImage,n=e.showBestDealPrice,i=e.showVehicleMileage,d=e.showUnknownColor,c=e.showNationwideDeliveryBadge,m=e.zipCode,p=e.stateCode,f=e.showTeaserText;const g=a.inventory,b=a.leadAttributes,_=g.vin,E=g.vehicleInfo,v=g.dealerInfo,C=g.type,T=g.prices,N=r()(b,"distance"),j=E.styleInfo,I=j.year,O=j.make,k=j.model,P=r()(E,"styleInfo"),x=r()(E,"styleInfo.trim",""),S=Object(He.a)(P),L=`${I} ${O} ${k} ${Object(Ye.a)(x)?x:""} ${S}`.trim(),A=Object(y.r)(E,s),D=r()(E,"vehicleColors.exterior"),w=r()(E,"vehicleColors.interior"),R=r()(g,"computedInfo.bestDealPrice",0),M=r()(E,"mileage",0),V=M>0?Object(De.c)(M):"Not Provided",F=r()(g,"deliveryOptions.deliveryCode");return l.a.createElement(o.Fragment,null,l.a.createElement(u.a,{className:"align-items-center"},l.a.createElement(h.a,{xs:4,className:"align-self-start"},l.a.createElement(Fe.a,{className:"w-100 mb-0_5",image:A,alt:L,title:L,source:"media",clickable:!1,enableOnError:!0,onErrorImage:Fe.b}),l.a.createElement(Re,{exterior:D,interior:w,showUnknownColor:d,className:"mb-0_5"}),l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",null,l.a.createElement(Me.a,{type:C,prices:T,priceNameUsed:"List",priceNameNew:n?"Edmunds Suggested Price":"MSRP",priceNameClasses:"small text-gray d-block",priceClasses:"text-gray-darker font-weight-medium d-block",forceStrikethrough:t,isBestDealPriceEnabled:n,bestDealPrice:R})),i&&l.a.createElement("div",{className:"ml-1"},l.a.createElement("span",{className:"small text-gray d-block"},"Mileage"),l.a.createElement("span",{className:"text-gray-darker font-weight-medium d-block"},V)))),l.a.createElement(h.a,{xs:8},l.a.createElement("div",{className:"mb-0_25 mr-0_25 text-gray-darker font-weight-medium"},L),l.a.createElement("div",{className:"small text-gray mb-0_75"},"VIN: ",_),l.a.createElement(Ve.a,{dealerInfo:v,distance:N}),f&&l.a.createElement("div",{className:"small mt-0_5"},"The price you should pay is ",l.a.createElement("span",{className:"text-primary"},"on the next page")),c&&l.a.createElement(Be,{deliveryCode:F,stateCode:p,zipCode:m}))))}qe.propTypes={leadTarget:g.a.shape({inventory:g.a.shape({dealerInfo:g.a.shape({}).isRequired,vehicleInfo:g.a.shape({photo:g.a.shape({defaultPhoto:g.a.shape({large:g.a.shape({url:g.a.string})})}),styleInfo:g.a.shape({trim:g.a.string,year:g.a.number.isRequired,model:g.a.string.isRequired,make:g.a.string.isRequired}).isRequired,vehicleColors:g.a.shape({exterior:g.a.shape({r:g.a.number,b:g.a.number,g:g.a.number}),interior:g.a.shape({r:g.a.number,b:g.a.number,g:g.a.number})})}).isRequired,type:g.a.string.isRequired,vin:g.a.string.isRequired,prices:g.a.shape({displayPrice:g.a.number})}),leadAttributes:g.a.shape({distance:g.a.number}).isRequired}).isRequired,priceStrikethrough:g.a.bool,showInventoryMakeStockImage:g.a.bool,showBestDealPrice:g.a.bool,showVehicleMileage:g.a.bool,showUnknownColor:g.a.bool,showNationwideDeliveryBadge:g.a.bool,zipCode:g.a.oneOfType([g.a.string,g.a.number]),stateCode:g.a.string,showTeaserText:g.a.bool},qe.defaultProps={priceStrikethrough:!1,showInventoryMakeStockImage:!1,showBestDealPrice:!1,showVehicleMileage:!1,showUnknownColor:!1,showNationwideDeliveryBadge:!1,zipCode:"",stateCode:"",showTeaserText:!0};t("./site-modules/shared/components/lead-form/unified-lead-form/components/cards/card.scss");function ze(e){let a=e.leadTarget,t=e.showDealerMakeStockImage;const s=a.dealer,n=a.leadAttributes,i=r()(n,"distance"),o=r()(s,"vehicleInfo",{}),d=`${o.year} ${o.make} ${o.model}`,c=Object(y.r)({styleInfo:o},t);return t?l.a.createElement(u.a,null,l.a.createElement(h.a,{xs:4},l.a.createElement("img",{className:"w-100",src:c,alt:d})),l.a.createElement(h.a,{xs:8},l.a.createElement("div",{className:"mb-0_75 mr-0_25 text-gray-darker font-weight-medium"},d),l.a.createElement(Ve.a,{dealerInfo:s,distance:i}))):l.a.createElement(Ve.a,{dealerInfo:s,distance:i})}ze.propTypes={leadTarget:g.a.shape({dealer:g.a.shape({}).isRequired,leadAttributes:g.a.shape({distance:g.a.number}).isRequired}).isRequired,showDealerMakeStockImage:g.a.bool},ze.defaultProps={showDealerMakeStockImage:!1};var Ge=t("./site-modules/shared/components/rating-stars/rating-stars.jsx"),We=t("./site-modules/shared/utils/price-utils.js"),Ke=t("./site-modules/shared/utils/inventory-utils/is-used.js");function Qe(e){let a=e.leadTarget,t=e.priceStrikethrough,s=e.dealerNameClasses,n=e.vinClasses,i=e.priceCopyClasses,o=e.priceValueClasses;const d=a.dealer,m=a.inventory,u=a.leadAttributes,p=r()(u,"distance"),h=r()(m,"dealerInfo",d),f=r()(m,"vin"),g=r()(h,"displayInfo.salesOverallRating",r()(h,"salesRating",0)),b=r()(h,"displayInfo.salesReviewCount",r()(h,"salesReviewCount",0)),_=r()(m,"prices.displayPrice"),E=Object(y.l)(a),v=Object(Ke.a)(r()(m,"type","")),C=!!_&&(v||t);return l.a.createElement("div",{className:"d-flex justify-content-between align-items-baseline w-100"},l.a.createElement("div",null,l.a.createElement("div",{className:c()("text-gray-darker mb-0_5",s),id:E},h.name),!!f&&l.a.createElement("div",{className:c()("text-gray small mb-0_5",n)},"VIN: ",f),l.a.createElement("div",{className:"small"},l.a.createElement(Ge.a,{rating:g,className:"text-primary-darker mr-0_25"}),l.a.createElement("span",{className:"text-gray-darker"},"(",b,")"),p>0&&l.a.createElement("span",{className:"ml-1 text-gray-darker"},l.a.createElement("span",{className:"icon-location mr-0_25"}),p.toFixed(1)," mi."))),C&&l.a.createElement("div",{className:"text-right"},l.a.createElement("div",{className:c()("xsmall text-gray ",i)},v?"List":"MSRP"),v?l.a.createElement("span",{className:"text-gray-darker"},Object(We.a)(_)):l.a.createElement("s",{className:c()("text-gray-darker",o)},Object(We.a)(_))))}function Je(e){let a=e.leadTarget,t=e.priceStrikethrough;const s=a.dealer,n=a.inventory,i=a.leadAttributes,d=r()(i,"distance"),c=r()(n,"dealerInfo",s),m=n.vin,p=n.type,f=n.vehicleInfo,g=r()(c,"displayInfo.salesOverallRating",r()(c,"salesRating",0)),b=r()(c,"displayInfo.salesReviewCount",r()(c,"salesReviewCount",0)),_=r()(n,"prices.displayPrice"),E=Object(y.l)(a),v=Object(Ke.a)(p),C=!!_&&(v||t),T=r()(f,"styleInfo"),N=r()(f,"styleInfo.make"),j=r()(f,"styleInfo.model"),I=r()(f,"styleInfo.year"),O=r()(f,"styleInfo.trim"),k=r()(f,"mileage"),P=`${I} ${N} ${j} ${O} ${Object(He.a)(T)}`.trim();return l.a.createElement(o.Fragment,null,l.a.createElement(u.a,{className:"align-items-center"},l.a.createElement(h.a,{xs:12},l.a.createElement("div",{className:"mb-1_25 mb-md-1_75"},l.a.createElement("div",{className:"text-primary-darker font-weight-bold"},P),!!m&&l.a.createElement("div",{className:"medium text-gray-darker mt-0_5 mt-md-0_25"},"VIN: ",m),v&&k&&l.a.createElement("div",{className:"medium text-gray-darker mt-0_25"},"Mileage: ",Object(De.c)(k)))),l.a.createElement(h.a,{xs:12},l.a.createElement("div",{className:"d-flex justify-content-between align-items-end w-100"},l.a.createElement("div",null,l.a.createElement("div",{className:"medium text-gray-darker font-weight-bold mb-0_5",id:E},c.name),l.a.createElement("div",{className:"small"},!!b&&l.a.createElement(o.Fragment,null,l.a.createElement(Ge.a,{rating:g,className:"text-primary-darker mr-0_25"}),l.a.createElement("span",{className:"mr-1 text-gray"},"(",b,")")),d>0&&l.a.createElement("span",{className:"text-gray"},l.a.createElement("span",{className:"icon-location mr-0_25 text-gray-darker"}),d.toFixed(1)," mi."))),C&&l.a.createElement("div",{className:"text-right"},l.a.createElement("div",{className:"small text-gray"},v?"List":"MSRP"),v?l.a.createElement("span",{className:"text-gray-darker font-weight-bold"},Object(We.a)(_)):l.a.createElement("s",{className:"text-gray-darker font-weight-bold"},Object(We.a)(_)))))))}function Ze(e){let a=e.leadTarget,t=e.showVin,s=e.showPrice;const n=a.dealer,i=a.inventory,o=a.leadAttributes,d=r()(o,"distance"),c=r()(i,"dealerInfo",n),m=r()(i,"vin"),u=r()(i,"prices.displayPrice"),p=r()(c,"displayInfo.salesOverallRating",r()(c,"salesRating",0)),h=r()(c,"displayInfo.salesReviewCount",r()(c,"salesReviewCount",0)),f=Object(y.l)(a);return l.a.createElement("div",null,l.a.createElement("div",{className:"text-gray-darker heading-4 font-weight-normal",id:f},c.name),l.a.createElement("div",{className:"small py-0_25"},l.a.createElement(Ge.a,{rating:p,className:"text-primary-darker mr-0_25"}),l.a.createElement("span",null,"(",h,")")),d>0&&l.a.createElement("div",{className:"small text-gray-dark"},d.toFixed(1)," miles away"),s&&!!u&&l.a.createElement("div",{className:"small text-gray-dark"},"Price: $",Object(De.c)(u)),t&&m&&l.a.createElement("div",{className:"small text-gray-dark"},"VIN: ",m))}Qe.propTypes={leadTarget:g.a.shape({inventory:g.a.shape({}),dealer:g.a.shape({}),leadAttributes:g.a.shape({primary:g.a.bool.isRequired,selected:g.a.bool.isRequired,distance:g.a.number}).isRequired}).isRequired,priceStrikethrough:g.a.bool,dealerNameClasses:g.a.string,vinClasses:g.a.string,priceCopyClasses:g.a.string,priceValueClasses:g.a.string},Qe.defaultProps={priceStrikethrough:!1,dealerNameClasses:"",vinClasses:"",priceCopyClasses:"",priceValueClasses:""},Je.propTypes={leadTarget:g.a.shape({inventory:g.a.shape({}),dealer:g.a.shape({}),leadAttributes:g.a.shape({primary:g.a.bool.isRequired,selected:g.a.bool.isRequired,distance:g.a.number}).isRequired}).isRequired,priceStrikethrough:g.a.bool},Je.defaultProps={priceStrikethrough:!1},Ze.propTypes={leadTarget:g.a.shape({inventory:g.a.shape({}),dealer:g.a.shape({}),leadAttributes:g.a.shape({primary:g.a.bool.isRequired,selected:g.a.bool.isRequired,distance:g.a.number}).isRequired}).isRequired,showVin:g.a.bool,showPrice:g.a.bool},Ze.defaultProps={showVin:!1,showPrice:!1};var Xe=t("./site-modules/shared/components/content-fragment/content-fragment.jsx");function ea(e){let a=e.leadTarget,t=e.inventoryText;const s=a.dealer,n=a.inventory,i=r()(n,"dealerInfo",s),o=r()(i,"displayInfo.salesOverallRating",r()(i,"salesRating",0)),d=r()(i,"displayInfo.salesReviewCount",r()(i,"salesReviewCount",0)),c=Object(y.l)(a),m=Object(y.k)(a)===b.f.INVENTORY;return l.a.createElement("div",{className:"dealer-list-item"},l.a.createElement("div",{className:"dealer-name medium text-gray-darker",id:c},i.name),!!d&&l.a.createElement("div",{className:"small"},l.a.createElement(Ge.a,{rating:o,className:"text-primary-darker mt-0_25"}),l.a.createElement("span",null,"(",d,")")),m&&!!t&&l.a.createElement(Xe.a,{classes:"inventory-text small font-italic text-gray-dark mt-0_25"},t))}function aa(e){let a=e.leadTarget,t=e.isMobile,s=e.inventoryText;const n=a.dealer,i=a.inventory,o=a.leadAttributes,d=r()(o,"distance"),c=r()(i,"dealerInfo",n),m=r()(c,"displayInfo.salesOverallRating",r()(c,"salesRating",0)),u=r()(c,"displayInfo.salesReviewCount",r()(c,"salesReviewCount",0)),p=Object(y.l)(a),h=Object(y.k)(a)===b.f.INVENTORY;return l.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},l.a.createElement("div",null,l.a.createElement("div",{className:"text-gray-darker heading-4 font-weight-normal",id:p},c.name),l.a.createElement("div",{className:"small mt-0_25"},l.a.createElement(Ge.a,{rating:m,className:"text-primary-darker mr-0_25"}),l.a.createElement("span",null,"(",u,")")),d>0&&l.a.createElement("div",{className:"small text-gray-dark mt-0_25"},d.toFixed(1)," miles away"),h&&t&&s&&l.a.createElement(Xe.a,{classes:"small mt-0_5"},s)),h&&!t&&s&&l.a.createElement(Xe.a,{classes:"small mr-0_5"},s))}ea.propTypes={leadTarget:g.a.shape({inventory:g.a.shape({}),dealer:g.a.shape({}),leadAttributes:g.a.shape({primary:g.a.bool.isRequired,selected:g.a.bool.isRequired,distance:g.a.number}).isRequired}).isRequired,inventoryText:g.a.string},ea.defaultProps={inventoryText:""},aa.propTypes={leadTarget:g.a.shape({inventory:g.a.shape({}),dealer:g.a.shape({}),leadAttributes:g.a.shape({primary:g.a.bool.isRequired,selected:g.a.bool.isRequired,distance:g.a.number}).isRequired}).isRequired,inventoryText:g.a.string,isMobile:g.a.bool},aa.defaultProps={inventoryText:"",isMobile:!1};const ta=Object(ve.c)(e=>({isMobile:e.mobile}))(aa);var sa=t("./site-modules/shared/components/car-buying/offer-type-table/offer-type-table.jsx"),na=t("./site-modules/shared/components/vdp-pricing-chart/vdp-pricing-chart.jsx");t.d(a,"d",function(){return ia}),t.d(a,"g",function(){return ra}),t.d(a,"i",function(){return oa}),t.d(a,"b",function(){return la}),t.d(a,"c",function(){return da}),t.d(a,"f",function(){return ca}),t.d(a,"h",function(){return ma}),t.d(a,"e",function(){return ua}),t.d(a,"a",function(){return pa});const ia={[b.d.BASE]:k,[b.d.MAD_LIBS]:A,[b.d.DIGITAL_RETAIL_OFFER_TYPE]:D,[b.d.MULTI_DIGITAL_RETAIL_OFFER_TYPE]:w,[b.d.TOP_EMBEDDED]:me,[b.d.PHOTOFLIPPER]:be},ra={[b.i.BASE]:L},oa={[b.j.BASE]:x,[b.j.TRANSPARENT_PRICING_PREPROD]:V,[b.j.TRANSPARENT_PRICING_PRICE_CHECKER]:F,[b.j.MULTI_DIGITAL_RETAIL_OFFER_TYPE]:R,[b.j.DEAL_CHECK_AVAILABILITY]:M,[b.j.SRP_PRICE_CHECKER]:U,[b.j.DEAL_CHECK_PRICE_CHECKER]:$},la={[b.c.BASE]:Pe,[b.c.EMBEDDED]:Ne,[b.c.VDP_EMBEDDED]:je,[b.c.PRICE_CHECKER]:Ie.a},da={[b.g.BASE]:_e},ca={[b.c.BASE]:Pe,[b.c.PRICE_CHECKER]:Oe.a,[b.c.PHOTOFLIPPER_VDP]:ke},ma={[b.g.BASE]:Ee.a},ua={[b.h.BASE]:Ae},pa={[b.a.INVENTORY]:qe,[b.a.DEALER]:ze,[b.a.DEALER_SIMPLE]:Ze,[b.a.DEALER_LIST]:ea,[b.a.DEALER_PRICE]:ta,[b.a.DEALER_VIN]:Qe,[b.a.DEALER_VIN_CHECK_AVAILABILITY]:Je,[b.a.DIGITAL_RETAIL_OFFER_TYPE_TABLE]:sa.a,[b.a.VDP_PRICING_CHART]:na.a}},"./site-modules/shared/constants/lead-form/validation.js":function(e,a,t){"use strict";t.d(a,"d",function(){return n}),t.d(a,"c",function(){return i}),t.d(a,"a",function(){return r}),t.d(a,"b",function(){return o});var s=t("./site-modules/shared/components/form-validation/validation.js");const n={firstName:{test:s.a.validateName,errorText:"Please enter a valid first name"},lastName:{test:s.a.validateName,errorText:"Please enter a valid last name"},email:{test:s.a.validateEmail,errorText:"Please enter a valid email address"},phone:{test:s.a.validatePhoneNumber,errorText:"Please enter a valid phone number"},style:{test:s.a.validateDigits,errorText:"Please select a style"},selectedLeadsEmpty:{test:s.a.validateValue,errorText:"Please select one or more dealerships."}},i="/uservalidation/v1/validatecontact?id=",r={pattern:"(999) 999-9999",toValue:!0},o=[{input:"firstName",selector:"#lead-form-fname"},{input:"lastName",selector:"#lead-form-lname"},{input:"email",selector:"#lead-form-email"},{input:"phone",selector:"#lead-form-phone"},{input:"selectedLeadsEmpty",selector:".ulf-inventory-card"}]},"./site-modules/shared/constants/sub-navigation.js":function(e,a,t){"use strict";t.d(a,"b",function(){return s}),t.d(a,"c",function(){return n}),t.d(a,"a",function(){return i});const s=300,n=-60,i=-225},"./site-modules/shared/pages/decorators/edmunds-empty.jsx":function(e,a,t){"use strict";t.d(a,"a",function(){return d});var s=t("../node_modules/react/index.js"),n=t.n(s),i=t("../node_modules/prop-types/index.js"),r=t.n(i),o=t("./site-modules/shared/components/error-boundary/error-boundary.jsx"),l=t("./site-modules/shared/pages/seo.jsx");t("./site-modules/shared/themes/dark-theme.scss");function d(e){return n.a.createElement(o.a,null,n.a.createElement("div",{className:"edm-page"},n.a.createElement(o.a,null,n.a.createElement(l.f,e)),n.a.createElement(o.a,null,e.children)))}d.propTypes={children:r.a.node.isRequired}},"./site-modules/shared/themes/dark-theme.scss":function(e,a,t){},"./site-modules/shared/utils/car-buying/drawer-utils.js":function(e,a,t){"use strict";t.d(a,"a",function(){return n});var s=t("./site-modules/shared/components/lead-form/unified-lead-form/constants/creative-ids.js");function n(e,a){return e?s.a.TED_ENTRY_USED_LOAN:a?s.a.TED_ENTRY_LEASE:s.a.TED_ENTRY_LOAN}},"./site-modules/shared/utils/car-buying/is-new-deal-check-available.js":function(e,a,t){"use strict";t.d(a,"a",function(){return o});var s=t("../node_modules/lodash/get.js"),n=t.n(s),i=t("./site-modules/shared/constants/inventory/lead-form.js"),r=t("./site-modules/shared/utils/inventory-utils/is-new.js");const o=e=>{const a=n()(e,"prices.displayPrice"),t=n()(e,"computedDisplayInfo.ctas",[]),s=n()(e,"computedDisplayInfo.priceValidation",{}),o=s.maxGreatPrice,l=s.maxGoodPrice,d=s.maxFairPrice,c=Object(r.a)(e.type)&&a&&t.length&&t.some(e=>e!==i.c.CALL_DEALER);return{available:!(!c||!(o&&l&&d)),partiallyAvailable:!(!c||!(o||l||d))}}},"./site-modules/shared/utils/car-buying/review-page-share-utils.js":function(e,a,t){"use strict";t.d(a,"b",function(){return U}),t.d(a,"a",function(){return B}),t.d(a,"c",function(){return Y}),t.d(a,"d",function(){return H}),t.d(a,"e",function(){return q});t("../node_modules/core-js/modules/es6.regexp.replace.js");var s=t("../node_modules/@babel/runtime/helpers/esm/toArray.js"),n=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),i=t("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=(t("../node_modules/core-js/modules/es6.regexp.split.js"),t("../node_modules/lodash/isEmpty.js")),o=t.n(r),l=t("../node_modules/lodash/pickBy.js"),d=t.n(l),c=t("../node_modules/lodash/find.js"),m=t.n(c),u=t("../node_modules/lodash/isNaN.js"),p=t.n(u),h=t("../node_modules/lodash/isNil.js"),f=t.n(h),g=t("../node_modules/lodash/isObject.js"),b=t.n(g),y=t("../node_modules/lodash/isFinite.js"),_=t.n(y),E=t("../node_modules/lodash/get.js"),v=t.n(E),C=t("../node_modules/dateformat/lib/dateformat.js"),T=t.n(C),N=t("./data/models/calculators.js"),j=t("./utils/history/venom-history.js"),I=t("./site-modules/shared/utils/price-utils.js"),O=t("./site-modules/shared/utils/car-buying/vehicle-util.js"),k=t("./site-modules/shared/utils/calculator/calculator-helper.js"),P=t("./site-modules/shared/utils/car-buying/calculator-util.js"),x=t("./site-modules/shared/utils/show-trim-name.js"),S=t("./site-modules/shared/utils/car-buying/cbp-link-util.js"),L=t("./utils/environment.js"),A=t("./site-modules/shared/constants/index.js"),D=t("./site-modules/shared/constants/calculator/calculator.js"),w=t("./site-modules/shared/constants/car-buying/steps.js"),R=t("./site-modules/shared/constants/car-buying/index.js");const M={},V=(e,a,t,s)=>Object.keys(e).filter(a=>s(e[a])).map(t=>`${t}${a}${e[t]}`).join(t),F=(e,a)=>e.split(",").map(e=>e.split("~")).filter(e=>a(e)),U=(e,a,t)=>{e.tradeInLimitDescription;const s=e.appraisalVehicle,r=(e.tradeInEquityDescription,Object(i.a)(e,["tradeInLimitDescription","appraisalVehicle","tradeInEquityDescription"]));return Object(n.a)({},r,{appraisalVehicle:s?encodeURIComponent(s):"",limitPercentage:v()(a,"limitPercentage"),tradeInAppliedAmount:v()(m()(v()(a,"limits"),{paymentType:D.ab}),"appliedAmount"),pubState:t})},$=(e,a)=>{const t=e.monthlyPayment,s=e.dueAtSigning,n=e.totalRebate,i=e.sellingPrice,r=e.term,o=e.downPayment,l=e.annualMileage,d=e.apr,c=e.paymentWithoutTaxes.baseMonthlyPayment,m=e.paymentWithTaxes,u=e.endDateEpochMillis,p=e.residual,h=e.incentives,f=e.moneyFactor,g=e.docFee,b=e.tradeIn,y=v()(m,"capitalizedFees",{}),_=v()(m,"amountFinanced"),E={};E.paymentWithTaxes=m,E.monthlyPayment=t,E.dueAtSigning=s,E.totalRebate=n,E.sellingPrice=i,E.term=r,E.downPayment=o,E.annualMileage=l,E.apr=d,E.baseMonthlyPayment=c,E.residual=p,E.incentives=h,E.endDateEpochMillis=u,E.moneyFactor=f,E.docFee=g,E.msrp=a,E.tradeIn=b;const C=a-i;E.marketAdjustment=C,E.totalSavings=n+C,E.estimatedPurchasePrice=i-n,E.amountFinanced=_;const T=y.dealerFee,N=y.acquisitionFee;return E.residualValue=a*p,E.acquisitionFee=N,E.dealerFee=T,E.capitalizedFees=v()(m,"capitalizedFees",{}),E.capitalizedTaxes=v()(m,"capitalizedTaxes",{}),E},B=(e,a,t,s,n)=>{if(!a||!t||!t.dealerData)return"";const i=(e=>{const a={},t=e.vehicleInfo,s=t.styleInfo,n=t.partsInfo,i=t.vehicleColors,r=e.prices,o=i.exterior,l=i.interior,d=s.year,c=s.make,m=s.model,u=s.trim,p=n.standardFacets,h=void 0===p?[]:p,f=n.optionDescriptions,g=void 0===f?[]:f,b=n.options,y=void 0===b?[]:b,_=n.engineSize,E=n.cylinders,C=[...Object(O.c)(g),...h].filter(e=>!!e);a.styleLine1=`${d} ${c} ${m} ${Object(x.a)(u)?u:""}`,a.year=d,a.make=c,a.model=m,a.trim=u,a.exteriorColor=o.name,a.interiorColor=l.name,a.msrp=v()(r,"displayPrice"),a.options=y,a.featuresAndSpecs=C,a.engineSize=_,a.engineCylinder=E;const T=v()(s,"fuel.epaCityMPG",A.f),N=v()(s,"fuel.epaHighwayMPG",A.f);return a.mpgCity=T,a.mpgHighway=N,a.styleMPG=`${T} city / ${N} hwy`,a.styleLine2=`${_}-Liter ${E}-Cylinder`,a})(e),r=$(a,i.msrp),o=t.dealerData,l=o.name,d=o.phone,c=o.city,m=o.stateCode;let u=`Here is my ${n?"deal":"Edmunds Deal"} for my ${i.year} ${i.make} ${i.model} ${Object(x.a)(i.trim)?i.trim:""} with ${i.exteriorColor} exterior and interior ${i.interiorColor}:\n\n`;return l&&(u+=`Dealer: ${l}`,c&&m?u+=` (${c}, ${m})\n`:u=`${u}\n`),d&&(u+=`Contact: ${d}\n\n`),s?((e,a)=>{let t=a;return _()(e.monthlyPayment)&&(t+=`Loan Payment: ${Object(I.a)(e.monthlyPayment)}/mo*\n`),_()(e.downPayment)&&(t+=`Down Payment: ${Object(I.a)(e.downPayment)}*\n`),_()(e.msrp)&&(t+=`\nMSRP: ${Object(I.a)(e.msrp)}\n`),_()(e.totalSavings)&&(t+=`Edmunds' Estimated Savings: -${Object(I.a)(e.totalSavings)}\n`),_()(e.term)&&(t+=`\nTerm: ${e.term} months\n`),_()(e.tradeIn)&&(t+=`Trade-In: ${Object(I.a)(e.tradeIn)}\n`),_()(e.baseMonthlyPayment)&&(t+=`Est. Base Payment: ${Object(I.a)(e.baseMonthlyPayment)}/mo\n`),e.capitalizedTaxes&&_()(e.capitalizedTaxes.combinedSalesTax)&&(t+=`\nTaxes: ${Object(I.a)(e.capitalizedTaxes.combinedSalesTax)}\n`),e.capitalizedFees&&_()(e.capitalizedFees.combinedFees)&&(t+=`Fees: ${Object(I.a)(e.capitalizedFees.combinedFees)}\n`),_()(e.apr)&&_()(e.term)&&(t+=`APR: ${e.apr.toFixed(1)}% for ${e.term} mo\n`),e.endDateEpochMillis&&(t+=`\n*Estimates valid through ${T()(e.endDateEpochMillis,"mm/dd/yyyy")}.\n`),`${t}\n`})(r,u):((e,a)=>{let t=a;return _()(e.monthlyPayment)&&(t+=`Est. Lease Payment: ${Object(I.a)(e.monthlyPayment)}/mo*\n`),_()(e.dueAtSigning)&&(t+=`Est. Due at signing: ${Object(I.a)(e.dueAtSigning)}*\n`),_()(e.msrp)&&(t+=`\nMSRP: ${Object(I.a)(e.msrp)}\n`),_()(e.totalSavings)&&(t+=`Edmunds' Estimated Savings: -${Object(I.a)(e.totalSavings)}\n`),_()(e.estimatedPurchasePrice)&&(t+=`Est. Purchase Price: ${Object(I.a)(e.estimatedPurchasePrice)}\n`),_()(e.term)&&(t+=`\nTerm: ${e.term} months\n`),_()(e.annualMileage)&&(t+=`Annual Mileage: ${e.annualMileage}\n`),_()(e.tradeIn)&&(t+=`Trade-In: ${Object(I.a)(e.tradeIn)}\n`),_()(e.downPayment)&&(t+=`Down Payment: ${Object(I.a)(e.downPayment)}\n`),_()(e.baseMonthlyPayment)&&(t+=`Est. Base Payment: ${Object(I.a)(e.baseMonthlyPayment)}/mo\n`),e.capitalizedTaxes&&_()(e.capitalizedTaxes.combinedSalesTax)&&(t+=`\nTaxes: ${Object(I.a)(e.capitalizedTaxes.combinedSalesTax)}\n`),e.capitalizedFees&&_()(e.capitalizedFees.combinedFees)&&(t+=`Fees: ${Object(I.a)(e.capitalizedFees.combinedFees)}\n`),_()(e.apr)&&_()(e.term)&&(t+=`APR: ${e.apr.toFixed(1)}% for ${e.term} mo\n`),_()(e.residualValue)&&(t+=`Residual Value: ${Object(I.a)(e.residualValue)}\n`),_()(e.amountFinanced)&&(t+=`Est. Amount Financed: ${Object(I.a)(e.amountFinanced)}\n`),e.endDateEpochMillis&&(t+=`\n*Estimates valid through ${T()(e.endDateEpochMillis,"mm/dd/yyyy")}.\n`),`${t}\n`})(r,u)},Y=function(e,a,t,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:M,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:M;if(!a||!t)return null;const o=v()(e,"prices.displayPrice"),l=$(a,o),d=l.incentives?l.incentives.map(e=>encodeURIComponent(`${e.programName}~${e.cash}~${e.expirationDate}`)).join(","):"",c={apr:l.apr},m={annualMileage:l.annualMileage,moneyFactor:l.moneyFactor,residual:l.residual,endDateEpochMillis:l.endDateEpochMillis,acquisitionFee:l.acquisitionFee},u={capitalizedFees:l.capitalizedFees?V(l.capitalizedFees,"~",",",_.a):"",capitalizedTaxes:l.capitalizedTaxes?V(l.capitalizedTaxes,"~",",",_.a):""},p=Object(n.a)({monthlyPayment:l.monthlyPayment,dueAtSigning:l.dueAtSigning,msrp:o,totalSavings:l.totalSavings,incentives:d,marketAdjustment:l.marketAdjustment,purchasePrice:l.sellingPrice-l.totalRebate,term:l.term,downPayment:l.downPayment,baseMonthlyPayment:l.baseMonthlyPayment,amountFinanced:l.amountFinanced,zipCode:t,tradeInDetails:V(i,"~",",",e=>!f()(e)),tradeIn:l.tradeIn,dealerFee:l.dealerFee},u,s?c:m,r);return V(p,"=","&",e=>!b()(e)&&(_()(e)||e))},H=(e,a)=>{const t={};t.monthlyPayment=Number(e.monthlyPayment),t.dueAtSigning=Number(e.dueAtSigning),t.msrp=Number(e.msrp),t.totalSavings=Number(e.totalSavings),t.marketAdjustment=Number(e.marketAdjustment),t.purchasePrice=Number(e.purchasePrice),t.term=Number(e.term),t.downPayment=Number(e.downPayment),t.baseMonthlyPayment=Number(e.baseMonthlyPayment),t.amountFinanced=Number(e.amountFinanced),t.zipCode=e.zipCode,t.acquisitionFee=Number(e.acquisitionFee),t.dealerFee=Number(e.dealerFee),e.creditScore&&(t.creditScore=Number(e.creditScore)),t.tradeIn=Number(e.tradeIn);const s=e=>2===e.length,n=e=>3===e.length;let i=[];e.incentives&&(i=F(e.incentives,n).map((e,a)=>({programName:e[0],cash:Number(e[1]),expirationDate:Number(e[2]),incentiveId:a,programId:`${a}`}))),t.incentives=i,e.tradeInDetails&&(t.tradeInDetails=(e=>{const a=e.limitPercentage,t=e.tradeInAppliedAmount,s=e.pubState,n=e.appraisalValue,i=e.amountOwed,r=e.appraisalVehicle,o=e.appliedTradeInEquity,l=e.tradeInEquity;let d="",c="";return r&&(d=decodeURIComponent(r),c=Object(P.o)(n-i,D.xb)),{appraisalValue:Number(n)||0,amountOwed:Number(i)||0,appraisalVehicle:d,tradeInLimitDescription:t?`${D.a} ${Object(k.i)({limitPercentage:a,limits:[{paymentType:D.ab,appliedAmount:Number(t)}]},s).tradeInValidationError}`:D.a,tradeInEquityDescription:c,appliedTradeInEquity:Number(o)||0,tradeInEquity:Number(l)||0}})(F(e.tradeInDetails,s).reduce((e,a)=>Object.assign(e,{[a[0]]:a[1]}),{}))),t.apr=Number(e.apr);const r={};return e.capitalizedFees&&(r.capitalizedFees=F(e.capitalizedFees,s).reduce((e,a)=>Object.assign(e,{[a[0]]:Number(a[1])}),{})),e.capitalizedTaxes&&(r.capitalizedTaxes=e.capitalizedTaxes,r.capitalizedTaxes=F(e.capitalizedTaxes,s).reduce((e,a)=>Object.assign(e,{[a[0]]:Number(a[1])}),{})),t.paymentWithTaxes=r,a||(t.annualMileage=Number(e.annualMileage),t.moneyFactor=Number(e.moneyFactor),t.residual=Number(e.residual||e.residualPerc),t.endDateEpochMillis=Number(e.endDateEpochMillis)),t.redirect=e[R.x.REDIRECT],t.smsTarget=e[R.x.TARGET],t};async function q(e){let a=e.redirectTo,t=e.vin,i=e.data,r=e.setModelValue,l=e.isPurchase;if(Object(L.c)())return;const c=i.term,m=i.downPayment,u=i.tradeIn,h=i.tradeInDetails,g=void 0===h?{}:h,b=g.appraisalValue,y=g.amountOwed,_=g.appraisalVehicle,E=i.creditScore,v=i.annualMileage,C=i.smsTarget;let T,I,O;if(_){var k=_.split(" "),P=Object(s.a)(k);O=P[0],T=P[1],I=(I=P.slice(2)).join(" ")}const x={term:c,creditScore:E},A={appraisalValue:b,tradeIn:u,downPayment:m,amountOwed:y,make:T,model:I,year:O},D=d()(Object(n.a)({},A,{annualMileage:v},!l&&x),e=>!f()(e)&&!p()(e)),M=d()(Object(n.a)({},A,l&&x),e=>!f()(e)&&!p()(e));o()(D)||await r(N.a.CALCULATOR_LEASE_SELECTIONS,N.c,D),o()(M)||await r(N.a.CALCULATOR_LOAN_SELECTIONS,N.c,M);let V="/";a.includes(w.b)&&(V=Object(S.a)(t,!l,w.b,Object(n.a)({[R.x.REDIRECTED]:!0},C&&{[R.x.TARGET]:C}))),j.b.replace(V)}},"./site-modules/shared/utils/car-buying/sms.js":function(e,a,t){"use strict";t.d(a,"b",function(){return _}),t.d(a,"a",function(){return E});var s=t("../node_modules/lodash/sortBy.js"),n=t.n(s),i=t("../node_modules/lodash/get.js"),r=t.n(i),o=t("./site-modules/shared/utils/car-buying/review-page-share-utils.js"),l=t("./site-modules/shared/utils/car-buying/calculator-util.js"),d=t("./site-modules/shared/utils/inventory-utils/is-new.js"),c=t("./utils/event-toolbox.js"),m=t("./site-modules/shared/constants/car-buying/index.js"),u=t("./site-modules/shared/constants/car-buying/steps.js"),p=t("./tracking/constant.js"),h=t("./data/api/api-client.js");const f=m.x.REDIRECT,g=m.x.TARGET;async function b(e){let a=e.vin,t=e.phoneNumber,s=e.isPurchase,n=void 0!==s&&s,i=e.params,r=void 0===i?"":i;const o=n?m.t:m.o,l=`${window.location.origin}/digital-retail/my-edmunds-deal/${a}/?${o}&${r}`;await function(e){let a=e.to,t=e.url,s=e.ttl,n=e.messageType;return h.g.fetchJson("/sms/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageType:n,to:a,shortUrl:{url:t,ttl:s}})})}({to:t,url:l,ttl:"30d",messageType:"TED"}),c.a.fireTrackAction({event_type:p.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_name:p.b.ACTION_SHARE_CONTENT,subaction_name:p.b.SEND_TO_PHONE,action_category:p.b.USER_ACTION_CATEGORY,action_cause:p.b.ACTION_CAUSE_BUTTON_CLICK,creative_id:p.b.SEND_TO_PHONE,value:"Compare Dealer's Best Prices"}})}function y(e){const a=e.filter(e=>!(!r()(e,"inventory.vin")||!Object(d.a)(r()(e,"inventory.type")))).map(e=>{let a=e.inventory,t=e.leadAttributes;return{vin:a.vin,distance:t.distance}});return a.length?a:null}async function _(e){let a=e.additionalData,t=a.selections,s=a.deals,n=a.vehicle,i=a.zipCode,r=a.isPurchase,d=e.personalInfo;const c=n.type,m=s[0].dealOffer,p=m.limitCriteria,h=m.tradeIn,y=Object(o.b)(Object(l.n)({selections:t,appliedTradeIn:h,limitCriteria:p,pubState:c}),p,c),_=Object(o.c)(n,m,i,r,y,{[f]:u.b,[g]:"lead",creditScore:t.creditScore,tradeIn:t.tradeIn});await b({vin:n.vin,phoneNumber:d.phone,isPurchase:r,params:_})}const E=e=>{let a=e.vin,t=e.target;return async e=>{let s=e.leadTargets,i=void 0===s?[]:s,o=e.selectedLeadTargets,l=void 0===o?[]:o,d=e.personalInfo;const c=a||r()(n()(y(l)||y(i),"distance"),"[0].vin");c&&await b({vin:c,phoneNumber:d.phone,isPurchase:!0,params:`${f}=${u.b}&${g}=${t}`})}}},"./site-modules/shared/utils/cpo-helper.js":function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"c",function(){return i}),t.d(a,"b",function(){return r});t("../node_modules/lodash/get.js"),t("./site-modules/shared/utils/feature-flags.js");var s=t("./site-modules/shared/constants/cpo-constants.js");const n="cpo-demo";function i(e){return`/${e}/certified-program`}function r(e){const a=!!e&&e.metadata("content").value();if(!a)return null;const t=[];if(t.push(a),e.hasChild(s.c)){const a=e.child(s.c).metadata("content").value();a&&t.push(a)}return t}},"./site-modules/shared/utils/esp.js":function(e,a,t){"use strict";t.d(a,"a",function(){return r}),t.d(a,"b",function(){return o});var s=t("../node_modules/dateformat/lib/dateformat.js"),n=t.n(s),i=t("./site-modules/shared/utils/date-utils.js");function r(){const e=Object(i.d)(),a=e<4?-14:-7,t=1-e,s=Object(i.a)(a+t);return n()(s,"mmmm dS")}function o(){return`Based on nearby sales up through ${r()}`}},"./site-modules/shared/utils/get-cab-type.js":function(e,a,t){"use strict";t.d(a,"a",function(){return i});t("../node_modules/core-js/modules/es6.regexp.replace.js");var s=t("../node_modules/lodash/get.js"),n=t.n(s);function i(e){let a="";const t="Pickup"===n()(e,"bodyType",""),s=n()(e,"manufacturerCabType",""),i=n()(e,"vehicleStyle","");if(t){const e=i&&i.replace(/(pickup)$/i,"").trim();a=s||e}return a}},"./site-modules/shared/utils/incentives.js":function(e,a,t){"use strict";t.d(a,"c",function(){return o}),t.d(a,"b",function(){return l}),t.d(a,"a",function(){return d});var s=t("../node_modules/lodash/get.js"),n=t.n(s),i=t("../node_modules/lodash/uniqWith.js"),r=t.n(i);function o(e,a){return e&&"UNKNOWN"!==e?e:a}function l(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort((e,a)=>n()(e,"apr",0)-n()(a,"apr",0)).sort((e,a)=>e.endDate-a.endDate);return{sortedIncentives:e,displayIncentives:r()(e,(e,a)=>e.sourceTypeValue===a.sourceTypeValue&&e.subprogramId===a.subprogramId)}}function d(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort((e,a)=>new Date(e.endDate)-new Date(a.endDate))}},"./site-modules/shared/utils/inventory-utils/get-urgency-message.js":function(e,a,t){"use strict";t.d(a,"a",function(){return l}),t.d(a,"c",function(){return c}),t.d(a,"b",function(){return m}),t.d(a,"d",function(){return u});var s=t("../node_modules/lodash/inRange.js"),n=t.n(s),i=t("../node_modules/lodash/isNumber.js"),r=t.n(i),o=t("./utils/plural.js");const l={SELL_IN_DAYS:e=>`This car is likely to sell in ${e} ${Object(o.b)("day",e)}`,SELL_ANY_DAY:"This car is likely to sell any day now",ASK_FOR_PRICE:"Ask for dealer\u2019s best price via email"},d={FROM:-14,TO:15,DEAL_CHECK_MAX:76,PRICE_SUMMARY_MAX:31,FIRST:1};function c(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!r()(e)||e<d.FROM?a:e>0?e<d.PRICE_SUMMARY_MAX?l.SELL_IN_DAYS(e):a:e<=0&&l.SELL_ANY_DAY}function m(e){if(!r()(e)||e>=d.DEAL_CHECK_MAX)return l.ASK_FOR_PRICE;switch(!0){case n()(e,d.FIRST,d.DEAL_CHECK_MAX):return l.SELL_IN_DAYS(e);case n()(e,d.FROM,d.FIRST):return l.SELL_ANY_DAY;default:return l.ASK_FOR_PRICE}}function u(e){return r()(e)&&n()(e,d.FROM,d.TO)}},"./site-modules/shared/utils/inventory-utils/is-cpo.js":function(e,a,t){"use strict";t.d(a,"a",function(){return n});var s=t("./constants/inventory-types.js");function n(e){return e.toUpperCase()===s.a.CPO}},"./site-modules/shared/utils/inventory-utils/is-texas.js":function(e,a,t){"use strict";function s(e){return"TX"===e}t.d(a,"a",function(){return s})},"./site-modules/shared/utils/inventory/tracking.js":function(e,a,t){"use strict";t.d(a,"a",function(){return i}),t.d(a,"b",function(){return r}),t.d(a,"c",function(){return o});var s=t("./tracking/constant.js"),n=t("./utils/event-toolbox.js");function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{"data-tracking-id":s.b.ACTION_INVENTORY_SEARCH_FILTER,"data-tracking-value":e}}function r(){return{"data-tracking-id":s.b.ACTION_INVENTORY_SEARCH_FILTER}}function o(e,a){n.a.fireTrackAction({event_type:s.b.EVENT_TYPE_ACTION_COMPLETED,event_data:{action_category:s.b.SYSTEM_ACTION_CATEGORY,action_name:s.b.ACTION_SHOW_CONTENT,action_cause:s.b.PAGE_LOAD_CAUSE,subaction_name:e,value:a}})}},"./site-modules/shared/utils/lead-form/tags.js":function(e,a,t){"use strict";t.d(a,"b",function(){return s}),t.d(a,"a",function(){return n});const s=e=>{let a=e.isPurchase,t=e.willSendCreditReport,s=e.isCreditApproved;const n=["#digital_retail"];return a?(n.push("#cbp-loan"),t&&n.push(s?"#credit_prequalified":"#credit_not_qualified")):n.push("#cbp-lease"),n},n=function(){let e=["#cbp","#dealcheckprice"];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isPromo&&(e=[...e,"#dealcheckpromo"]),e}},"./tracking/event.js":function(e,a,t){"use strict";t.d(a,"a",function(){return n});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js");const n={trackAction:(e,a,t,n)=>({event_type:e,event_data:Object(s.a)({action_name:a,subaction_name:t,action_category:"user"},n)}),actionCompleted(e,a,t){return this.trackAction("action_completed",e,a,t)},actionStart(e,a,t){return this.trackAction("action_start",e,a,t)},actionProgress(e,a,t){return this.trackAction("action_progress",e,a,t)},actionEnd(e,a,t){return this.trackAction("action_end",e,a,t)}}},"./tracking/maps/helper.js":function(e,a,t){"use strict";t.d(a,"a",function(){return i});var s=t("../node_modules/lodash/get.js"),n=t.n(s);const i={getBasicDealerOptions(e,a){let t,s,i;e&&e.currentEl&&(t=e.currentEl.getAttribute("data-dealer-franchise-id"),s=e.currentEl.getAttribute("data-dealer-rooftop-id")),t||(t=n()(e,"state.inventory.dealer.franchiseId")),s||(s=n()(e,"state.inventory.dealer.rooftopId"));const r={loc_id:s,f_id:t};return a&&(i=e.currentEl.getAttribute("data-inventory-id"),r.inv_id=i),t&&e.setPartnerId&&(r.partner_id=t),r},getSubactionName:e=>e&&e.currentEl&&e.currentEl.getAttribute("data-subaction-name")||""}},"./tracking/maps/lead-form/index.js":function(e,a,t){"use strict";t.d(a,"a",function(){return l}),t.d(a,"b",function(){return d});var s=t("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),n=t("./tracking/event.js"),i=t("./tracking/constant.js"),r=t("./tracking/maps/helper.js");const o={select_dealer:n.a.actionProgress(i.b.ACTION_LEAD_SUBMISSION,i.b.ACTION_SELECT_DEALERSHIP),unselect_dealer:n.a.actionProgress(i.b.ACTION_LEAD_SUBMISSION,i.b.ACTION_UNSELECT_DEALERSHIP),ulf_call_dealer:e=>n.a.actionCompleted(i.b.ACTION_DEALER_ENGAGEMENT,i.b.CALL_DEALER,r.a.getBasicDealerOptions(e)),expand_lead_form:n.a.actionProgress(i.b.ACTION_LEAD_SUBMISSION,i.b.EXPAND_LEAD_FORM),reviews_specs:n.a.actionCompleted(i.b.ACTION_VIEW_CONTENT,i.b.REVIEW_SPECS),lead_form_view_vin_details:e=>n.a.actionCompleted(i.b.ACTION_VIEW_VIN_DETAILS,i.b.ACTION_VIEW_VIN_DETAILS,r.a.getBasicDealerOptions(e)),lead_form_color_view_search_result:n.a.actionCompleted(i.b.VIEW_SEARCH_RESULT,i.b.FILTER_SEARCH_RESULT),lead_form_comments_expand:n.a.actionCompleted(i.b.ACTION_LEAD_SUBMISSION,i.b.EXPOSE_COMMENTS),lead_form_comments_collapse:{},lead_form_subject_select:n.a.actionCompleted(i.b.ACTION_LEAD_SUBMISSION,i.b.SUBJECT_SELECT),next_user_info_click:n.a.actionCompleted(i.b.VIEW_PRICING_DETAILS,i.b.NEXT_BUTTON),lead_form_widget_view:n.a.actionCompleted(i.b.ACTION_WIDGET_VIEW,i.b.ACTION_WIDGET_VIEW),lead_form_go_to_price_checker:n.a.actionCompleted(i.b.ACTION_TOOL_SELECT,i.b.GO_TO_PRICE_CHECKER),lead_form_go_to_msrp:n.a.actionCompleted(i.b.ACTION_TOOL_SELECT,i.b.GO_TO_MSRP),show_days_to_sell_urgent:e=>n.a.actionCompleted(i.b.ACTION_SHOW_CONTENT,i.b.SHOW_DAYS_TO_SELL_URGENT,e),show_days_to_sell:e=>n.a.actionCompleted(i.b.ACTION_SHOW_CONTENT,i.b.SHOW_DAYS_TO_SELL,e),final_offer_click:n.a.actionCompleted(i.b.ACTION_VIEW_PRICING_DETAILS,i.b.OFFER_BUTTON),view_invoice_description_expand:n.a.actionCompleted(i.b.ACTION_VIEW_CONTENT,"view_invoice_price_full_description"),pc_video_link:n.a.actionCompleted(i.b.ACTION_VIEW_CONTENT,"video_link")},l=Object(s.a)({},o),d={leadForm:"_lead_form",thankYou:"_thank_you",thankYouLeadForm:"_thank_you_lead_form"}},"./utils/parse-vehicle-for-action.js":function(e,a,t){"use strict";t.d(a,"a",function(){return r});var s=t("../node_modules/lodash/get.js"),n=t.n(s),i=t("./site-modules/shared/utils/publication-states.js");const r=e=>{const a=Object(i.c)(e.publicationState),t=n()(e,"submodels.name",""),s=n()(e,"submodels.slug","");return{make:{id:n()(e,"make.id"),name:e.makeName,niceName:e.makeSlug,adTargetId:n()(e,"make.adTargetId")},model:{modelLinkCode:n()(e,"model.modelLinkCode"),name:e.modelName,niceName:e.modelSlug,adTargetId:n()(e,"model.adTargetId")},modelYear:{id:n()(e,"modelYearId"),year:e.year},subModel:{name:t,niceName:s,adTargetId:n()(e,"submodels.adTargetId")},publicationState:a?a.toLowerCase():"new",style:{id:e.id}}}}}]);
//# sourceMappingURL=unified-lead-form.chunk.e1c7eeffa14d1d4a98d6.js.map